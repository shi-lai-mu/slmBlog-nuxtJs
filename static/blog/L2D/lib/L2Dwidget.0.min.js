/*! https://github.com/xiazeyu/live2d-widget.js built@2018-2-15 23:35:19 */
webpackJsonpL2Dwidget([0], {
  131(t, i, e) {
    'use strict'
    Object.defineProperty(i, '__esModule', { value: !0 }), (i.captureFrame = i.theRealInit = void 0)
    const r = e(51)
    const o = e(135)
    const n = e(132)
    const s = e(133)
    const _ = e(139)
    const a = e(136)
    const h = e(134)
    const $ = new _.cManager()
    let l = void 0
    let u = !1
    let p = null
    let c = null
    let f = null
    let g = null
    let y = !1
    const d = 0.5
    function m(t, i, e) {
      if (i.x < e.left + e.width && i.y < e.top + e.height && i.x > e.left && i.y > e.top) return i
      const r = t.x - i.x
      const o = t.y - i.y
      function n(t, i) {
        return (
          (180 *
            Math.acos(
              ((e = { x: 0, y: 1 }),
              (r = (function (t, i) {
                const e = Math.sqrt(t * t + i * i)
                return { x: t / e, y: i / e }
              })(t, i)),
              e.x * r.x + e.y * r.y)
            )) /
          Math.PI
        )
        let e, r
      }
      let s = n(r, o)
      i.x < t.x && (s = 360 - s)
      const _ = 360 - n(e.left - t.x, -1 * (e.top - t.y))
      const a = 360 - n(e.left - t.x, -1 * (e.top + e.height - t.y))
      const h = n(e.left + e.width - t.x, -1 * (e.top - t.y))
      const $ = n(e.left + e.width - t.x, -1 * (e.top + e.height - t.y))
      const l = o / r
      let u = {}
      if (s < h) {
        const p = e.top - t.y
        const c = p / l
        u = { y: t.y + p, x: t.x + c }
      } else if (s < $) {
        const f = e.left + e.width - t.x
        const g = f * l
        u = { y: t.y + g, x: t.x + f }
      } else if (s < a) {
        const y = e.top + e.height - t.y
        const d = y / l
        u = { y: t.y + y, x: t.x + d }
      } else if (s < _) {
        const m = t.x - e.left
        const T = m * l
        u = { y: t.y - T, x: t.x - m }
      } else {
        const P = e.top - t.y
        const S = P / l
        u = { y: t.y + P, x: t.x + S }
      }
      return u
    }
    function T(t) {
      y = !0
      const i = o.currCanvas.getBoundingClientRect()
      const e = E(t.clientX - i.left)
      const r = A(t.clientY - i.top)
      const n = m(
        { x: i.left + i.width / 2, y: i.top + i.height * d },
        { x: t.clientX, y: t.clientY },
        i
      )
      const s = L(n.x - i.left)
      const _ = M(n.y - i.top)
      h.cDefine.DEBUG_MOUSE_LOG &&
        console.log(
          'modelTapEvent onMouseDown device( x:' +
            t.clientX +
            ' y:' +
            t.clientY +
            ' ) view( x:' +
            s +
            ' y:' +
            _ +
            ')'
        ),
        e,
        r,
        $.tapEvent(s, _)
    }
    function P() {
      y && (y = !1), p.setPoint(0, 0)
    }
    function S(t) {
      if (t.type == 'mousedown') T(t)
      else if (t.type == 'mousemove')
        !(function (t) {
          y = !0
          const i = o.currCanvas.getBoundingClientRect()
          const e = E(t.clientX - i.left)
          const r = A(t.clientY - i.top)
          const n = m(
            { x: i.left + i.width / 2, y: i.top + i.height * d },
            { x: t.clientX, y: t.clientY },
            i
          )
          const s = L(n.x - i.left)
          const _ = M(n.y - i.top)
          h.cDefine.DEBUG_MOUSE_LOG &&
            console.log(
              'modelTurnHead onMouseMove device( x:' +
                t.clientX +
                ' y:' +
                t.clientY +
                ' ) view( x:' +
                s +
                ' y:' +
                _ +
                ')'
            ),
            e,
            r,
            p.setPoint(s, _)
        })(t)
      else if (t.type == 'mouseup') {
        if ('button' in t && t.button != 0) return
      } else t.type == 'mouseleave' && P()
    }
    function v(t) {
      const i = t.touches[0]
      t.type == 'touchstart'
        ? t.touches.length == 1 && T(i)
        : t.type == 'touchmove'
        ? (function (t) {
            const i = o.currCanvas.getBoundingClientRect()
            const e = E(t.clientX - i.left)
            const r = A(t.clientY - i.top)
            const n = m(
              { x: i.left + i.width / 2, y: i.top + i.height * d },
              { x: t.clientX, y: t.clientY },
              i
            )
            const s = L(n.x - i.left)
            const _ = M(n.y - i.top)
            h.cDefine.DEBUG_MOUSE_LOG &&
              console.log(
                'followPointer onMouseMove device( x:' +
                  t.clientX +
                  ' y:' +
                  t.clientY +
                  ' ) view( x:' +
                  s +
                  ' y:' +
                  _ +
                  ')'
              ),
              y && (e, r, p.setPoint(s, _))
          })(i)
        : t.type == 'touchend' && P()
    }
    function L(t) {
      const i = g.transformX(t)
      return c.invertTransformX(i)
    }
    function M(t) {
      const i = g.transformY(t)
      return c.invertTransformY(i)
    }
    function E(t) {
      return g.transformX(t)
    }
    function A(t) {
      return g.transformY(t)
    }
    ;(i.theRealInit = function () {
      ;(0, o.createElement)(),
        o.currCanvas.addEventListener &&
          (window.addEventListener('click', S),
          window.addEventListener('mousedown', S),
          window.addEventListener('mousemove', S),
          window.addEventListener('mouseup', S),
          document.addEventListener('mouseleave', S),
          window.addEventListener('touchstart', v),
          window.addEventListener('touchend', v),
          window.addEventListener('touchmove', v)),
        (p = new s.L2DTargetPoint())
      const t = o.currCanvas.height / o.currCanvas.width
      const i = h.cDefine.VIEW_LOGICAL_LEFT
      const e = h.cDefine.VIEW_LOGICAL_RIGHT
      const _ = -t
      const y = t
      ;(c = new s.L2DViewMatrix()).setScreenRect(i, e, _, y),
        c.setMaxScreenRect(
          h.cDefine.VIEW_LOGICAL_MAX_LEFT,
          h.cDefine.VIEW_LOGICAL_MAX_RIGHT,
          h.cDefine.VIEW_LOGICAL_MAX_BOTTOM,
          h.cDefine.VIEW_LOGICAL_MAX_TOP
        ),
        (f = new s.L2DMatrix44()).multScale(1, o.currCanvas.width / o.currCanvas.height),
        (g = new s.L2DMatrix44()).multTranslate(-o.currCanvas.width / 2, -o.currCanvas.height / 2),
        g.multScale(2 / o.currCanvas.width, -2 / o.currCanvas.height),
        n.Live2D.setGL(o.currWebGL),
        o.currWebGL.clearColor(0, 0, 0, 0),
        (d = r.config.model.jsonPath),
        ($.reloadFlg = !0),
        $.count++,
        $.changeModel(o.currWebGL, d)
      let d
      u ||
        ((u = !0),
        (function t() {
          !(function () {
            a.MatrixStack.reset(),
              a.MatrixStack.loadIdentity(),
              p.update(),
              $.setDrag(p.getX(), p.getY()),
              o.currWebGL.clear(o.currWebGL.COLOR_BUFFER_BIT),
              a.MatrixStack.multMatrix(f.getArray()),
              a.MatrixStack.multMatrix(c.getArray()),
              a.MatrixStack.push()
            for (let t = 0; t < $.numModels(); t++) {
              const i = $.getModel(t)
              if (i == null) return
              i.initialized && !i.updating && (i.update(), i.draw(o.currWebGL))
            }
            a.MatrixStack.pop()
          })()
          const i =
            window.requestAnimationFrame ||
            window.mozRequestAnimationFrame ||
            window.webkitRequestAnimationFrame ||
            window.msRequestAnimationFrame
          i(t, o.currCanvas), void 0 !== l && (l(o.currCanvas.toDataURL()), (l = void 0))
        })())
    }),
      (i.captureFrame = function (t) {
        l = t
      })
  },
  132(t, i, e) {
    'use strict'
    ;(function (t) {
      Object.defineProperty(i, '__esModule', { value: !0 })
      let e = !0
      function r() {
        e ||
          ((this._$MT = null),
          (this._$5S = null),
          (this._$NP = 0),
          r._$42++,
          (this._$5S = new U(this)))
      }
      ;(r._$0s = 1),
        (r._$4s = 2),
        (r._$42 = 0),
        (r._$62 = function (t, i) {
          try {
            if ((i instanceof ArrayBuffer && (i = new DataView(i)), !(i instanceof DataView)))
              throw new ht('_$SS#loadModel(b) / b _$x be DataView or ArrayBuffer')
            let e
            const o = new Pt(i)
            const n = o._$ST()
            const s = o._$ST()
            const a = o._$ST()
            if (n != 109 || s != 111 || a != 99) throw new ht('_$gi _$C _$li , _$Q0 _$P0.')
            if (((e = o._$ST()), o._$gr(e), e > G._$T7)) {
              t._$NP |= r._$4s
              throw new ht(
                '_$gi _$C _$li , _$n0 _$_ version _$li ( SDK : ' +
                  G._$T7 +
                  ' < _$f0 : ' +
                  e +
                  ' )@_$SS#loadModel()\n'
              )
            }
            const h = o._$nP()
            if (e >= G._$s7) {
              const $ = o._$9T()
              const l = o._$9T()
              if ($ != -30584 || l != -30584)
                throw ((t._$NP |= r._$0s), new ht('_$gi _$C _$li , _$0 _$6 _$Ui.'))
            }
            t._$KS(h)
            const u = t.getModelContext()
            u.setDrawParam(t.getDrawParam()), u.init()
          } catch (t) {
            _._$Rb(t)
          }
        }),
        (r.prototype._$KS = function (t) {
          this._$MT = t
        }),
        (r.prototype.getModelImpl = function () {
          return this._$MT == null && ((this._$MT = new l()), this._$MT._$zP()), this._$MT
        }),
        (r.prototype.getCanvasWidth = function () {
          return this._$MT == null ? 0 : this._$MT.getCanvasWidth()
        }),
        (r.prototype.getCanvasHeight = function () {
          return this._$MT == null ? 0 : this._$MT.getCanvasHeight()
        }),
        (r.prototype.getParamFloat = function (t) {
          return (
            typeof t !== 'number' && (t = this._$5S.getParamIndex($.getID(t))),
            this._$5S.getParamFloat(t)
          )
        }),
        (r.prototype.setParamFloat = function (t, i, e) {
          typeof t !== 'number' && (t = this._$5S.getParamIndex($.getID(t))),
            arguments.length < 3 && (e = 1),
            this._$5S.setParamFloat(t, this._$5S.getParamFloat(t) * (1 - e) + i * e)
        }),
        (r.prototype.addToParamFloat = function (t, i, e) {
          typeof t !== 'number' && (t = this._$5S.getParamIndex($.getID(t))),
            arguments.length < 3 && (e = 1),
            this._$5S.setParamFloat(t, this._$5S.getParamFloat(t) + i * e)
        }),
        (r.prototype.multParamFloat = function (t, i, e) {
          typeof t !== 'number' && (t = this._$5S.getParamIndex($.getID(t))),
            arguments.length < 3 && (e = 1),
            this._$5S.setParamFloat(t, this._$5S.getParamFloat(t) * (1 + (i - 1) * e))
        }),
        (r.prototype.getParamIndex = function (t) {
          return this._$5S.getParamIndex($.getID(t))
        }),
        (r.prototype.loadParam = function () {
          this._$5S.loadParam()
        }),
        (r.prototype.saveParam = function () {
          this._$5S.saveParam()
        }),
        (r.prototype.init = function () {
          this._$5S.init()
        }),
        (r.prototype.update = function () {
          this._$5S.update()
        }),
        (r.prototype._$Rs = function () {
          return _._$li('_$60 _$PT _$Rs()'), -1
        }),
        (r.prototype._$Ds = function (t) {
          _._$li('_$60 _$PT _$SS#_$Ds() \n')
        }),
        (r.prototype._$K2 = function () {}),
        (r.prototype.draw = function () {}),
        (r.prototype.getModelContext = function () {
          return this._$5S
        }),
        (r.prototype._$s2 = function () {
          return this._$NP
        }),
        (r.prototype._$P7 = function (t, i, e, r) {
          let o = -1
          let n = 0
          if (e != 0)
            if (t.length == 1) {
              u = t[0]
              const s = this.getParamFloat(u) != 0
              let _ = ((p = i[0]), this.getPartsOpacity(p))
              const a = e / r
              s ? (_ += a) > 1 && (_ = 1) : (_ -= a) < 0 && (_ = 0), this.setPartsOpacity(p, _)
            } else {
              for (l = 0; l < t.length; l++) {
                u = t[l]
                if ((c = this.getParamFloat(u) != 0)) {
                  if (o >= 0) break
                  o = l
                  p = i[l]
                  ;(n = this.getPartsOpacity(p)), (n += e / r) > 1 && (n = 1)
                }
              }
              o < 0 &&
                (console.log('No _$wi _$q0/ _$U default[%s]', t[0]),
                (o = 0),
                (n = 1),
                this.loadParam(),
                this.setParamFloat(t[o], n),
                this.saveParam())
              for (l = 0; l < t.length; l++) {
                p = i[l]
                if (o == l) this.setPartsOpacity(p, n)
                else {
                  var h
                  let $ = this.getPartsOpacity(p)
                  ;(1 - (h = n < 0.5 ? (-0.5 * n) / 0.5 + 1 : (0.5 * (1 - n)) / 0.5)) * (1 - n) >
                    0.15 && (h = 1 - 0.15 / (1 - n)),
                    $ > h && ($ = h),
                    this.setPartsOpacity(p, $)
                }
              }
            }
          else
            for (var l = 0; l < t.length; l++) {
              var u = t[l]
              var p = i[l]
              var c = this.getParamFloat(u) != 0
              this.setPartsOpacity(p, c ? 1 : 0)
            }
        }),
        (r.prototype.setPartsOpacity = function (t, i) {
          typeof t !== 'number' && (t = this._$5S.getPartsDataIndex(h.getID(t))),
            this._$5S.setPartsOpacity(t, i)
        }),
        (r.prototype.getPartsDataIndex = function (t) {
          return t instanceof h || (t = h.getID(t)), this._$5S.getPartsDataIndex(t)
        }),
        (r.prototype.getPartsOpacity = function (t) {
          return (
            typeof t !== 'number' && (t = this._$5S.getPartsDataIndex(h.getID(t))),
            t < 0 ? 0 : this._$5S.getPartsOpacity(t)
          )
        }),
        (r.prototype.getDrawParam = function () {}),
        (r.prototype.getDrawDataIndex = function (t) {
          return this._$5S.getDrawDataIndex(R.getID(t))
        }),
        (r.prototype.getDrawData = function (t) {
          return this._$5S.getDrawData(t)
        }),
        (r.prototype.getTransformedPoints = function (t) {
          const i = this._$5S._$C2(t)
          return i instanceof lt ? i.getTransformedPoints() : null
        }),
        (r.prototype.getIndexArray = function (t) {
          if (t < 0 || t >= this._$5S._$aS.length) return null
          const i = this._$5S._$aS[t]
          return i != null && i.getType() == W._$wb && i instanceof $t ? i.getIndexArray() : null
        })
      function o(t) {
        if (!e) {
          ;(this.clipContextList = new Array()),
            (this.glcontext = t.gl),
            (this.dp_webgl = t),
            (this.curFrameNo = 0),
            (this.firstError_clipInNotUpdate = !0),
            (this.colorBuffer = 0),
            (this.isInitGLFBFunc = !1),
            (this.tmpBoundsOnModel = new P()),
            _t.glContext.length > _t.frameBuffers.length &&
              (this.curFrameNo = this.getMaskRenderTexture()),
            (this.tmpModelToViewMatrix = new O()),
            (this.tmpMatrix2 = new O()),
            (this.tmpMatrixForMask = new O()),
            (this.tmpMatrixForDraw = new O()),
            (this.CHANNEL_COLORS = new Array())
          let i = new E()
          ;((i = new E()).r = 0),
            (i.g = 0),
            (i.b = 0),
            (i.a = 1),
            this.CHANNEL_COLORS.push(i),
            ((i = new E()).r = 1),
            (i.g = 0),
            (i.b = 0),
            (i.a = 0),
            this.CHANNEL_COLORS.push(i),
            ((i = new E()).r = 0),
            (i.g = 1),
            (i.b = 0),
            (i.a = 0),
            this.CHANNEL_COLORS.push(i),
            ((i = new E()).r = 0),
            (i.g = 0),
            (i.b = 1),
            (i.a = 0),
            this.CHANNEL_COLORS.push(i)
          for (let r = 0; r < this.CHANNEL_COLORS.length; r++)
            this.dp_webgl.setChannelFlagAsColor(r, this.CHANNEL_COLORS[r])
        }
      }
      ;(o.CHANNEL_COUNT = 4),
        (o.RENDER_TEXTURE_USE_MIPMAP = !1),
        (o.NOT_USED_FRAME = -100),
        (o.prototype._$L7 = function () {
          if (
            (this.tmpModelToViewMatrix && (this.tmpModelToViewMatrix = null),
            this.tmpMatrix2 && (this.tmpMatrix2 = null),
            this.tmpMatrixForMask && (this.tmpMatrixForMask = null),
            this.tmpMatrixForDraw && (this.tmpMatrixForDraw = null),
            this.tmpBoundsOnModel && (this.tmpBoundsOnModel = null),
            this.CHANNEL_COLORS)
          ) {
            for (let t = this.CHANNEL_COLORS.length - 1; t >= 0; --t)
              this.CHANNEL_COLORS.splice(t, 1)
            this.CHANNEL_COLORS = []
          }
          this.releaseShader()
        }),
        (o.prototype.releaseShader = function () {
          for (let t = _t.frameBuffers.length, i = 0; i < t; i++)
            this.gl.deleteFramebuffer(_t.frameBuffers[i].framebuffer)
          ;(_t.frameBuffers = []), (_t.glContext = [])
        }),
        (o.prototype.init = function (t, i, e) {
          for (let r = 0; r < i.length; r++) {
            const o = i[r].getClipIDList()
            if (o != null) {
              let s = this.findSameClip(o)
              s == null && ((s = new n(this, t, o)), this.clipContextList.push(s))
              const _ = i[r].getDrawDataID()
              const a = t.getDrawDataIndex(_)
              s.addClippedDrawData(_, a)
              e[r].clipBufPre_clipContext = s
            }
          }
        }),
        (o.prototype.getMaskRenderTexture = function () {
          let t = null
          return (
            (t = this.dp_webgl.createFramebuffer()),
            (_t.frameBuffers[this.dp_webgl.glno] = t),
            this.dp_webgl.glno
          )
        }),
        (o.prototype.setupClip = function (t, i) {
          for (var e = 0, r = 0; r < this.clipContextList.length; r++) {
            var o = this.clipContextList[r]
            this.calcClippedDrawTotalBounds(t, o), o.isUsing && e++
          }
          if (e > 0) {
            const n = i.gl.getParameter(i.gl.FRAMEBUFFER_BINDING)
            const s = new Array(4)
            ;(s[0] = 0),
              (s[1] = 0),
              (s[2] = i.gl.canvas.width),
              (s[3] = i.gl.canvas.height),
              i.gl.viewport(0, 0, _t.clippingMaskBufferSize, _t.clippingMaskBufferSize),
              this.setupLayoutBounds(e),
              i.gl.bindFramebuffer(i.gl.FRAMEBUFFER, _t.frameBuffers[this.curFrameNo].framebuffer),
              i.gl.clearColor(0, 0, 0, 0),
              i.gl.clear(i.gl.COLOR_BUFFER_BIT)
            for (r = 0; r < this.clipContextList.length; r++) {
              const _ = (o = this.clipContextList[r]).allClippedDrawRect
              const a = (o.layoutChannelNo, o.layoutBounds)
              this.tmpBoundsOnModel._$jL(_),
                this.tmpBoundsOnModel.expand(0.05 * _.width, 0.05 * _.height)
              const h = a.width / this.tmpBoundsOnModel.width
              const $ = a.height / this.tmpBoundsOnModel.height
              this.tmpMatrix2.identity(),
                this.tmpMatrix2.translate(-1, -1, 0),
                this.tmpMatrix2.scale(2, 2, 1),
                this.tmpMatrix2.translate(a.x, a.y, 0),
                this.tmpMatrix2.scale(h, $, 1),
                this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x, -this.tmpBoundsOnModel.y, 0),
                this.tmpMatrixForMask.setMatrix(this.tmpMatrix2.m),
                this.tmpMatrix2.identity(),
                this.tmpMatrix2.translate(a.x, a.y, 0),
                this.tmpMatrix2.scale(h, $, 1),
                this.tmpMatrix2.translate(-this.tmpBoundsOnModel.x, -this.tmpBoundsOnModel.y, 0),
                this.tmpMatrixForDraw.setMatrix(this.tmpMatrix2.m)
              for (var l = this.tmpMatrixForMask.getArray(), u = 0; u < 16; u++)
                o.matrixForMask[u] = l[u]
              const p = this.tmpMatrixForDraw.getArray()
              for (u = 0; u < 16; u++) o.matrixForDraw[u] = p[u]
              for (let c = o.clippingMaskDrawIndexList.length, f = 0; f < c; f++) {
                const g = o.clippingMaskDrawIndexList[f]
                const y = t.getDrawData(g)
                const d = t._$C2(g)
                i.setClipBufPre_clipContextForMask(o), y.draw(i, t, d)
              }
            }
            i.gl.bindFramebuffer(i.gl.FRAMEBUFFER, n),
              i.setClipBufPre_clipContextForMask(null),
              i.gl.viewport(s[0], s[1], s[2], s[3])
          }
        }),
        (o.prototype.getColorBuffer = function () {
          return this.colorBuffer
        }),
        (o.prototype.findSameClip = function (t) {
          for (let i = 0; i < this.clipContextList.length; i++) {
            const e = this.clipContextList[i]
            const r = e.clipIDList.length
            if (r == t.length) {
              for (var o = 0, n = 0; n < r; n++)
                for (let s = e.clipIDList[n], _ = 0; _ < r; _++)
                  if (t[_] == s) {
                    o++
                    break
                  }
              if (o == r) return e
            }
          }
          return null
        }),
        (o.prototype.calcClippedDrawTotalBounds = function (t, i) {
          for (
            var e = t._$Ri.getModelImpl().getCanvasWidth(),
              r = t._$Ri.getModelImpl().getCanvasHeight(),
              o = e > r ? e : r,
              n = o,
              s = o,
              _ = 0,
              a = 0,
              h = i.clippedDrawContextList.length,
              $ = 0;
            $ < h;
            $++
          ) {
            const l = i.clippedDrawContextList[$].drawDataIndex
            const u = t._$C2(l)
            if (u._$yo()) {
              for (
                var p = u.getTransformedPoints(), c = p.length, f = [], g = [], y = 0, d = B._$i2;
                d < c;
                d += B._$No
              )
                (f[y] = p[d]), (g[y] = p[d + 1]), y++
              const m = Math.min.apply(null, f)
              const T = Math.min.apply(null, g)
              const P = Math.max.apply(null, f)
              const S = Math.max.apply(null, g)
              m < n && (n = m), T < s && (s = T), P > _ && (_ = P), S > a && (a = S)
            }
          }
          if (n == o)
            (i.allClippedDrawRect.x = 0),
              (i.allClippedDrawRect.y = 0),
              (i.allClippedDrawRect.width = 0),
              (i.allClippedDrawRect.height = 0),
              (i.isUsing = !1)
          else {
            const v = _ - n
            const L = a - s
            ;(i.allClippedDrawRect.x = n),
              (i.allClippedDrawRect.y = s),
              (i.allClippedDrawRect.width = v),
              (i.allClippedDrawRect.height = L),
              (i.isUsing = !0)
          }
        }),
        (o.prototype.setupLayoutBounds = function (t) {
          let i = t / o.CHANNEL_COUNT
          let e = t % o.CHANNEL_COUNT
          ;(i = ~~i), (e = ~~e)
          for (let r = 0, n = 0; n < o.CHANNEL_COUNT; n++) {
            const s = i + (n < e ? 1 : 0)
            if (s == 0);
            else if (s == 1) {
              ;((l = this.clipContextList[r++]).layoutChannelNo = n),
                (l.layoutBounds.x = 0),
                (l.layoutBounds.y = 0),
                (l.layoutBounds.width = 1),
                (l.layoutBounds.height = 1)
            } else if (s == 2)
              for (var a = 0; a < s; a++) {
                var h = 0
                $ = ~~($ = a % 2)
                ;((l = this.clipContextList[r++]).layoutChannelNo = n),
                  (l.layoutBounds.x = 0.5 * $),
                  (l.layoutBounds.y = 0),
                  (l.layoutBounds.width = 0.5),
                  (l.layoutBounds.height = 1)
              }
            else if (s <= 4)
              for (a = 0; a < s; a++) {
                ;($ = ~~($ = a % 2)), (h = ~~(h = a / 2))
                ;((l = this.clipContextList[r++]).layoutChannelNo = n),
                  (l.layoutBounds.x = 0.5 * $),
                  (l.layoutBounds.y = 0.5 * h),
                  (l.layoutBounds.width = 0.5),
                  (l.layoutBounds.height = 0.5)
              }
            else if (s <= 9)
              for (a = 0; a < s; a++) {
                var $
                ;($ = ~~($ = a % 3)), (h = ~~(h = a / 3))
                var l
                ;((l = this.clipContextList[r++]).layoutChannelNo = n),
                  (l.layoutBounds.x = $ / 3),
                  (l.layoutBounds.y = h / 3),
                  (l.layoutBounds.width = 1 / 3),
                  (l.layoutBounds.height = 1 / 3)
              }
            else _._$li('_$6 _$0P mask count : %d', s)
          }
        })
      function n(t, i, e) {
        ;(this.clipIDList = new Array()),
          (this.clipIDList = e),
          (this.clippingMaskDrawIndexList = new Array())
        for (let r = 0; r < e.length; r++)
          this.clippingMaskDrawIndexList.push(i.getDrawDataIndex(e[r]))
        ;(this.clippedDrawContextList = new Array()),
          (this.isUsing = !0),
          (this.layoutChannelNo = 0),
          (this.layoutBounds = new P()),
          (this.allClippedDrawRect = new P()),
          (this.matrixForMask = new Float32Array(16)),
          (this.matrixForDraw = new Float32Array(16)),
          (this.owner = t)
      }
      n.prototype.addClippedDrawData = function (t, i) {
        const e = new (function (t, i) {
          ;(this._$gP = t), (this.drawDataIndex = i)
        })(t, i)
        this.clippedDrawContextList.push(e)
      }
      function s() {
        e ||
          ((this._$dP = null),
          (this._$eo = null),
          (this._$V0 = null),
          (this._$dP = 1e3),
          (this._$eo = 1e3),
          (this._$V0 = 1),
          this._$a0())
      }
      ;(s._$JT = function (t, i, e) {
        const r = t / i
        const o = e / i
        const n = 1 - (1 - o) * (1 - o)
        const s = 1 - (1 - o) * (1 - o)
        const _ = (1 / 3) * (1 - o) * n + (o * (2 / 3) + (1 / 3) * (1 - o)) * (1 - n)
        const a = (o + (2 / 3) * (1 - o)) * s + (o * (1 / 3) + (2 / 3) * (1 - o)) * (1 - s)
        const h = 1 - 3 * a + 3 * _ - 0
        const $ = 3 * a - 6 * _ + 0
        const l = 3 * _ - 0
        if (r <= 0) return 0
        if (r >= 1) return 1
        const u = r * r
        return h * (r * u) + $ * u + l * r + 0
      }),
        (s.prototype._$a0 = function () {}),
        (s.prototype.setFadeIn = function (t) {
          this._$dP = t
        }),
        (s.prototype.setFadeOut = function (t) {
          this._$eo = t
        }),
        (s.prototype._$pT = function (t) {
          this._$V0 = t
        }),
        (s.prototype.getFadeOut = function () {
          return this._$eo
        }),
        (s.prototype._$4T = function () {
          return this._$eo
        }),
        (s.prototype._$mT = function () {
          return this._$V0
        }),
        (s.prototype.getDurationMSec = function () {
          return -1
        }),
        (s.prototype.getLoopDurationMSec = function () {
          return -1
        }),
        (s.prototype.updateParam = function (t, i) {
          if (i._$AT && !i._$9L) {
            const e = I.getUserTimeMSec()
            if (i._$z2 < 0) {
              ;(i._$z2 = e), (i._$bs = e)
              const r = this.getDurationMSec()
              i._$Do < 0 && (i._$Do = r <= 0 ? -1 : i._$z2 + r)
            }
            let o = this._$V0
            ;((o =
              o *
              (this._$dP == 0 ? 1 : at._$r2((e - i._$bs) / this._$dP)) *
              (this._$eo == 0 || i._$Do < 0 ? 1 : at._$r2((i._$Do - e) / this._$eo))) >= 0 &&
              o <= 1) ||
              console.log('### assert!! ### '),
              this.updateParamExe(t, e, o, i),
              i._$Do > 0 && i._$Do < e && (i._$9L = !0)
          }
        }),
        (s.prototype.updateParamExe = function (t, i, e, r) {})
      function _() {}
      ;(_._$8s = 0),
        (_._$fT = new Object()),
        (_.start = function (t) {
          let i = _._$fT[t]
          i == null &&
            (((i = new (function () {
              ;(this._$r = null), (this._$0S = null)
            })())._$r = t),
            (_._$fT[t] = i)),
            (i._$0S = I.getSystemTimeMSec())
        }),
        (_.dump = function (t) {
          const i = _._$fT[t]
          if (i != null) {
            const e = I.getSystemTimeMSec() - i._$0S
            return console.log(t + ' : ' + e + 'ms'), e
          }
          return -1
        }),
        (_.end = function (t) {
          const i = _._$fT[t]
          if (i != null) {
            return I.getSystemTimeMSec() - i._$0S
          }
          return -1
        }),
        (_._$li = function (t, i) {
          console.log('_$li : ' + t + '\n', i)
        }),
        (_._$Ji = function (t, i) {
          console.log(t, i)
        }),
        (_._$dL = function (t, i) {
          console.log(t, i), console.log('\n')
        }),
        (_._$KL = function (t, i) {
          for (let e = 0; e < i; e++)
            e % 16 == 0 && e > 0 ? console.log('\n') : e % 8 == 0 && e > 0 && console.log('  '),
              console.log('%02X ', 255 & t[e])
          console.log('\n')
        }),
        (_._$nr = function (t, i, e) {
          console.log('%s\n', t)
          for (let r = i.length, o = 0; o < r; ++o)
            console.log('%5d', i[o]), console.log('%s\n', e), console.log(',')
          console.log('\n')
        }),
        (_._$Rb = function (t) {
          console.log('dump exception : ' + t), console.log('stack :: ' + t.stack)
        })
      function a() {
        e || ((this.x = null), (this.y = null), (this.width = null), (this.height = null))
      }
      ;(a.prototype._$8P = function () {
        return 0.5 * (this.x + this.x + this.width)
      }),
        (a.prototype._$6P = function () {
          return 0.5 * (this.y + this.y + this.height)
        }),
        (a.prototype._$EL = function () {
          return this.x + this.width
        }),
        (a.prototype._$5T = function () {
          return this.y + this.height
        }),
        (a.prototype._$jL = function (t, i, e, r) {
          ;(this.x = t), (this.y = i), (this.width = e), (this.height = r)
        }),
        (a.prototype._$jL = function (t) {
          ;(this.x = t.x), (this.y = t.y), (this.width = t.width), (this.height = t.height)
        })
      function h(t) {
        e || et.prototype.constructor.call(this, t)
      }
      ;(h.prototype = new et()),
        (h._$tP = new Object()),
        (h._$27 = function () {
          h._$tP.clear()
        }),
        (h.getID = function (t) {
          let i = h._$tP[t]
          return i == null && ((i = new h(t)), (h._$tP[t] = i)), i
        }),
        (h.prototype._$3s = function () {
          return new h()
        })
      function $(t) {
        e || et.prototype.constructor.call(this, t)
      }
      ;($.prototype = new et()),
        ($._$tP = new Object()),
        ($._$27 = function () {
          $._$tP.clear()
        }),
        ($.getID = function (t) {
          let i = $._$tP[t]
          return i == null && ((i = new $(t)), ($._$tP[t] = i)), i
        }),
        ($.prototype._$3s = function () {
          return new $()
        })
      function l() {
        e ||
          ((this._$vo = null), (this._$F2 = null), (this._$ao = 400), (this._$1S = 400), l._$42++)
      }
      ;(l._$42 = 0),
        (l.prototype._$zP = function () {
          this._$vo == null && (this._$vo = new rt()),
            this._$F2 == null && (this._$F2 = new Array())
        }),
        (l.prototype.getCanvasWidth = function () {
          return this._$ao
        }),
        (l.prototype.getCanvasHeight = function () {
          return this._$1S
        }),
        (l.prototype._$F0 = function (t) {
          ;(this._$vo = t._$nP()),
            (this._$F2 = t._$nP()),
            (this._$ao = t._$6L()),
            (this._$1S = t._$6L())
        }),
        (l.prototype._$6S = function (t) {
          this._$F2.push(t)
        }),
        (l.prototype._$Xr = function () {
          return this._$F2
        }),
        (l.prototype._$E2 = function () {
          return this._$vo
        })
      function u() {
        e ||
          ((this.p1 = new p()),
          (this.p2 = new p()),
          (this._$Fo = 0),
          (this._$Db = 0),
          (this._$L2 = 0),
          (this._$M2 = 0),
          (this._$ks = 0),
          (this._$9b = 0),
          (this._$iP = 0),
          (this._$iT = 0),
          (this._$lL = new Array()),
          (this._$qP = new Array()),
          this.setup(0.3, 0.5, 0.1))
      }
      ;(u.prototype.setup = function (t, i, e) {
        ;(this._$ks = this._$Yb()),
          this.p2._$xT(),
          arguments.length == 3 &&
            ((this._$Fo = t),
            (this._$L2 = i),
            (this.p1._$p = e),
            (this.p2._$p = e),
            (this.p2.y = t),
            this.setup())
      }),
        (u.prototype.getPhysicsPoint1 = function () {
          return this.p1
        }),
        (u.prototype.getPhysicsPoint2 = function () {
          return this.p2
        }),
        (u.prototype._$qr = function () {
          return this._$Db
        }),
        (u.prototype._$pr = function (t) {
          this._$Db = t
        }),
        (u.prototype._$5r = function () {
          return this._$M2
        }),
        (u.prototype._$Cs = function () {
          return this._$9b
        }),
        (u.prototype._$Yb = function () {
          return (-180 * Math.atan2(this.p1.x - this.p2.x, -(this.p1.y - this.p2.y))) / Math.PI
        }),
        (u.prototype.addSrcParam = function (t, i, e, r) {
          const o = new f(t, i, e, r)
          this._$lL.push(o)
        }),
        (u.prototype.addTargetParam = function (t, i, e, r) {
          const o = new y(t, i, e, r)
          this._$qP.push(o)
        }),
        (u.prototype.update = function (t, i) {
          if (this._$iP == 0)
            return (
              (this._$iP = this._$iT = i),
              void (this._$Fo = Math.sqrt(
                (this.p1.x - this.p2.x) * (this.p1.x - this.p2.x) +
                  (this.p1.y - this.p2.y) * (this.p1.y - this.p2.y)
              ))
            )
          const e = (i - this._$iT) / 1e3
          if (e != 0) {
            for (var r = this._$lL.length - 1; r >= 0; --r) {
              this._$lL[r]._$oP(t, this)
            }
            this._$oo(t, e),
              (this._$M2 = this._$Yb()),
              (this._$9b = (this._$M2 - this._$ks) / e),
              (this._$ks = this._$M2)
          }
          for (r = this._$qP.length - 1; r >= 0; --r) {
            this._$qP[r]._$YS(t, this)
          }
          this._$iT = i
        }),
        (u.prototype._$oo = function (t, i) {
          i < 0.033 && (i = 0.033)
          const e = 1 / i
          ;(this.p1.vx = (this.p1.x - this.p1._$s0) * e),
            (this.p1.vy = (this.p1.y - this.p1._$70) * e),
            (this.p1.ax = (this.p1.vx - this.p1._$7L) * e),
            (this.p1.ay = (this.p1.vy - this.p1._$HL) * e),
            (this.p1.fx = this.p1.ax * this.p1._$p),
            (this.p1.fy = this.p1.ay * this.p1._$p),
            this.p1._$xT()
          let r
          let o
          const n = -Math.atan2(this.p1.y - this.p2.y, this.p1.x - this.p2.x)
          const s = Math.cos(n)
          const _ = Math.sin(n)
          const a = 9.8 * this.p2._$p
          const h = this._$Db * vt._$bS
          const $ = a * Math.cos(n - h)
          ;(r = $ * _), (o = $ * s)
          const l = -this.p1.fx * _ * _
          const u = -this.p1.fy * _ * s
          const p = -this.p2.vx * this._$L2
          const c = -this.p2.vy * this._$L2
          ;(this.p2.fx = r + l + p),
            (this.p2.fy = o + u + c),
            (this.p2.ax = this.p2.fx / this.p2._$p),
            (this.p2.ay = this.p2.fy / this.p2._$p),
            (this.p2.vx += this.p2.ax * i),
            (this.p2.vy += this.p2.ay * i),
            (this.p2.x += this.p2.vx * i),
            (this.p2.y += this.p2.vy * i)
          const f = Math.sqrt(
            (this.p1.x - this.p2.x) * (this.p1.x - this.p2.x) +
              (this.p1.y - this.p2.y) * (this.p1.y - this.p2.y)
          )
          ;(this.p2.x = this.p1.x + (this._$Fo * (this.p2.x - this.p1.x)) / f),
            (this.p2.y = this.p1.y + (this._$Fo * (this.p2.y - this.p1.y)) / f),
            (this.p2.vx = (this.p2.x - this.p2._$s0) * e),
            (this.p2.vy = (this.p2.y - this.p2._$70) * e),
            this.p2._$xT()
        })
      function p() {
        ;(this._$p = 1),
          (this.x = 0),
          (this.y = 0),
          (this.vx = 0),
          (this.vy = 0),
          (this.ax = 0),
          (this.ay = 0),
          (this.fx = 0),
          (this.fy = 0),
          (this._$s0 = 0),
          (this._$70 = 0),
          (this._$7L = 0),
          (this._$HL = 0)
      }
      p.prototype._$xT = function () {
        ;(this._$s0 = this.x), (this._$70 = this.y), (this._$7L = this.vx), (this._$HL = this.vy)
      }
      function c(t, i, e) {
        ;(this._$wL = null),
          (this.scale = null),
          (this._$V0 = null),
          (this._$wL = t),
          (this.scale = i),
          (this._$V0 = e)
      }
      c.prototype._$oP = function (t, i) {}
      function f(t, i, e, r) {
        c.prototype.constructor.call(this, i, e, r), (this._$tL = null), (this._$tL = t)
      }
      ;(f.prototype = new c()),
        (f.prototype._$oP = function (t, i) {
          const e = this.scale * t.getParamFloat(this._$wL)
          const r = i.getPhysicsPoint1()
          switch (this._$tL) {
            default:
            case u.Src.SRC_TO_X:
              r.x = r.x + (e - r.x) * this._$V0
              break
            case u.Src.SRC_TO_Y:
              r.y = r.y + (e - r.y) * this._$V0
              break
            case u.Src.SRC_TO_G_ANGLE:
              var o = i._$qr()
              ;(o += (e - o) * this._$V0), i._$pr(o)
          }
        })
      function g(t, i, e) {
        ;(this._$wL = null),
          (this.scale = null),
          (this._$V0 = null),
          (this._$wL = t),
          (this.scale = i),
          (this._$V0 = e)
      }
      g.prototype._$YS = function (t, i) {}
      function y(t, i, e, r) {
        g.prototype.constructor.call(this, i, e, r), (this._$YP = null), (this._$YP = t)
      }
      ;(y.prototype = new g()),
        (y.prototype._$YS = function (t, i) {
          switch (this._$YP) {
            default:
            case u.Target.TARGET_FROM_ANGLE:
              t.setParamFloat(this._$wL, this.scale * i._$5r(), this._$V0)
              break
            case u.Target.TARGET_FROM_ANGLE_V:
              t.setParamFloat(this._$wL, this.scale * i._$Cs(), this._$V0)
          }
        }),
        (u.Src = function () {}),
        (u.Src.SRC_TO_X = 'SRC_TO_X'),
        (u.Src.SRC_TO_Y = 'SRC_TO_Y'),
        (u.Src.SRC_TO_G_ANGLE = 'SRC_TO_G_ANGLE'),
        (u.Target = function () {}),
        (u.Target.TARGET_FROM_ANGLE = 'TARGET_FROM_ANGLE'),
        (u.Target.TARGET_FROM_ANGLE_V = 'TARGET_FROM_ANGLE_V')
      function d() {
        e ||
          ((this._$fL = 0),
          (this._$gL = 0),
          (this._$B0 = 1),
          (this._$z0 = 1),
          (this._$qT = 0),
          (this.reflectX = !1),
          (this.reflectY = !1))
      }
      ;(d.prototype.init = function (t) {
        ;(this._$fL = t._$fL),
          (this._$gL = t._$gL),
          (this._$B0 = t._$B0),
          (this._$z0 = t._$z0),
          (this._$qT = t._$qT),
          (this.reflectX = t.reflectX),
          (this.reflectY = t.reflectY)
      }),
        (d.prototype._$F0 = function (t) {
          ;(this._$fL = t._$_T()),
            (this._$gL = t._$_T()),
            (this._$B0 = t._$_T()),
            (this._$z0 = t._$_T()),
            (this._$qT = t._$_T()),
            t.getFormatVersion() >= G.LIVE2D_FORMAT_VERSION_V2_10_SDK2 &&
              ((this.reflectX = t._$po()), (this.reflectY = t._$po()))
        }),
        (d.prototype._$e = function () {})
      const T = function () {}
      T._$ni = function (t, i, e, r, o, n, s, _, a) {
        const h = s * n - _ * o
        if (h == 0) return null
        let $
        const l = ((t - e) * n - (i - r) * o) / h
        return (
          ($ = o != 0 ? (t - e - l * s) / o : (i - r - l * _) / n),
          isNaN($) &&
            (($ = (t - e - l * s) / o),
            isNaN($) && ($ = (i - r - l * _) / n),
            isNaN($) &&
              (console.log('a is NaN @UtVector#_$ni() '),
              console.log('v1x : ' + o),
              console.log('v1x != 0 ? ' + (o != 0)))),
          a == null ? new Array($, l) : ((a[0] = $), (a[1] = l), a)
        )
      }
      function P() {
        e || ((this.x = null), (this.y = null), (this.width = null), (this.height = null))
      }
      ;(P.prototype._$8P = function () {
        return this.x + 0.5 * this.width
      }),
        (P.prototype._$6P = function () {
          return this.y + 0.5 * this.height
        }),
        (P.prototype._$EL = function () {
          return this.x + this.width
        }),
        (P.prototype._$5T = function () {
          return this.y + this.height
        }),
        (P.prototype._$jL = function (t, i, e, r) {
          ;(this.x = t), (this.y = i), (this.width = e), (this.height = r)
        }),
        (P.prototype._$jL = function (t) {
          ;(this.x = t.x), (this.y = t.y), (this.width = t.width), (this.height = t.height)
        }),
        (P.prototype.contains = function (t, i) {
          return (
            this.x <= this.x &&
            this.y <= this.y &&
            this.x <= this.x + this.width &&
            this.y <= this.y + this.height
          )
        }),
        (P.prototype.expand = function (t, i) {
          ;(this.x -= t), (this.y -= i), (this.width += 2 * t), (this.height += 2 * i)
        })
      function S() {}
      ;(S._$Z2 = function (t, i, e, r) {
        const o = i._$Q2(t, e)
        const n = t._$vs()
        const s = t._$Tr()
        if ((i._$zr(n, s, o), o <= 0)) return r[n[0]]
        if (o == 1) {
          return ((_ = r[n[0]]) + ((a = r[n[1]]) - _) * (l = s[0])) | 0
        }
        if (o == 2) {
          var _ = r[n[0]]
          var a = r[n[1]]
          var h = r[n[2]]
          var $ = r[n[3]]
          var l = s[0]
          var u = s[1]
          return ((S = (_ + (a - _) * l) | 0) + (((h + ($ - h) * l) | 0) - S) * u) | 0
        }
        if (o == 3) {
          var p = r[n[0]]
          var c = r[n[1]]
          var f = r[n[2]]
          var g = r[n[3]]
          var y = r[n[4]]
          var d = r[n[5]]
          var m = r[n[6]]
          var T = r[n[7]]
          var P = ((l = s[0]), (u = s[1]), s[2])
          return (
            ((S = ((_ = (p + (c - p) * l) | 0) + ((a = (f + (g - f) * l) | 0) - _) * u) | 0) +
              ((((h = (y + (d - y) * l) | 0) + (($ = (m + (T - m) * l) | 0) - h) * u) | 0) - S) *
                P) |
            0
          )
        }
        if (o == 4) {
          var S
          const v = r[n[0]]
          const L = r[n[1]]
          const M = r[n[2]]
          const E = r[n[3]]
          const A = r[n[4]]
          const I = r[n[5]]
          const x = r[n[6]]
          const w = r[n[7]]
          const D = r[n[8]]
          const O = r[n[9]]
          const R = r[n[10]]
          const b = r[n[11]]
          const F = r[n[12]]
          const C = r[n[13]]
          const N = r[n[14]]
          const B = r[n[15]]
          const G = ((l = s[0]), (u = s[1]), (P = s[2]), s[3])
          return (
            ((S =
              ((_ = ((p = (v + (L - v) * l) | 0) + ((c = (M + (E - M) * l) | 0) - p) * u) | 0) +
                ((a = ((f = (A + (I - A) * l) | 0) + ((g = (x + (w - x) * l) | 0) - f) * u) | 0) -
                  _) *
                  P) |
              0) +
              ((((h = ((y = (D + (O - D) * l) | 0) + ((d = (R + (b - R) * l) | 0) - y) * u) | 0) +
                (($ = ((m = (F + (C - F) * l) | 0) + ((T = (N + (B - N) * l) | 0) - m) * u) | 0) -
                  h) *
                  P) |
                0) -
                S) *
                G) |
            0
          )
        }
        for (var U = 1 << o, Y = new Float32Array(U), k = 0; k < U; k++) {
          for (var V = k, X = 1, z = 0; z < o; z++) (X *= V % 2 == 0 ? 1 - s[z] : s[z]), (V /= 2)
          Y[k] = X
        }
        for (var H = new Float32Array(U), W = 0; W < U; W++) H[W] = r[n[W]]
        let j = 0
        for (W = 0; W < U; W++) j += Y[W] * H[W]
        return (j + 0.5) | 0
      }),
        (S._$br = function (t, i, e, r) {
          const o = i._$Q2(t, e)
          const n = t._$vs()
          const s = t._$Tr()
          if ((i._$zr(n, s, o), o <= 0)) return r[n[0]]
          if (o == 1) {
            return (_ = r[n[0]]) + ((a = r[n[1]]) - _) * (l = s[0])
          }
          if (o == 2) {
            var _ = r[n[0]]
            var a = r[n[1]]
            const h = r[n[2]]
            const $ = r[n[3]]
            var l = s[0]
            return (1 - (T = s[1])) * (_ + (a - _) * l) + T * (h + ($ - h) * l)
          }
          if (o == 3) {
            const u = r[n[0]]
            const p = r[n[1]]
            const c = r[n[2]]
            const f = r[n[3]]
            const g = r[n[4]]
            const y = r[n[5]]
            const d = r[n[6]]
            const m = r[n[7]]
            var T = ((l = s[0]), s[1])
            return (
              (1 - (N = s[2])) * ((1 - T) * (u + (p - u) * l) + T * (c + (f - c) * l)) +
              N * ((1 - T) * (g + (y - g) * l) + T * (d + (m - d) * l))
            )
          }
          if (o == 4) {
            const P = r[n[0]]
            const S = r[n[1]]
            const v = r[n[2]]
            const L = r[n[3]]
            const M = r[n[4]]
            const E = r[n[5]]
            const A = r[n[6]]
            const I = r[n[7]]
            const x = r[n[8]]
            const w = r[n[9]]
            const D = r[n[10]]
            const O = r[n[11]]
            const R = r[n[12]]
            const b = r[n[13]]
            const F = r[n[14]]
            const C = r[n[15]]
            var N = ((l = s[0]), (T = s[1]), s[2])
            const B = s[3]
            return (
              (1 - B) *
                ((1 - N) * ((1 - T) * (P + (S - P) * l) + T * (v + (L - v) * l)) +
                  N * ((1 - T) * (M + (E - M) * l) + T * (A + (I - A) * l))) +
              B *
                ((1 - N) * ((1 - T) * (x + (w - x) * l) + T * (D + (O - D) * l)) +
                  N * ((1 - T) * (R + (b - R) * l) + T * (F + (C - F) * l)))
            )
          }
          for (var G = 1 << o, U = new Float32Array(G), Y = 0; Y < G; Y++) {
            for (var k = Y, V = 1, X = 0; X < o; X++) (V *= k % 2 == 0 ? 1 - s[X] : s[X]), (k /= 2)
            U[Y] = V
          }
          for (var z = new Float32Array(G), H = 0; H < G; H++) z[H] = r[n[H]]
          let W = 0
          for (H = 0; H < G; H++) W += U[H] * z[H]
          return W
        }),
        (S._$Vr = function (t, i, e, r, o, n, s, _) {
          const a = i._$Q2(t, e)
          const h = t._$vs()
          const $ = t._$Tr()
          i._$zr(h, $, a)
          const l = 2 * r
          let u = s
          if (a <= 0) {
            var p = o[h[0]]
            if (_ == 2 && s == 0) I._$jT(p, 0, n, 0, l)
            else for (var c = 0; c < l; ) (n[u] = p[c++]), (n[u + 1] = p[c++]), (u += _)
          } else if (a == 1) {
            p = o[h[0]]
            var f = o[h[1]]
            var g = 1 - (m = $[0])
            for (c = 0; c < l; )
              (n[u] = p[c] * g + f[c] * m), ++c, (n[u + 1] = p[c] * g + f[c] * m), ++c, (u += _)
          } else if (a == 2) {
            ;(p = o[h[0]]), (f = o[h[1]])
            const y = o[h[2]]
            const d = o[h[3]]
            var m = $[0]
            const T = (k = 1 - (R = $[1])) * (g = 1 - m)
            const P = k * m
            const S = R * g
            const v = R * m
            for (c = 0; c < l; )
              (n[u] = T * p[c] + P * f[c] + S * y[c] + v * d[c]),
                ++c,
                (n[u + 1] = T * p[c] + P * f[c] + S * y[c] + v * d[c]),
                ++c,
                (u += _)
          } else if (a == 3) {
            const L = o[h[0]]
            const M = o[h[1]]
            const E = o[h[2]]
            const A = o[h[3]]
            const x = o[h[4]]
            const w = o[h[5]]
            const D = o[h[6]]
            const O = o[h[7]]
            var R = ((m = $[0]), $[1])
            const b = (V = 1 - (st = $[2])) * (k = 1 - R) * (g = 1 - m)
            const F = V * k * m
            const C = V * R * g
            const N = V * R * m
            const B = st * k * g
            const G = st * k * m
            const U = st * R * g
            const Y = st * R * m
            for (c = 0; c < l; )
              (n[u] =
                b * L[c] +
                F * M[c] +
                C * E[c] +
                N * A[c] +
                B * x[c] +
                G * w[c] +
                U * D[c] +
                Y * O[c]),
                ++c,
                (n[u + 1] =
                  b * L[c] +
                  F * M[c] +
                  C * E[c] +
                  N * A[c] +
                  B * x[c] +
                  G * w[c] +
                  U * D[c] +
                  Y * O[c]),
                ++c,
                (u += _)
          } else if (a == 4) {
            var k
            var V
            const X = o[h[0]]
            const z = o[h[1]]
            const H = o[h[2]]
            const W = o[h[3]]
            const j = o[h[4]]
            const q = o[h[5]]
            const J = o[h[6]]
            const Q = o[h[7]]
            const Z = o[h[8]]
            const K = o[h[9]]
            const tt = o[h[10]]
            const it = o[h[11]]
            const et = o[h[12]]
            const rt = o[h[13]]
            const ot = o[h[14]]
            const nt = o[h[15]]
            var st = ((m = $[0]), (R = $[1]), $[2])
            const _t = $[3]
            const at = 1 - _t
            const ht = at * (V = 1 - st) * (k = 1 - R) * (g = 1 - m)
            const $t = at * V * k * m
            const lt = at * V * R * g
            const ut = at * V * R * m
            const pt = at * st * k * g
            const ct = at * st * k * m
            const ft = at * st * R * g
            const gt = at * st * R * m
            const yt = _t * V * k * g
            const dt = _t * V * k * m
            const mt = _t * V * R * g
            const Tt = _t * V * R * m
            const Pt = _t * st * k * g
            const St = _t * st * k * m
            const vt = _t * st * R * g
            const Lt = _t * st * R * m
            for (c = 0; c < l; )
              (n[u] =
                ht * X[c] +
                $t * z[c] +
                lt * H[c] +
                ut * W[c] +
                pt * j[c] +
                ct * q[c] +
                ft * J[c] +
                gt * Q[c] +
                yt * Z[c] +
                dt * K[c] +
                mt * tt[c] +
                Tt * it[c] +
                Pt * et[c] +
                St * rt[c] +
                vt * ot[c] +
                Lt * nt[c]),
                ++c,
                (n[u + 1] =
                  ht * X[c] +
                  $t * z[c] +
                  lt * H[c] +
                  ut * W[c] +
                  pt * j[c] +
                  ct * q[c] +
                  ft * J[c] +
                  gt * Q[c] +
                  yt * Z[c] +
                  dt * K[c] +
                  mt * tt[c] +
                  Tt * it[c] +
                  Pt * et[c] +
                  St * rt[c] +
                  vt * ot[c] +
                  Lt * nt[c]),
                ++c,
                (u += _)
          } else {
            for (var Mt = 1 << a, Et = new Float32Array(Mt), At = 0; At < Mt; At++) {
              for (var It = At, xt = 1, wt = 0; wt < a; wt++)
                (xt *= It % 2 == 0 ? 1 - $[wt] : $[wt]), (It /= 2)
              Et[At] = xt
            }
            for (var Dt = new Float32Array(Mt), Ot = 0; Ot < Mt; Ot++) Dt[Ot] = o[h[Ot]]
            for (c = 0; c < l; ) {
              let Rt = 0
              let bt = 0
              const Ft = c + 1
              for (Ot = 0; Ot < Mt; Ot++) (Rt += Et[Ot] * Dt[Ot][c]), (bt += Et[Ot] * Dt[Ot][Ft])
              ;(c += 2), (n[u] = Rt), (n[u + 1] = bt), (u += _)
            }
          }
        })
      function v() {
        e || ((this.x = null), (this.y = null))
      }
      ;(v.prototype._$HT = function (t, i) {
        ;(this.x = t), (this.y = i)
      }),
        (v.prototype._$HT = function (t) {
          ;(this.x = t.x), (this.y = t.y)
        })
      function L() {
        e ||
          ((this._$gP = null),
          (this._$dr = null),
          (this._$GS = null),
          (this._$qb = null),
          (this._$Lb = null),
          (this._$mS = null),
          (this.clipID = null),
          (this.clipIDList = new Array()))
      }
      ;(L._$ur = -2),
        (L._$ES = 500),
        (L._$wb = 2),
        (L._$8S = 3),
        (L._$52 = L._$ES),
        (L._$R2 = L._$ES),
        (L._$or = function () {
          return L._$52
        }),
        (L._$Pr = function () {
          return L._$R2
        }),
        (L.prototype.convertClipIDForV2_11 = function (t) {
          let i = []
          return t == null
            ? null
            : t.length == 0
            ? null
            : /,/.test(t)
            ? (i = t.id.split(','))
            : (i.push(t.id), i)
        }),
        (L.prototype._$F0 = function (t) {
          ;(this._$gP = t._$nP()),
            (this._$dr = t._$nP()),
            (this._$GS = t._$nP()),
            (this._$qb = t._$6L()),
            (this._$Lb = t._$cS()),
            (this._$mS = t._$Tb()),
            t.getFormatVersion() >= G._$T7
              ? ((this.clipID = t._$nP()),
                (this.clipIDList = this.convertClipIDForV2_11(this.clipID)))
              : (this.clipIDList = []),
            this._$MS(this._$Lb)
        }),
        (L.prototype.getClipIDList = function () {
          return this.clipIDList
        }),
        (L.prototype.init = function (t) {}),
        (L.prototype._$Nr = function (t, i) {
          if (((i._$IS[0] = !1), (i._$Us = S._$Z2(t, this._$GS, i._$IS, this._$Lb)), _t._$Zs));
          else if (i._$IS[0]) return
          i._$7s = S._$br(t, this._$GS, i._$IS, this._$mS)
        }),
        (L.prototype._$2b = function (t, i) {}),
        (L.prototype.getDrawDataID = function () {
          return this._$gP
        }),
        (L.prototype._$j2 = function (t) {
          this._$gP = t
        }),
        (L.prototype.getOpacity = function (t, i) {
          return i._$7s
        }),
        (L.prototype._$zS = function (t, i) {
          return i._$Us
        }),
        (L.prototype._$MS = function (t) {
          for (let i = t.length - 1; i >= 0; --i) {
            const e = t[i]
            e < L._$52 ? (L._$52 = e) : e > L._$R2 && (L._$R2 = e)
          }
        }),
        (L.prototype.getTargetBaseDataID = function () {
          return this._$dr
        }),
        (L.prototype._$gs = function (t) {
          this._$dr = t
        }),
        (L.prototype._$32 = function () {
          return this._$dr != null && this._$dr != yt._$2o()
        }),
        (L.prototype.preDraw = function (t, i, e) {}),
        (L.prototype.draw = function (t, i, e) {}),
        (L.prototype.getType = function () {}),
        (L.prototype._$B2 = function (t, i, e) {})
      function M() {
        e ||
          ((this._$Eb = M._$ps),
          (this._$lT = 1),
          (this._$C0 = 1),
          (this._$tT = 1),
          (this._$WL = 1),
          (this.culling = !1),
          (this.matrix4x4 = new Float32Array(16)),
          (this.premultipliedAlpha = !1),
          (this.anisotropy = 0),
          (this.clippingProcess = M.CLIPPING_PROCESS_NONE),
          (this.clipBufPre_clipContextMask = null),
          (this.clipBufPre_clipContextDraw = null),
          (this.CHANNEL_COLORS = new Array()))
      }
      ;(M._$ps = 32),
        (M.CLIPPING_PROCESS_NONE = 0),
        (M.CLIPPING_PROCESS_OVERWRITE_ALPHA = 1),
        (M.CLIPPING_PROCESS_MULTIPLY_ALPHA = 2),
        (M.CLIPPING_PROCESS_DRAW = 3),
        (M.CLIPPING_PROCESS_CLEAR_ALPHA = 4),
        (M.prototype.setChannelFlagAsColor = function (t, i) {
          this.CHANNEL_COLORS[t] = i
        }),
        (M.prototype.getChannelFlagAsColor = function (t) {
          return this.CHANNEL_COLORS[t]
        }),
        (M.prototype._$ZT = function () {}),
        (M.prototype._$Uo = function (t, i, e, r, o, n, s) {}),
        (M.prototype._$Rs = function () {
          return -1
        }),
        (M.prototype._$Ds = function (t) {}),
        (M.prototype.setBaseColor = function (t, i, e, r) {
          t < 0 ? (t = 0) : t > 1 && (t = 1),
            i < 0 ? (i = 0) : i > 1 && (i = 1),
            e < 0 ? (e = 0) : e > 1 && (e = 1),
            r < 0 ? (r = 0) : r > 1 && (r = 1),
            (this._$lT = t),
            (this._$C0 = i),
            (this._$tT = e),
            (this._$WL = r)
        }),
        (M.prototype._$WP = function (t) {
          this.culling = t
        }),
        (M.prototype.setMatrix = function (t) {
          for (let i = 0; i < 16; i++) this.matrix4x4[i] = t[i]
        }),
        (M.prototype._$IT = function () {
          return this.matrix4x4
        }),
        (M.prototype.setPremultipliedAlpha = function (t) {
          this.premultipliedAlpha = t
        }),
        (M.prototype.isPremultipliedAlpha = function () {
          return this.premultipliedAlpha
        }),
        (M.prototype.setAnisotropy = function (t) {
          this.anisotropy = t
        }),
        (M.prototype.getAnisotropy = function () {
          return this.anisotropy
        }),
        (M.prototype.getClippingProcess = function () {
          return this.clippingProcess
        }),
        (M.prototype.setClippingProcess = function (t) {
          this.clippingProcess = t
        }),
        (M.prototype.setClipBufPre_clipContextForMask = function (t) {
          this.clipBufPre_clipContextMask = t
        }),
        (M.prototype.getClipBufPre_clipContextMask = function () {
          return this.clipBufPre_clipContextMask
        }),
        (M.prototype.setClipBufPre_clipContextForDraw = function (t) {
          this.clipBufPre_clipContextDraw = t
        }),
        (M.prototype.getClipBufPre_clipContextDraw = function () {
          return this.clipBufPre_clipContextDraw
        })
      function E() {
        e ||
          ((this.a = 1),
          (this.r = 1),
          (this.g = 1),
          (this.b = 1),
          (this.scale = 1),
          (this._$ho = 1),
          (this.blendMode = _t.L2D_COLOR_BLEND_MODE_MULT))
      }
      function A() {
        e || ((this._$kP = null), (this._$dr = null), (this._$Ai = !0), (this._$mS = null))
      }
      ;(A._$ur = -2),
        (A._$c2 = 1),
        (A._$_b = 2),
        (A.prototype._$F0 = function (t) {
          ;(this._$kP = t._$nP()), (this._$dr = t._$nP())
        }),
        (A.prototype.readV2_opacity = function (t) {
          t.getFormatVersion() >= G.LIVE2D_FORMAT_VERSION_V2_10_SDK2 && (this._$mS = t._$Tb())
        }),
        (A.prototype.init = function (t) {}),
        (A.prototype._$Nr = function (t, i) {}),
        (A.prototype.interpolateOpacity = function (t, i, e, r) {
          this._$mS == null
            ? e.setInterpolatedOpacity(1)
            : e.setInterpolatedOpacity(S._$br(t, i, r, this._$mS))
        }),
        (A.prototype._$2b = function (t, i) {}),
        (A.prototype._$nb = function (t, i, e, r, o, n, s) {}),
        (A.prototype.getType = function () {}),
        (A.prototype._$gs = function (t) {
          this._$dr = t
        }),
        (A.prototype._$a2 = function (t) {
          this._$kP = t
        }),
        (A.prototype.getTargetBaseDataID = function () {
          return this._$dr
        }),
        (A.prototype.getBaseDataID = function () {
          return this._$kP
        }),
        (A.prototype._$32 = function () {
          return this._$dr != null && this._$dr != yt._$2o()
        })
      function I() {}
      ;(I._$W2 = 0),
        (I._$CS = I._$W2),
        (I._$Mo = function () {
          return !0
        }),
        (I._$XP = function (t) {
          try {
            for (let i = getTimeMSec(); getTimeMSec() - i < t; );
          } catch (t) {
            t._$Rb()
          }
        }),
        (I.getUserTimeMSec = function () {
          return I._$CS == I._$W2 ? I.getSystemTimeMSec() : I._$CS
        }),
        (I.setUserTimeMSec = function (t) {
          I._$CS = t
        }),
        (I.updateUserTimeMSec = function () {
          return (I._$CS = I.getSystemTimeMSec())
        }),
        (I.getTimeMSec = function () {
          return new Date().getTime()
        }),
        (I.getSystemTimeMSec = function () {
          return new Date().getTime()
        }),
        (I._$Q = function (t) {}),
        (I._$jT = function (t, i, e, r, o) {
          for (let n = 0; n < o; n++) e[r + n] = t[i + n]
        })
      function x() {
        e ||
          ((this._$VP = 0),
          (this._$wL = null),
          (this._$GP = null),
          (this._$8o = x._$ds),
          (this._$2r = -1),
          (this._$O2 = 0),
          (this._$ri = 0))
      }
      ;(x._$ds = -2),
        (x.prototype._$F0 = function (t) {
          ;(this._$wL = t._$nP()), (this._$VP = t._$6L()), (this._$GP = t._$nP())
        }),
        (x.prototype.getParamIndex = function (t) {
          return this._$2r != t && (this._$8o = x._$ds), this._$8o
        }),
        (x.prototype._$Pb = function (t, i) {
          ;(this._$8o = t), (this._$2r = i)
        }),
        (x.prototype.getParamID = function () {
          return this._$wL
        }),
        (x.prototype._$yP = function (t) {
          this._$wL = t
        }),
        (x.prototype._$N2 = function () {
          return this._$VP
        }),
        (x.prototype._$d2 = function () {
          return this._$GP
        }),
        (x.prototype._$t2 = function (t, i) {
          ;(this._$VP = t), (this._$GP = i)
        }),
        (x.prototype._$Lr = function () {
          return this._$O2
        }),
        (x.prototype._$wr = function (t) {
          this._$O2 = t
        }),
        (x.prototype._$SL = function () {
          return this._$ri
        }),
        (x.prototype._$AL = function (t) {
          this._$ri = t
        })
      function w() {}
      ;(w.startsWith = function (t, i, e) {
        const r = i + e.length
        if (r >= t.length) return !1
        for (let o = i; o < r; o++) if (w.getChar(t, o) != e.charAt(o - i)) return !1
        return !0
      }),
        (w.getChar = function (t, i) {
          return String.fromCharCode(t.getUint8(i))
        }),
        (w.createString = function (t, i, e) {
          for (var r = new ArrayBuffer(2 * e), o = new Uint16Array(r), n = 0; n < e; n++)
            o[n] = t.getUint8(i + n)
          return String.fromCharCode.apply(null, o)
        }),
        (w._$LS = function (t, i, e, r) {
          t instanceof ArrayBuffer && (t = new DataView(t))
          let o = e
          let n = !1
          let s = !1
          let _ = 0
          let a = w.getChar(t, o)
          a == '-' && ((n = !0), o++)
          for (let h = !1; o < i; o++) {
            switch ((a = w.getChar(t, o))) {
              case '0':
                _ *= 10
                break
              case '1':
                _ = 10 * _ + 1
                break
              case '2':
                _ = 10 * _ + 2
                break
              case '3':
                _ = 10 * _ + 3
                break
              case '4':
                _ = 10 * _ + 4
                break
              case '5':
                _ = 10 * _ + 5
                break
              case '6':
                _ = 10 * _ + 6
                break
              case '7':
                _ = 10 * _ + 7
                break
              case '8':
                _ = 10 * _ + 8
                break
              case '9':
                _ = 10 * _ + 9
                break
              case '.':
                ;(s = !0), o++, (h = !0)
                break
              default:
                h = !0
            }
            if (h) break
          }
          if (s)
            for (let $ = 0.1, l = !1; o < i; o++) {
              switch ((a = w.getChar(t, o))) {
                case '0':
                  break
                case '1':
                  _ += 1 * $
                  break
                case '2':
                  _ += 2 * $
                  break
                case '3':
                  _ += 3 * $
                  break
                case '4':
                  _ += 4 * $
                  break
                case '5':
                  _ += 5 * $
                  break
                case '6':
                  _ += 6 * $
                  break
                case '7':
                  _ += 7 * $
                  break
                case '8':
                  _ += 8 * $
                  break
                case '9':
                  _ += 9 * $
                  break
                default:
                  l = !0
              }
              if ((($ *= 0.1), l)) break
            }
          return n && (_ = -_), (r[0] = o), _
        })
      function D() {
        e || (this._$Ob = null)
      }
      ;(D.prototype._$zP = function () {
        this._$Ob = new Array()
      }),
        (D.prototype._$F0 = function (t) {
          this._$Ob = t._$nP()
        }),
        (D.prototype._$Ur = function (t) {
          if (t._$WS()) return !0
          for (let i = t._$v2(), e = this._$Ob.length - 1; e >= 0; --e) {
            let r = this._$Ob[e].getParamIndex(i)
            if ((r == x._$ds && (r = t.getParamIndex(this._$Ob[e].getParamID())), t._$Xb(r)))
              return !0
          }
          return !1
        }),
        (D.prototype._$Q2 = function (t, i) {
          for (var e, r, o = this._$Ob.length, n = t._$v2(), s = 0, _ = 0; _ < o; _++) {
            const a = this._$Ob[_]
            if (
              ((e = a.getParamIndex(n)) == x._$ds &&
                ((e = t.getParamIndex(a.getParamID())), a._$Pb(e, n)),
              e < 0)
            )
              throw new Exception('err 23242 : ' + a.getParamID())
            const h = e < 0 ? 0 : t.getParamFloat(e)
            r = a._$N2()
            var $
            var l
            const u = a._$d2()
            let p = -1
            let c = 0
            if (r < 1);
            else if (r == 1)
              ($ = u[0]) - B._$J < h && h < $ + B._$J ? ((p = 0), (c = 0)) : ((p = 0), (i[0] = !0))
            else if (h < ($ = u[0]) - B._$J) (p = 0), (i[0] = !0)
            else if (h < $ + B._$J) p = 0
            else {
              for (var f = !1, g = 1; g < r; ++g) {
                if (h < (l = u[g]) + B._$J) {
                  l - B._$J < h ? (p = g) : ((p = g - 1), (c = (h - $) / (l - $)), s++), (f = !0)
                  break
                }
                $ = l
              }
              f || ((p = r - 1), (c = 0), (i[0] = !0))
            }
            a._$wr(p), a._$AL(c)
          }
          return s
        }),
        (D.prototype._$zr = function (t, i, e) {
          const r = 1 << e
          r + 1 > B._$Qb && console.log('err 23245\n')
          for (var o = this._$Ob.length, n = 1, s = 1, _ = 0, a = 0; a < r; ++a) t[a] = 0
          for (let h = 0; h < o; ++h) {
            const $ = this._$Ob[h]
            if ($._$SL() == 0) {
              if ((l = $._$Lr() * n) < 0 && _t._$3T) throw new Exception('err 23246')
              for (a = 0; a < r; ++a) t[a] += l
            } else {
              var l = n * $._$Lr()
              const u = n * ($._$Lr() + 1)
              for (a = 0; a < r; ++a) t[a] += ((a / s) | 0) % 2 == 0 ? l : u
              ;(i[_++] = $._$SL()), (s *= 2)
            }
            n *= $._$N2()
          }
          ;(t[r] = 65535), (i[_] = -1)
        }),
        (D.prototype._$h2 = function (t, i, e) {
          for (var r = new Float32Array(i), o = 0; o < i; ++o) r[o] = e[o]
          const n = new x()
          n._$yP(t), n._$t2(i, r), this._$Ob.push(n)
        }),
        (D.prototype._$J2 = function (t) {
          for (let i = t, e = this._$Ob.length, r = 0; r < e; ++r) {
            const o = this._$Ob[r]
            const n = o._$N2()
            const s = i % o._$N2()
            const _ = o._$d2()[s]
            console.log('%s[%d]=%7.2f / ', o.getParamID(), s, _), (i /= n)
          }
          console.log('\n')
        }),
        (D.prototype.getParamCount = function () {
          return this._$Ob.length
        }),
        (D.prototype._$zs = function () {
          return this._$Ob
        })
      function O() {
        ;(this.m = new Float32Array(16)), this.identity()
      }
      ;(O.prototype.identity = function () {
        for (let t = 0; t < 16; t++) this.m[t] = t % 5 == 0 ? 1 : 0
      }),
        (O.prototype.getArray = function () {
          return this.m
        }),
        (O.prototype.getCopyMatrix = function () {
          return new Float32Array(this.m)
        }),
        (O.prototype.setMatrix = function (t) {
          if (t != null && t.length == 16) for (let i = 0; i < 16; i++) this.m[i] = t[i]
        }),
        (O.prototype.mult = function (t, i, e) {
          return i == null
            ? null
            : (this == i
                ? this.mult_safe(this.m, t.m, i.m, e)
                : this.mult_fast(this.m, t.m, i.m, e),
              i)
        }),
        (O.prototype.mult_safe = function (t, i, e, r) {
          if (t == e) {
            const o = new Array(16)
            this.mult_fast(t, i, o, r)
            for (let n = 15; n >= 0; --n) e[n] = o[n]
          } else this.mult_fast(t, i, e, r)
        }),
        (O.prototype.mult_fast = function (t, i, e, r) {
          r
            ? ((e[0] = t[0] * i[0] + t[4] * i[1] + t[8] * i[2]),
              (e[4] = t[0] * i[4] + t[4] * i[5] + t[8] * i[6]),
              (e[8] = t[0] * i[8] + t[4] * i[9] + t[8] * i[10]),
              (e[12] = t[0] * i[12] + t[4] * i[13] + t[8] * i[14] + t[12]),
              (e[1] = t[1] * i[0] + t[5] * i[1] + t[9] * i[2]),
              (e[5] = t[1] * i[4] + t[5] * i[5] + t[9] * i[6]),
              (e[9] = t[1] * i[8] + t[5] * i[9] + t[9] * i[10]),
              (e[13] = t[1] * i[12] + t[5] * i[13] + t[9] * i[14] + t[13]),
              (e[2] = t[2] * i[0] + t[6] * i[1] + t[10] * i[2]),
              (e[6] = t[2] * i[4] + t[6] * i[5] + t[10] * i[6]),
              (e[10] = t[2] * i[8] + t[6] * i[9] + t[10] * i[10]),
              (e[14] = t[2] * i[12] + t[6] * i[13] + t[10] * i[14] + t[14]),
              (e[3] = e[7] = e[11] = 0),
              (e[15] = 1))
            : ((e[0] = t[0] * i[0] + t[4] * i[1] + t[8] * i[2] + t[12] * i[3]),
              (e[4] = t[0] * i[4] + t[4] * i[5] + t[8] * i[6] + t[12] * i[7]),
              (e[8] = t[0] * i[8] + t[4] * i[9] + t[8] * i[10] + t[12] * i[11]),
              (e[12] = t[0] * i[12] + t[4] * i[13] + t[8] * i[14] + t[12] * i[15]),
              (e[1] = t[1] * i[0] + t[5] * i[1] + t[9] * i[2] + t[13] * i[3]),
              (e[5] = t[1] * i[4] + t[5] * i[5] + t[9] * i[6] + t[13] * i[7]),
              (e[9] = t[1] * i[8] + t[5] * i[9] + t[9] * i[10] + t[13] * i[11]),
              (e[13] = t[1] * i[12] + t[5] * i[13] + t[9] * i[14] + t[13] * i[15]),
              (e[2] = t[2] * i[0] + t[6] * i[1] + t[10] * i[2] + t[14] * i[3]),
              (e[6] = t[2] * i[4] + t[6] * i[5] + t[10] * i[6] + t[14] * i[7]),
              (e[10] = t[2] * i[8] + t[6] * i[9] + t[10] * i[10] + t[14] * i[11]),
              (e[14] = t[2] * i[12] + t[6] * i[13] + t[10] * i[14] + t[14] * i[15]),
              (e[3] = t[3] * i[0] + t[7] * i[1] + t[11] * i[2] + t[15] * i[3]),
              (e[7] = t[3] * i[4] + t[7] * i[5] + t[11] * i[6] + t[15] * i[7]),
              (e[11] = t[3] * i[8] + t[7] * i[9] + t[11] * i[10] + t[15] * i[11]),
              (e[15] = t[3] * i[12] + t[7] * i[13] + t[11] * i[14] + t[15] * i[15]))
        }),
        (O.prototype.translate = function (t, i, e) {
          ;(this.m[12] = this.m[0] * t + this.m[4] * i + this.m[8] * e + this.m[12]),
            (this.m[13] = this.m[1] * t + this.m[5] * i + this.m[9] * e + this.m[13]),
            (this.m[14] = this.m[2] * t + this.m[6] * i + this.m[10] * e + this.m[14]),
            (this.m[15] = this.m[3] * t + this.m[7] * i + this.m[11] * e + this.m[15])
        }),
        (O.prototype.scale = function (t, i, e) {
          ;(this.m[0] *= t),
            (this.m[4] *= i),
            (this.m[8] *= e),
            (this.m[1] *= t),
            (this.m[5] *= i),
            (this.m[9] *= e),
            (this.m[2] *= t),
            (this.m[6] *= i),
            (this.m[10] *= e),
            (this.m[3] *= t),
            (this.m[7] *= i),
            (this.m[11] *= e)
        }),
        (O.prototype.rotateX = function (t) {
          const i = vt.fcos(t)
          const e = vt._$9(t)
          let r = this.m[4]
          ;(this.m[4] = r * i + this.m[8] * e),
            (this.m[8] = r * -e + this.m[8] * i),
            (r = this.m[5]),
            (this.m[5] = r * i + this.m[9] * e),
            (this.m[9] = r * -e + this.m[9] * i),
            (r = this.m[6]),
            (this.m[6] = r * i + this.m[10] * e),
            (this.m[10] = r * -e + this.m[10] * i),
            (r = this.m[7]),
            (this.m[7] = r * i + this.m[11] * e),
            (this.m[11] = r * -e + this.m[11] * i)
        }),
        (O.prototype.rotateY = function (t) {
          const i = vt.fcos(t)
          const e = vt._$9(t)
          let r = this.m[0]
          ;(this.m[0] = r * i + this.m[8] * -e),
            (this.m[8] = r * e + this.m[8] * i),
            (r = this.m[1]),
            (this.m[1] = r * i + this.m[9] * -e),
            (this.m[9] = r * e + this.m[9] * i),
            (r = m[2]),
            (this.m[2] = r * i + this.m[10] * -e),
            (this.m[10] = r * e + this.m[10] * i),
            (r = m[3]),
            (this.m[3] = r * i + this.m[11] * -e),
            (this.m[11] = r * e + this.m[11] * i)
        }),
        (O.prototype.rotateZ = function (t) {
          const i = vt.fcos(t)
          const e = vt._$9(t)
          let r = this.m[0]
          ;(this.m[0] = r * i + this.m[4] * e),
            (this.m[4] = r * -e + this.m[4] * i),
            (r = this.m[1]),
            (this.m[1] = r * i + this.m[5] * e),
            (this.m[5] = r * -e + this.m[5] * i),
            (r = this.m[2]),
            (this.m[2] = r * i + this.m[6] * e),
            (this.m[6] = r * -e + this.m[6] * i),
            (r = this.m[3]),
            (this.m[3] = r * i + this.m[7] * e),
            (this.m[7] = r * -e + this.m[7] * i)
        })
      function R(t) {
        e || et.prototype.constructor.call(this, t)
      }
      ;(R.prototype = new et()),
        (R._$tP = new Object()),
        (R._$27 = function () {
          R._$tP.clear()
        }),
        (R.getID = function (t) {
          let i = R._$tP[t]
          return i == null && ((i = new R(t)), (R._$tP[t] = i)), i
        }),
        (R.prototype._$3s = function () {
          return new R()
        })
      function b() {
        e ||
          ((this._$7 = 1),
          (this._$f = 0),
          (this._$H = 0),
          (this._$g = 1),
          (this._$k = 0),
          (this._$w = 0),
          (this._$hi = STATE_IDENTITY),
          (this._$Z = _$pS))
      }
      ;(b._$kS = -1),
        (b._$pS = 0),
        (b._$hb = 1),
        (b.STATE_IDENTITY = 0),
        (b._$gb = 1),
        (b._$fo = 2),
        (b._$go = 4),
        (b.prototype.transform = function (t, i, e) {
          let r
          let o
          let n
          let s
          let _
          let a
          let h = 0
          let $ = 0
          switch (this._$hi) {
            default:
              return
            case b._$go | b._$fo | b._$gb:
              for (
                r = this._$7, o = this._$H, n = this._$k, s = this._$f, _ = this._$g, a = this._$w;
                --e >= 0;

              ) {
                var l = t[h++]
                var u = t[h++]
                ;(i[$++] = r * l + o * u + n), (i[$++] = s * l + _ * u + a)
              }
              return
            case b._$go | b._$fo:
              for (r = this._$7, o = this._$H, s = this._$f, _ = this._$g; --e >= 0; ) {
                ;(l = t[h++]), (u = t[h++])
                ;(i[$++] = r * l + o * u), (i[$++] = s * l + _ * u)
              }
              return
            case b._$go | b._$gb:
              for (o = this._$H, n = this._$k, s = this._$f, a = this._$w; --e >= 0; ) {
                l = t[h++]
                ;(i[$++] = o * t[h++] + n), (i[$++] = s * l + a)
              }
              return
            case b._$go:
              for (o = this._$H, s = this._$f; --e >= 0; ) {
                l = t[h++]
                ;(i[$++] = o * t[h++]), (i[$++] = s * l)
              }
              return
            case b._$fo | b._$gb:
              for (r = this._$7, n = this._$k, _ = this._$g, a = this._$w; --e >= 0; )
                (i[$++] = r * t[h++] + n), (i[$++] = _ * t[h++] + a)
              return
            case b._$fo:
              for (r = this._$7, _ = this._$g; --e >= 0; )
                (i[$++] = r * t[h++]), (i[$++] = _ * t[h++])
              return
            case b._$gb:
              for (n = this._$k, a = this._$w; --e >= 0; )
                (i[$++] = t[h++] + n), (i[$++] = t[h++] + a)
              return
            case b.STATE_IDENTITY:
              return void ((t == i && h == $) || I._$jT(t, h, i, $, 2 * e))
          }
        }),
        (b.prototype.update = function () {
          this._$H == 0 && this._$f == 0
            ? this._$7 == 1 && this._$g == 1
              ? this._$k == 0 && this._$w == 0
                ? ((this._$hi = b.STATE_IDENTITY), (this._$Z = b._$pS))
                : ((this._$hi = b._$gb), (this._$Z = b._$hb))
              : this._$k == 0 && this._$w == 0
              ? ((this._$hi = b._$fo), (this._$Z = b._$kS))
              : ((this._$hi = b._$fo | b._$gb), (this._$Z = b._$kS))
            : this._$7 == 0 && this._$g == 0
            ? this._$k == 0 && this._$w == 0
              ? ((this._$hi = b._$go), (this._$Z = b._$kS))
              : ((this._$hi = b._$go | b._$gb), (this._$Z = b._$kS))
            : this._$k == 0 && this._$w == 0
            ? ((this._$hi = b._$go | b._$fo), (this._$Z = b._$kS))
            : ((this._$hi = b._$go | b._$fo | b._$gb), (this._$Z = b._$kS))
        }),
        (b.prototype._$RT = function (t) {
          this._$IT(t)
          const i = t[0]
          const e = t[2]
          const r = t[1]
          const o = t[3]
          const n = Math.sqrt(i * i + r * r)
          const s = i * o - e * r
          n == 0
            ? _t._$so && console.log('affine._$RT() / rt==0')
            : ((t[0] = n), (t[1] = s / n), (t[2] = (r * o + i * e) / s), (t[3] = Math.atan2(r, i)))
        }),
        (b.prototype._$ho = function (t, i, e, r) {
          const o = new Float32Array(6)
          const n = new Float32Array(6)
          t._$RT(o), i._$RT(n)
          const s = new Float32Array(6)
          ;(s[0] = o[0] + (n[0] - o[0]) * e),
            (s[1] = o[1] + (n[1] - o[1]) * e),
            (s[2] = o[2] + (n[2] - o[2]) * e),
            (s[3] = o[3] + (n[3] - o[3]) * e),
            (s[4] = o[4] + (n[4] - o[4]) * e),
            (s[5] = o[5] + (n[5] - o[5]) * e),
            r._$CT(s)
        }),
        (b.prototype._$CT = function (t) {
          const i = Math.cos(t[3])
          const e = Math.sin(t[3])
          ;(this._$7 = t[0] * i),
            (this._$f = t[0] * e),
            (this._$H = t[1] * (t[2] * i - e)),
            (this._$g = t[1] * (t[2] * e + i)),
            (this._$k = t[4]),
            (this._$w = t[5]),
            this.update()
        }),
        (b.prototype._$IT = function (t) {
          ;(t[0] = this._$7),
            (t[1] = this._$f),
            (t[2] = this._$H),
            (t[3] = this._$g),
            (t[4] = this._$k),
            (t[5] = this._$w)
        })
      function F() {
        e ||
          (s.prototype.constructor.call(this),
          (this.motions = new Array()),
          (this._$7r = null),
          (this._$7r = F._$Co++),
          (this._$D0 = 30),
          (this._$yT = 0),
          (this._$E = !0),
          (this.loopFadeIn = !0),
          (this._$AS = -1),
          _$a0())
      }
      ;(F.prototype = new s()),
        (F._$cs = 'VISIBLE:'),
        (F._$ar = 'LAYOUT:'),
        (F._$Co = 0),
        (F._$D2 = []),
        (F._$1T = 1),
        (F.loadMotion = function (t) {
          const i = new F()
          const e = [0]
          const r = t.length
          i._$yT = 0
          for (let o = 0; o < r; ++o) {
            let n = 255 & t[o]
            if (n != '\n' && n != '\r')
              if (n != '#')
                if (n != '$') {
                  if ((n >= 'a' && n <= 'z') || (n >= 'A' && n <= 'Z') || n == '_') {
                    for (h = o, $ = -1; o < r && (n = 255 & t[o]) != '\r' && n != '\n'; ++o)
                      if (n == '=') {
                        $ = o
                        break
                      }
                    if ($ >= 0) {
                      const s = new N()
                      w.startsWith(t, h, F._$cs)
                        ? ((s._$RP = N._$hs), (s._$4P = new String(t, h, $ - h)))
                        : w.startsWith(t, h, F._$ar)
                        ? ((s._$4P = new String(t, h + 7, $ - h - 7)),
                          w.startsWith(t, h + 7, 'ANCHOR_X')
                            ? (s._$RP = N._$xs)
                            : w.startsWith(t, h + 7, 'ANCHOR_Y')
                            ? (s._$RP = N._$us)
                            : w.startsWith(t, h + 7, 'SCALE_X')
                            ? (s._$RP = N._$qs)
                            : w.startsWith(t, h + 7, 'SCALE_Y')
                            ? (s._$RP = N._$Ys)
                            : w.startsWith(t, h + 7, 'X')
                            ? (s._$RP = N._$ws)
                            : w.startsWith(t, h + 7, 'Y') && (s._$RP = N._$Ns))
                        : ((s._$RP = N._$Fr), (s._$4P = new String(t, h, $ - h))),
                        i.motions.push(s)
                      let _ = 0
                      for (
                        F._$D2.clear(), o = $ + 1;
                        o < r && (n = 255 & t[o]) != '\r' && n != '\n';
                        ++o
                      )
                        if (n != ',' && n != ' ' && n != '\t') {
                          u = w._$LS(t, r, o, e)
                          if (e[0] > 0) {
                            F._$D2.push(u), _++
                            const a = e[0]
                            if (a < o) {
                              console.log('_$n0 _$hi . @Live2DMotion loadMotion()\n')
                              break
                            }
                            o = a
                          }
                        }
                      ;(s._$I0 = F._$D2._$BL()), _ > i._$yT && (i._$yT = _)
                    }
                  }
                } else {
                  for (var h = o, $ = -1; o < r && (n = 255 & t[o]) != '\r' && n != '\n'; ++o)
                    if (n == '=') {
                      $ = o
                      break
                    }
                  let l = !1
                  if ($ >= 0)
                    for (
                      $ == h + 4 &&
                        t[h + 1] == 'f' &&
                        t[h + 2] == 'p' &&
                        t[h + 3] == 's' &&
                        (l = !0),
                        o = $ + 1;
                      o < r && (n = 255 & t[o]) != '\r' && n != '\n';
                      ++o
                    )
                      if (n != ',' && n != ' ' && n != '\t') {
                        var u = w._$LS(t, r, o, e)
                        e[0] > 0 && l && u > 5 && u < 121 && (i._$D0 = u), (o = e[0])
                      }
                  for (; o < r && t[o] != '\n' && t[o] != '\r'; ++o);
                }
              else for (; o < r && t[o] != '\n' && t[o] != '\r'; ++o);
          }
          return (i._$AS = ((1e3 * i._$yT) / i._$D0) | 0), i
        }),
        (F.prototype.getDurationMSec = function () {
          return this._$AS
        }),
        (F.prototype.dump = function () {
          for (let t = 0; t < this.motions.length; t++) {
            const i = this.motions[t]
            console.log('_$wL[%s] [%d]. ', i._$4P, i._$I0.length)
            for (let e = 0; e < i._$I0.length && e < 10; e++) console.log('%5.2f ,', i._$I0[e])
            console.log('\n')
          }
        }),
        (F.prototype.updateParamExe = function (t, i, e, r) {
          for (
            var o = ((i - r._$z2) * this._$D0) / 1e3, n = 0 | o, s = o - n, _ = 0;
            _ < this.motions.length;
            _++
          ) {
            const a = this.motions[_]
            const h = a._$I0.length
            const $ = a._$4P
            if (a._$RP == N._$hs) {
              const l = a._$I0[n >= h ? h - 1 : n]
              t.setParamFloat($, l)
            } else if (N._$ws <= a._$RP && a._$RP <= N._$Ys);
            else {
              const u = t.getParamFloat($)
              const p = a._$I0[n >= h ? h - 1 : n]
              const c = u + (p + (a._$I0[n + 1 >= h ? h - 1 : n + 1] - p) * s - u) * e
              t.setParamFloat($, c)
            }
          }
          n >= this._$yT &&
            (this._$E ? ((r._$z2 = i), this.loopFadeIn && (r._$bs = i)) : (r._$9L = !0))
        }),
        (F.prototype._$r0 = function () {
          return this._$E
        }),
        (F.prototype._$aL = function (t) {
          this._$E = t
        }),
        (F.prototype.isLoopFadeIn = function () {
          return this.loopFadeIn
        }),
        (F.prototype.setLoopFadeIn = function (t) {
          this.loopFadeIn = t
        })
      function C() {
        ;(this._$P = new Float32Array(100)), (this.size = 0)
      }
      ;(C.prototype.clear = function () {
        this.size = 0
      }),
        (C.prototype.add = function (t) {
          if (this._$P.length <= this.size) {
            const i = new Float32Array(2 * this.size)
            I._$jT(this._$P, 0, i, 0, this.size), (this._$P = i)
          }
          this._$P[this.size++] = t
        }),
        (C.prototype._$BL = function () {
          const t = new Float32Array(this.size)
          return I._$jT(this._$P, 0, t, 0, this.size), t
        })
      function N() {
        ;(this._$4P = null), (this._$I0 = null), (this._$RP = null)
      }
      ;(N._$Fr = 0),
        (N._$hs = 1),
        (N._$ws = 100),
        (N._$Ns = 101),
        (N._$xs = 102),
        (N._$us = 103),
        (N._$qs = 104),
        (N._$Ys = 105)
      function B() {}
      ;(B._$Ms = 1),
        (B._$Qs = 2),
        (B._$i2 = 0),
        (B._$No = 2),
        (B._$do = B._$Ms),
        (B._$Ls = !0),
        (B._$1r = 5),
        (B._$Qb = 65),
        (B._$J = 1e-4),
        (B._$FT = 0.001),
        (B._$Ss = 3)
      function G() {}
      ;(G._$o7 = 6),
        (G._$S7 = 7),
        (G._$s7 = 8),
        (G._$77 = 9),
        (G.LIVE2D_FORMAT_VERSION_V2_10_SDK2 = 10),
        (G.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1 = 11),
        (G._$T7 = G.LIVE2D_FORMAT_VERSION_V2_11_SDK2_1),
        (G._$Is = -2004318072),
        (G._$h0 = 0),
        (G._$4L = 23),
        (G._$7P = 33),
        (G._$uT = function (t) {
          console.log('_$bo :: _$6 _$mo _$E0 : %d\n', t)
        }),
        (G._$9o = function (t) {
          if (t < 40) return G._$uT(t), null
          if (t < 50) return G._$uT(t), null
          if (t < 60) return G._$uT(t), null
          if (t < 100)
            switch (t) {
              case 65:
                return new Z()
              case 66:
                return new D()
              case 67:
                return new x()
              case 68:
                return new z()
              case 69:
                return new d()
              case 70:
                return new $t()
              default:
                return G._$uT(t), null
            }
          else if (t < 150)
            switch (t) {
              case 131:
                return new nt()
              case 133:
                return new tt()
              case 136:
                return new l()
              case 137:
                return new rt()
              case 142:
                return new j()
            }
          return G._$uT(t), null
        })
      function U(t) {
        e ||
          ((this._$QT = !0),
          (this._$co = -1),
          (this._$qo = 0),
          (this._$pb = new Array(U._$is)),
          (this._$_2 = new Float32Array(U._$is)),
          (this._$vr = new Float32Array(U._$is)),
          (this._$Rr = new Float32Array(U._$is)),
          (this._$Or = new Float32Array(U._$is)),
          (this._$fs = new Float32Array(U._$is)),
          (this._$Js = new Array(U._$is)),
          (this._$3S = new Array()),
          (this._$aS = new Array()),
          (this._$Bo = null),
          (this._$F2 = new Array()),
          (this._$db = new Array()),
          (this._$8b = new Array()),
          (this._$Hr = new Array()),
          (this._$Ws = null),
          (this._$Vs = null),
          (this._$Er = null),
          (this._$Es = new Int16Array(B._$Qb)),
          (this._$ZP = new Float32Array(2 * B._$1r)),
          (this._$Ri = t),
          (this._$b0 = U._$HP++),
          (this.clipManager = null),
          (this.dp_webgl = null))
      }
      ;(U._$HP = 0),
        (U._$_0 = !0),
        (U._$V2 = -1),
        (U._$W0 = -1),
        (U._$jr = !1),
        (U._$ZS = !0),
        (U._$tr = -1e6),
        (U._$lr = 1e6),
        (U._$is = 32),
        (U._$e = !1),
        (U.prototype.getDrawDataIndex = function (t) {
          for (let i = this._$aS.length - 1; i >= 0; --i)
            if (this._$aS[i] != null && this._$aS[i].getDrawDataID() == t) return i
          return -1
        }),
        (U.prototype.getDrawData = function (t) {
          if (t instanceof R) {
            if (this._$Bo == null) {
              this._$Bo = new Object()
              for (let i = this._$aS.length, e = 0; e < i; e++) {
                const r = this._$aS[e]
                const o = r.getDrawDataID()
                o != null && (this._$Bo[o] = r)
              }
            }
            return this._$Bo[id]
          }
          return t < this._$aS.length ? this._$aS[t] : null
        }),
        (U.prototype.release = function () {
          this._$3S.clear(),
            this._$aS.clear(),
            this._$F2.clear(),
            this._$Bo != null && this._$Bo.clear(),
            this._$db.clear(),
            this._$8b.clear(),
            this._$Hr.clear()
        }),
        (U.prototype.init = function () {
          this._$co++, this._$F2.length > 0 && this.release()
          for (
            var t = this._$Ri.getModelImpl(),
              i = t._$Xr(),
              e = i.length,
              r = new Array(),
              n = new Array(),
              s = 0;
            s < e;
            ++s
          ) {
            const _ = i[s]
            this._$F2.push(_), this._$Hr.push(_.init(this))
            for (var a = _.getBaseData(), h = a.length, $ = 0; $ < h; ++$) r.push(a[$])
            for ($ = 0; $ < h; ++$) {
              const l = a[$].init(this)
              l._$l2(s), n.push(l)
            }
            const u = _.getDrawData()
            const p = u.length
            for ($ = 0; $ < p; ++$) {
              const c = u[$]
              const f = c.init(this)
              ;(f._$IP = s), this._$aS.push(c), this._$8b.push(f)
            }
          }
          for (let g = r.length, y = yt._$2o(); ; ) {
            let d = !1
            for (s = 0; s < g; ++s) {
              const m = r[s]
              if (m != null) {
                const T = m.getTargetBaseDataID()
                ;(T == null || T == y || this.getBaseDataIndex(T) >= 0) &&
                  (this._$3S.push(m), this._$db.push(n[s]), (r[s] = null), (d = !0))
              }
            }
            if (!d) break
          }
          const P = t._$E2()
          if (P != null) {
            const S = P._$1s()
            if (S != null) {
              const v = S.length
              for (s = 0; s < v; ++s) {
                const L = S[s]
                L != null &&
                  this._$02(L.getParamID(), L.getDefaultValue(), L.getMinValue(), L.getMaxValue())
              }
            }
          }
          ;(this.clipManager = new o(this.dp_webgl)),
            this.clipManager.init(this, this._$aS, this._$8b),
            (this._$QT = !0)
        }),
        (U.prototype.update = function () {
          U._$e && _.start('_$zL')
          for (var t = this._$_2.length, i = 0; i < t; i++)
            this._$_2[i] != this._$vr[i] && ((this._$Js[i] = U._$ZS), (this._$vr[i] = this._$_2[i]))
          const e = this._$3S.length
          const r = this._$aS.length
          const o = W._$or()
          const n = W._$Pr() - o + 1
          ;(this._$Ws == null || this._$Ws.length < n) &&
            ((this._$Ws = new Int16Array(n)), (this._$Vs = new Int16Array(n)))
          for (i = 0; i < n; i++) (this._$Ws[i] = U._$V2), (this._$Vs[i] = U._$V2)
          ;(this._$Er == null || this._$Er.length < r) && (this._$Er = new Int16Array(r))
          for (i = 0; i < r; i++) this._$Er[i] = U._$W0
          U._$e && _.dump('_$zL'), U._$e && _.start('_$UL')
          for (var s = null, a = 0; a < e; ++a) {
            const h = this._$3S[a]
            const $ = this._$db[a]
            try {
              h._$Nr(this, $), h._$2b(this, $)
            } catch (t) {
              s == null && (s = t)
            }
          }
          s != null && U._$_0 && _._$Rb(s), U._$e && _.dump('_$UL'), U._$e && _.start('_$DL')
          for (var l = null, u = 0; u < r; ++u) {
            const p = this._$aS[u]
            const c = this._$8b[u]
            try {
              if ((p._$Nr(this, c), c._$u2())) continue
              p._$2b(this, c)
              var f
              let g = Math.floor(p._$zS(this, c) - o)
              try {
                f = this._$Vs[g]
              } catch (t) {
                console.log(
                  '_$li :: %s / %s        @@_$fS\n',
                  t.toString(),
                  p.getDrawDataID().toString()
                ),
                  (g = Math.floor(p._$zS(this, c) - o))
                continue
              }
              f == U._$V2 ? (this._$Ws[g] = u) : (this._$Er[f] = u), (this._$Vs[g] = u)
            } catch (t) {
              l == null && ((l = t), _t._$sT(_t._$H7))
            }
          }
          l != null && U._$_0 && _._$Rb(l), U._$e && _.dump('_$DL'), U._$e && _.start('_$eL')
          for (i = this._$Js.length - 1; i >= 0; i--) this._$Js[i] = U._$jr
          return (this._$QT = !1), U._$e && _.dump('_$eL'), !1
        }),
        (U.prototype.preDraw = function (t) {
          this.clipManager != null && (t._$ZT(), this.clipManager.setupClip(this, t))
        }),
        (U.prototype.draw = function (t) {
          if (this._$Ws != null) {
            const i = this._$Ws.length
            t._$ZT()
            for (let e = 0; e < i; ++e) {
              let r = this._$Ws[e]
              if (r != U._$V2)
                for (;;) {
                  const o = this._$aS[r]
                  const n = this._$8b[r]
                  if (n._$yo()) {
                    const s = n._$IP
                    const a = this._$Hr[s]
                    ;(n._$VS = a.getPartsOpacity()), o.draw(t, this, n)
                  }
                  const h = this._$Er[r]
                  if (h <= r || h == U._$W0) break
                  r = h
                }
            }
          } else _._$li('call _$Ri.update() before _$Ri.draw() ')
        }),
        (U.prototype.getParamIndex = function (t) {
          for (let i = this._$pb.length - 1; i >= 0; --i) if (this._$pb[i] == t) return i
          return this._$02(t, 0, U._$tr, U._$lr)
        }),
        (U.prototype._$BS = function (t) {
          return this.getBaseDataIndex(t)
        }),
        (U.prototype.getBaseDataIndex = function (t) {
          for (let i = this._$3S.length - 1; i >= 0; --i)
            if (this._$3S[i] != null && this._$3S[i].getBaseDataID() == t) return i
          return -1
        }),
        (U.prototype._$UT = function (t, i) {
          const e = new Float32Array(i)
          return I._$jT(t, 0, e, 0, t.length), e
        }),
        (U.prototype._$02 = function (t, i, e, r) {
          if (this._$qo >= this._$pb.length) {
            const o = this._$pb.length
            const n = new Array(2 * o)
            I._$jT(this._$pb, 0, n, 0, o),
              (this._$pb = n),
              (this._$_2 = this._$UT(this._$_2, 2 * o)),
              (this._$vr = this._$UT(this._$vr, 2 * o)),
              (this._$Rr = this._$UT(this._$Rr, 2 * o)),
              (this._$Or = this._$UT(this._$Or, 2 * o))
            const s = new Array()
            I._$jT(this._$Js, 0, s, 0, o), (this._$Js = s)
          }
          return (
            (this._$pb[this._$qo] = t),
            (this._$_2[this._$qo] = i),
            (this._$vr[this._$qo] = i),
            (this._$Rr[this._$qo] = e),
            (this._$Or[this._$qo] = r),
            (this._$Js[this._$qo] = U._$ZS),
            this._$qo++
          )
        }),
        (U.prototype._$Zo = function (t, i) {
          this._$3S[t] = i
        }),
        (U.prototype.setParamFloat = function (t, i) {
          i < this._$Rr[t] && (i = this._$Rr[t]),
            i > this._$Or[t] && (i = this._$Or[t]),
            (this._$_2[t] = i)
        }),
        (U.prototype.loadParam = function () {
          let t = this._$_2.length
          t > this._$fs.length && (t = this._$fs.length), I._$jT(this._$fs, 0, this._$_2, 0, t)
        }),
        (U.prototype.saveParam = function () {
          const t = this._$_2.length
          t > this._$fs.length && (this._$fs = new Float32Array(t)),
            I._$jT(this._$_2, 0, this._$fs, 0, t)
        }),
        (U.prototype._$v2 = function () {
          return this._$co
        }),
        (U.prototype._$WS = function () {
          return this._$QT
        }),
        (U.prototype._$Xb = function (t) {
          return this._$Js[t] == U._$ZS
        }),
        (U.prototype._$vs = function () {
          return this._$Es
        }),
        (U.prototype._$Tr = function () {
          return this._$ZP
        }),
        (U.prototype.getBaseData = function (t) {
          return this._$3S[t]
        }),
        (U.prototype.getParamFloat = function (t) {
          return this._$_2[t]
        }),
        (U.prototype.getParamMax = function (t) {
          return this._$Or[t]
        }),
        (U.prototype.getParamMin = function (t) {
          return this._$Rr[t]
        }),
        (U.prototype.setPartsOpacity = function (t, i) {
          this._$Hr[t].setPartsOpacity(i)
        }),
        (U.prototype.getPartsOpacity = function (t) {
          return this._$Hr[t].getPartsOpacity()
        }),
        (U.prototype.getPartsDataIndex = function (t) {
          for (let i = this._$F2.length - 1; i >= 0; --i)
            if (this._$F2[i] != null && this._$F2[i]._$p2() == t) return i
          return -1
        }),
        (U.prototype._$q2 = function (t) {
          return this._$db[t]
        }),
        (U.prototype._$C2 = function (t) {
          return this._$8b[t]
        }),
        (U.prototype._$Bb = function (t) {
          return this._$Hr[t]
        }),
        (U.prototype._$5s = function (t, i) {
          for (let e = this._$Ws.length, r = t, o = 0; o < e; ++o) {
            let n = this._$Ws[o]
            if (n != U._$V2)
              for (;;) {
                const s = this._$8b[n]
                s._$yo() && (s._$GT()._$B2(this, s, r), (r += i))
                const _ = this._$Er[n]
                if (_ <= n || _ == U._$W0) break
                n = _
              }
          }
        }),
        (U.prototype.setDrawParam = function (t) {
          this.dp_webgl = t
        }),
        (U.prototype.getDrawParam = function () {
          return this.dp_webgl
        })
      function Y() {}
      ;(Y._$0T = function (t) {
        return Y._$0T(new _$5(t))
      }),
        (Y._$0T = function (t) {
          if (!t.exists()) throw new _$ls(t._$3b())
          for (
            var i, e = t.length(), r = new Int8Array(e), o = new _$Xs(new _$kb(t), 8192), n = 0;
            (i = o.read(r, n, e - n)) > 0;

          )
            n += i
          return r
        }),
        (Y._$C = function (t) {
          let i = null
          let e = null
          try {
            ;(i = t instanceof Array ? t : new _$Xs(t, 8192)), (e = new _$js())
            for (var r, o = new Int8Array(1e3); (r = i.read(o)) > 0; ) e.write(o, 0, r)
            return e._$TS()
          } finally {
            t != null && t.close(), e != null && (e.flush(), e.close())
          }
        })
      function k() {
        e ||
          ((this._$12 = null),
          (this._$bb = null),
          (this._$_L = null),
          (this._$jo = null),
          (this._$iL = null),
          (this._$0L = null),
          (this._$Br = null),
          (this._$Dr = null),
          (this._$Cb = null),
          (this._$mr = null),
          (this._$_L = V.STATE_FIRST),
          (this._$Br = 4e3),
          (this._$Dr = 100),
          (this._$Cb = 50),
          (this._$mr = 150),
          (this._$jo = !0),
          (this._$iL = 'PARAM_EYE_L_OPEN'),
          (this._$0L = 'PARAM_EYE_R_OPEN'))
      }
      ;(k.prototype._$T2 = function () {
        return I.getUserTimeMSec() + Math._$10() * (2 * this._$Br - 1)
      }),
        (k.prototype._$uo = function (t) {
          this._$Br = t
        }),
        (k.prototype._$QS = function (t, i, e) {
          ;(this._$Dr = t), (this._$Cb = i), (this._$mr = e)
        }),
        (k.prototype._$7T = function (t) {
          let i
          const e = I.getUserTimeMSec()
          let r = 0
          switch (this._$_L) {
            case STATE_CLOSING:
              ;(r = (e - this._$bb) / this._$Dr) >= 1 &&
                ((r = 1), (this._$_L = V.STATE_CLOSED), (this._$bb = e)),
                (i = 1 - r)
              break
            case STATE_CLOSED:
              ;(r = (e - this._$bb) / this._$Cb) >= 1 &&
                ((this._$_L = V.STATE_OPENING), (this._$bb = e)),
                (i = 0)
              break
            case STATE_OPENING:
              ;(r = (e - this._$bb) / this._$mr) >= 1 &&
                ((r = 1), (this._$_L = V.STATE_INTERVAL), (this._$12 = this._$T2())),
                (i = r)
              break
            case STATE_INTERVAL:
              this._$12 < e && ((this._$_L = V.STATE_CLOSING), (this._$bb = e)), (i = 1)
              break
            case STATE_FIRST:
            default:
              ;(this._$_L = V.STATE_INTERVAL), (this._$12 = this._$T2()), (i = 1)
          }
          this._$jo || (i = -i), t.setParamFloat(this._$iL, i), t.setParamFloat(this._$0L, i)
        })
      var V = function () {}
      ;(V.STATE_FIRST = 'STATE_FIRST'),
        (V.STATE_INTERVAL = 'STATE_INTERVAL'),
        (V.STATE_CLOSING = 'STATE_CLOSING'),
        (V.STATE_CLOSED = 'STATE_CLOSED'),
        (V.STATE_OPENING = 'STATE_OPENING')
      function X() {
        e ||
          (M.prototype.constructor.call(this),
          (this._$sb = new Int32Array(X._$As)),
          (this._$U2 = new Array()),
          (this.transform = null),
          (this.gl = null),
          X._$NT == null &&
            ((X._$NT = X._$9r(256)), (X._$vS = X._$9r(256)), (X._$no = X._$vb(256))))
      }
      ;(X.prototype = new M()),
        (X._$As = 32),
        (X._$Gr = !1),
        (X._$NT = null),
        (X._$vS = null),
        (X._$no = null),
        (X._$9r = function (t) {
          return new Float32Array(t)
        }),
        (X._$vb = function (t) {
          return new Int16Array(t)
        }),
        (X._$cr = function (t, i) {
          return (
            t == null || t._$yL() < i.length
              ? ((t = X._$9r(2 * i.length)).put(i), t._$oT(0))
              : (t.clear(), t.put(i), t._$oT(0)),
            t
          )
        }),
        (X._$mb = function (t, i) {
          return (
            t == null || t._$yL() < i.length
              ? ((t = X._$vb(2 * i.length)).put(i), t._$oT(0))
              : (t.clear(), t.put(i), t._$oT(0)),
            t
          )
        }),
        (X._$Hs = function () {
          return X._$Gr
        }),
        (X._$as = function (t) {
          X._$Gr = t
        }),
        (X.prototype.setGL = function (t) {
          this.gl = t
        }),
        (X.prototype.setTransform = function (t) {
          this.transform = t
        }),
        (X.prototype._$ZT = function () {}),
        (X.prototype._$Uo = function (t, i, e, r, o, n, s, _) {
          if (!(n < 0.01)) {
            const a = this._$U2[t]
            const h = n > 0.9 ? _t.EXPAND_W : 0
            this.gl.drawElements(a, e, r, o, n, h, this.transform, _)
          }
        }),
        (X.prototype._$Rs = function () {
          throw new Error('_$Rs')
        }),
        (X.prototype._$Ds = function (t) {
          throw new Error('_$Ds')
        }),
        (X.prototype._$K2 = function () {
          for (let t = 0; t < this._$sb.length; t++) {
            this._$sb[t] != 0 && (this.gl._$Sr(1, this._$sb, t), (this._$sb[t] = 0))
          }
        }),
        (X.prototype.setTexture = function (t, i) {
          this._$sb.length < t + 1 && this._$nS(t), (this._$sb[t] = i)
        }),
        (X.prototype.setTexture = function (t, i) {
          this._$sb.length < t + 1 && this._$nS(t), (this._$U2[t] = i)
        }),
        (X.prototype._$nS = function (t) {
          const i = Math.max(2 * this._$sb.length, t + 1 + 10)
          const e = new Int32Array(i)
          I._$jT(this._$sb, 0, e, 0, this._$sb.length), (this._$sb = e)
          const r = new Array()
          I._$jT(this._$U2, 0, r, 0, this._$U2.length), (this._$U2 = r)
        })
      function z() {
        e || (A.prototype.constructor.call(this), (this._$GS = null), (this._$Y0 = null))
      }
      ;(z.prototype = new A()),
        (z._$Xo = new Float32Array(2)),
        (z._$io = new Float32Array(2)),
        (z._$0o = new Float32Array(2)),
        (z._$Lo = new Float32Array(2)),
        (z._$To = new Float32Array(2)),
        (z._$Po = new Float32Array(2)),
        (z._$gT = new Array()),
        (z.prototype._$zP = function () {
          ;(this._$GS = new D()), this._$GS._$zP(), (this._$Y0 = new Array())
        }),
        (z.prototype.getType = function () {
          return A._$c2
        }),
        (z.prototype._$F0 = function (t) {
          A.prototype._$F0.call(this, t),
            (this._$GS = t._$nP()),
            (this._$Y0 = t._$nP()),
            A.prototype.readV2_opacity.call(this, t)
        }),
        (z.prototype.init = function (t) {
          const i = new H(this)
          return (i._$Yr = new d()), this._$32() && (i._$Wr = new d()), i
        }),
        (z.prototype._$Nr = function (t, i) {
          this != i._$GT() && console.log('### assert!! ### ')
          const e = i
          if (this._$GS._$Ur(t)) {
            const r = z._$gT
            r[0] = !1
            const o = this._$GS._$Q2(t, r)
            i._$Ib(r[0]), this.interpolateOpacity(t, this._$GS, i, r)
            const n = t._$vs()
            const s = t._$Tr()
            if ((this._$GS._$zr(n, s, o), o <= 0)) {
              var _ = this._$Y0[n[0]]
              e._$Yr.init(_)
            } else if (o == 1) {
              _ = this._$Y0[n[0]]
              var a = this._$Y0[n[1]]
              var h = s[0]
              ;(e._$Yr._$fL = _._$fL + (a._$fL - _._$fL) * h),
                (e._$Yr._$gL = _._$gL + (a._$gL - _._$gL) * h),
                (e._$Yr._$B0 = _._$B0 + (a._$B0 - _._$B0) * h),
                (e._$Yr._$z0 = _._$z0 + (a._$z0 - _._$z0) * h),
                (e._$Yr._$qT = _._$qT + (a._$qT - _._$qT) * h)
            } else if (o == 2) {
              ;(_ = this._$Y0[n[0]]), (a = this._$Y0[n[1]])
              const $ = this._$Y0[n[2]]
              const l = this._$Y0[n[3]]
              var u = ((h = s[0]), s[1])
              var p = _._$fL + (a._$fL - _._$fL) * h
              var c = $._$fL + (l._$fL - $._$fL) * h
              ;(e._$Yr._$fL = p + (c - p) * u),
                (p = _._$gL + (a._$gL - _._$gL) * h),
                (c = $._$gL + (l._$gL - $._$gL) * h),
                (e._$Yr._$gL = p + (c - p) * u),
                (p = _._$B0 + (a._$B0 - _._$B0) * h),
                (c = $._$B0 + (l._$B0 - $._$B0) * h),
                (e._$Yr._$B0 = p + (c - p) * u),
                (p = _._$z0 + (a._$z0 - _._$z0) * h),
                (c = $._$z0 + (l._$z0 - $._$z0) * h),
                (e._$Yr._$z0 = p + (c - p) * u),
                (p = _._$qT + (a._$qT - _._$qT) * h),
                (c = $._$qT + (l._$qT - $._$qT) * h),
                (e._$Yr._$qT = p + (c - p) * u)
            } else if (o == 3) {
              const f = this._$Y0[n[0]]
              const g = this._$Y0[n[1]]
              const y = this._$Y0[n[2]]
              const d = this._$Y0[n[3]]
              const m = this._$Y0[n[4]]
              const T = this._$Y0[n[5]]
              const P = this._$Y0[n[6]]
              const S = this._$Y0[n[7]]
              var v = ((h = s[0]), (u = s[1]), s[2])
              var L =
                ((p = f._$fL + (g._$fL - f._$fL) * h),
                (c = y._$fL + (d._$fL - y._$fL) * h),
                m._$fL + (T._$fL - m._$fL) * h)
              var M = P._$fL + (S._$fL - P._$fL) * h
              ;(e._$Yr._$fL = (1 - v) * (p + (c - p) * u) + v * (L + (M - L) * u)),
                (p = f._$gL + (g._$gL - f._$gL) * h),
                (c = y._$gL + (d._$gL - y._$gL) * h),
                (L = m._$gL + (T._$gL - m._$gL) * h),
                (M = P._$gL + (S._$gL - P._$gL) * h),
                (e._$Yr._$gL = (1 - v) * (p + (c - p) * u) + v * (L + (M - L) * u)),
                (p = f._$B0 + (g._$B0 - f._$B0) * h),
                (c = y._$B0 + (d._$B0 - y._$B0) * h),
                (L = m._$B0 + (T._$B0 - m._$B0) * h),
                (M = P._$B0 + (S._$B0 - P._$B0) * h),
                (e._$Yr._$B0 = (1 - v) * (p + (c - p) * u) + v * (L + (M - L) * u)),
                (p = f._$z0 + (g._$z0 - f._$z0) * h),
                (c = y._$z0 + (d._$z0 - y._$z0) * h),
                (L = m._$z0 + (T._$z0 - m._$z0) * h),
                (M = P._$z0 + (S._$z0 - P._$z0) * h),
                (e._$Yr._$z0 = (1 - v) * (p + (c - p) * u) + v * (L + (M - L) * u)),
                (p = f._$qT + (g._$qT - f._$qT) * h),
                (c = y._$qT + (d._$qT - y._$qT) * h),
                (L = m._$qT + (T._$qT - m._$qT) * h),
                (M = P._$qT + (S._$qT - P._$qT) * h),
                (e._$Yr._$qT = (1 - v) * (p + (c - p) * u) + v * (L + (M - L) * u))
            } else if (o == 4) {
              const E = this._$Y0[n[0]]
              const A = this._$Y0[n[1]]
              const I = this._$Y0[n[2]]
              const x = this._$Y0[n[3]]
              const w = this._$Y0[n[4]]
              const D = this._$Y0[n[5]]
              const O = this._$Y0[n[6]]
              const R = this._$Y0[n[7]]
              const b = this._$Y0[n[8]]
              const F = this._$Y0[n[9]]
              const C = this._$Y0[n[10]]
              const N = this._$Y0[n[11]]
              const B = this._$Y0[n[12]]
              const G = this._$Y0[n[13]]
              const U = this._$Y0[n[14]]
              const Y = this._$Y0[n[15]]
              const k = ((h = s[0]), (u = s[1]), (v = s[2]), s[3])
              let V =
                ((p = E._$fL + (A._$fL - E._$fL) * h),
                (c = I._$fL + (x._$fL - I._$fL) * h),
                (L = w._$fL + (D._$fL - w._$fL) * h),
                (M = O._$fL + (R._$fL - O._$fL) * h),
                b._$fL + (F._$fL - b._$fL) * h)
              let X = C._$fL + (N._$fL - C._$fL) * h
              let H = B._$fL + (G._$fL - B._$fL) * h
              let W = U._$fL + (Y._$fL - U._$fL) * h
              ;(e._$Yr._$fL =
                (1 - k) * ((1 - v) * (p + (c - p) * u) + v * (L + (M - L) * u)) +
                k * ((1 - v) * (V + (X - V) * u) + v * (H + (W - H) * u))),
                (p = E._$gL + (A._$gL - E._$gL) * h),
                (c = I._$gL + (x._$gL - I._$gL) * h),
                (L = w._$gL + (D._$gL - w._$gL) * h),
                (M = O._$gL + (R._$gL - O._$gL) * h),
                (V = b._$gL + (F._$gL - b._$gL) * h),
                (X = C._$gL + (N._$gL - C._$gL) * h),
                (H = B._$gL + (G._$gL - B._$gL) * h),
                (W = U._$gL + (Y._$gL - U._$gL) * h),
                (e._$Yr._$gL =
                  (1 - k) * ((1 - v) * (p + (c - p) * u) + v * (L + (M - L) * u)) +
                  k * ((1 - v) * (V + (X - V) * u) + v * (H + (W - H) * u))),
                (p = E._$B0 + (A._$B0 - E._$B0) * h),
                (c = I._$B0 + (x._$B0 - I._$B0) * h),
                (L = w._$B0 + (D._$B0 - w._$B0) * h),
                (M = O._$B0 + (R._$B0 - O._$B0) * h),
                (V = b._$B0 + (F._$B0 - b._$B0) * h),
                (X = C._$B0 + (N._$B0 - C._$B0) * h),
                (H = B._$B0 + (G._$B0 - B._$B0) * h),
                (W = U._$B0 + (Y._$B0 - U._$B0) * h),
                (e._$Yr._$B0 =
                  (1 - k) * ((1 - v) * (p + (c - p) * u) + v * (L + (M - L) * u)) +
                  k * ((1 - v) * (V + (X - V) * u) + v * (H + (W - H) * u))),
                (p = E._$z0 + (A._$z0 - E._$z0) * h),
                (c = I._$z0 + (x._$z0 - I._$z0) * h),
                (L = w._$z0 + (D._$z0 - w._$z0) * h),
                (M = O._$z0 + (R._$z0 - O._$z0) * h),
                (V = b._$z0 + (F._$z0 - b._$z0) * h),
                (X = C._$z0 + (N._$z0 - C._$z0) * h),
                (H = B._$z0 + (G._$z0 - B._$z0) * h),
                (W = U._$z0 + (Y._$z0 - U._$z0) * h),
                (e._$Yr._$z0 =
                  (1 - k) * ((1 - v) * (p + (c - p) * u) + v * (L + (M - L) * u)) +
                  k * ((1 - v) * (V + (X - V) * u) + v * (H + (W - H) * u))),
                (p = E._$qT + (A._$qT - E._$qT) * h),
                (c = I._$qT + (x._$qT - I._$qT) * h),
                (L = w._$qT + (D._$qT - w._$qT) * h),
                (M = O._$qT + (R._$qT - O._$qT) * h),
                (V = b._$qT + (F._$qT - b._$qT) * h),
                (X = C._$qT + (N._$qT - C._$qT) * h),
                (H = B._$qT + (G._$qT - B._$qT) * h),
                (W = U._$qT + (Y._$qT - U._$qT) * h),
                (e._$Yr._$qT =
                  (1 - k) * ((1 - v) * (p + (c - p) * u) + v * (L + (M - L) * u)) +
                  k * ((1 - v) * (V + (X - V) * u) + v * (H + (W - H) * u)))
            } else {
              for (var j = 0 | Math.pow(2, o), q = new Float32Array(j), J = 0; J < j; J++) {
                for (var Q = J, Z = 1, K = 0; K < o; K++)
                  (Z *= Q % 2 == 0 ? 1 - s[K] : s[K]), (Q /= 2)
                q[J] = Z
              }
              for (var tt = new Array(), it = 0; it < j; it++) tt[it] = this._$Y0[n[it]]
              let et = 0
              let rt = 0
              let ot = 0
              let nt = 0
              let st = 0
              for (it = 0; it < j; it++)
                (et += q[it] * tt[it]._$fL),
                  (rt += q[it] * tt[it]._$gL),
                  (ot += q[it] * tt[it]._$B0),
                  (nt += q[it] * tt[it]._$z0),
                  (st += q[it] * tt[it]._$qT)
              ;(e._$Yr._$fL = et),
                (e._$Yr._$gL = rt),
                (e._$Yr._$B0 = ot),
                (e._$Yr._$z0 = nt),
                (e._$Yr._$qT = st)
            }
            _ = this._$Y0[n[0]]
            ;(e._$Yr.reflectX = _.reflectX), (e._$Yr.reflectY = _.reflectY)
          }
        }),
        (z.prototype._$2b = function (t, i) {
          this != i._$GT() && console.log('### assert!! ### ')
          const e = i
          if ((e._$hS(!0), this._$32())) {
            const r = this.getTargetBaseDataID()
            if ((e._$8r == A._$ur && (e._$8r = t.getBaseDataIndex(r)), e._$8r < 0))
              _t._$so && _._$li('_$L _$0P _$G :: %s', r), e._$hS(!1)
            else {
              const o = t.getBaseData(e._$8r)
              if (o != null) {
                const n = t._$q2(e._$8r)
                const s = z._$Xo
                ;(s[0] = e._$Yr._$fL), (s[1] = e._$Yr._$gL)
                const a = z._$io
                ;(a[0] = 0), (a[1] = -0.1)
                n._$GT().getType() == A._$c2 ? (a[1] = -10) : (a[1] = -0.1)
                const h = z._$0o
                this._$Jr(t, o, n, s, a, h)
                const $ = vt._$92(a, h)
                o._$nb(t, n, s, s, 1, 0, 2),
                  (e._$Wr._$fL = s[0]),
                  (e._$Wr._$gL = s[1]),
                  (e._$Wr._$B0 = e._$Yr._$B0),
                  (e._$Wr._$z0 = e._$Yr._$z0),
                  (e._$Wr._$qT = e._$Yr._$qT - $ * vt._$NS)
                const l = n.getTotalScale()
                e.setTotalScale_notForClient(l * e._$Wr._$B0)
                const u = n.getTotalOpacity()
                e.setTotalOpacity(u * e.getInterpolatedOpacity()),
                  (e._$Wr.reflectX = e._$Yr.reflectX),
                  (e._$Wr.reflectY = e._$Yr.reflectY),
                  e._$hS(n._$yo())
              } else e._$hS(!1)
            }
          } else
            e.setTotalScale_notForClient(e._$Yr._$B0), e.setTotalOpacity(e.getInterpolatedOpacity())
        }),
        (z.prototype._$nb = function (t, i, e, r, o, n, s) {
          this != i._$GT() && console.log('### assert!! ### ')
          for (
            var _,
              a,
              h = i,
              $ = h._$Wr != null ? h._$Wr : h._$Yr,
              l = Math.sin(vt._$bS * $._$qT),
              u = Math.cos(vt._$bS * $._$qT),
              p = h.getTotalScale(),
              c = $.reflectX ? -1 : 1,
              f = $.reflectY ? -1 : 1,
              g = u * p * c,
              y = -l * p * f,
              d = l * p * c,
              m = u * p * f,
              T = $._$fL,
              P = $._$gL,
              S = o * s,
              v = n;
            v < S;
            v += s
          )
            (_ = e[v]), (a = e[v + 1]), (r[v] = g * _ + y * a + T), (r[v + 1] = d * _ + m * a + P)
        }),
        (z.prototype._$Jr = function (t, i, e, r, o, n) {
          i != e._$GT() && console.log('### assert!! ### ')
          const s = z._$Lo
          ;(z._$Lo[0] = r[0]), (z._$Lo[1] = r[1]), i._$nb(t, e, s, s, 1, 0, 2)
          for (let _ = z._$To, a = z._$Po, h = 1, $ = 0; $ < 10; $++) {
            if (
              ((a[0] = r[0] + h * o[0]),
              (a[1] = r[1] + h * o[1]),
              i._$nb(t, e, a, _, 1, 0, 2),
              (_[0] -= s[0]),
              (_[1] -= s[1]),
              _[0] != 0 || _[1] != 0)
            )
              return (n[0] = _[0]), void (n[1] = _[1])
            if (
              ((a[0] = r[0] - h * o[0]),
              (a[1] = r[1] - h * o[1]),
              i._$nb(t, e, a, _, 1, 0, 2),
              (_[0] -= s[0]),
              (_[1] -= s[1]),
              _[0] != 0 || _[1] != 0)
            )
              return (_[0] = -_[0]), (_[0] = -_[0]), (n[0] = _[0]), void (n[1] = _[1])
            h *= 0.1
          }
          _t._$so && console.log('_$L0 to transform _$SP\n')
        })
      function H(t) {
        st.prototype.constructor.call(this, t),
          (this._$8r = A._$ur),
          (this._$Yr = null),
          (this._$Wr = null)
      }
      H.prototype = new st()
      function W() {
        e ||
          (L.prototype.constructor.call(this),
          (this._$gP = null),
          (this._$dr = null),
          (this._$GS = null),
          (this._$qb = null),
          (this._$Lb = null),
          (this._$mS = null))
      }
      ;(W.prototype = new L()),
        (W._$ur = -2),
        (W._$ES = 500),
        (W._$wb = 2),
        (W._$8S = 3),
        (W._$os = 4),
        (W._$52 = W._$ES),
        (W._$R2 = W._$ES),
        (W._$Sb = function (t) {
          for (let i = t.length - 1; i >= 0; --i) {
            const e = t[i]
            e < W._$52 ? (W._$52 = e) : e > W._$R2 && (W._$R2 = e)
          }
        }),
        (W._$or = function () {
          return W._$52
        }),
        (W._$Pr = function () {
          return W._$R2
        }),
        (W.prototype._$F0 = function (t) {
          ;(this._$gP = t._$nP()),
            (this._$dr = t._$nP()),
            (this._$GS = t._$nP()),
            (this._$qb = t._$6L()),
            (this._$Lb = t._$cS()),
            (this._$mS = t._$Tb()),
            t.getFormatVersion() >= G._$T7
              ? ((this.clipID = t._$nP()),
                (this.clipIDList = this.convertClipIDForV2_11(this.clipID)))
              : (this.clipIDList = null),
            W._$Sb(this._$Lb)
        }),
        (W.prototype.getClipIDList = function () {
          return this.clipIDList
        }),
        (W.prototype._$Nr = function (t, i) {
          if (((i._$IS[0] = !1), (i._$Us = S._$Z2(t, this._$GS, i._$IS, this._$Lb)), _t._$Zs));
          else if (i._$IS[0]) return
          i._$7s = S._$br(t, this._$GS, i._$IS, this._$mS)
        }),
        (W.prototype._$2b = function (t) {}),
        (W.prototype.getDrawDataID = function () {
          return this._$gP
        }),
        (W.prototype._$j2 = function (t) {
          this._$gP = t
        }),
        (W.prototype.getOpacity = function (t, i) {
          return i._$7s
        }),
        (W.prototype._$zS = function (t, i) {
          return i._$Us
        }),
        (W.prototype.getTargetBaseDataID = function () {
          return this._$dr
        }),
        (W.prototype._$gs = function (t) {
          this._$dr = t
        }),
        (W.prototype._$32 = function () {
          return this._$dr != null && this._$dr != yt._$2o()
        }),
        (W.prototype.getType = function () {})
      function j() {
        e || ((this._$NL = null), (this._$3S = null), (this._$aS = null), j._$42++)
      }
      ;(j._$42 = 0),
        (j.prototype._$1b = function () {
          return this._$3S
        }),
        (j.prototype.getDrawDataList = function () {
          return this._$aS
        }),
        (j.prototype._$F0 = function (t) {
          ;(this._$NL = t._$nP()), (this._$aS = t._$nP()), (this._$3S = t._$nP())
        }),
        (j.prototype._$kr = function (t) {
          t._$Zo(this._$3S), t._$xo(this._$aS), (this._$3S = null), (this._$aS = null)
        })
      function q() {
        e || (r.prototype.constructor.call(this), (this._$zo = new X()))
      }
      ;(q.prototype = new r()),
        (q.loadModel = function (t) {
          const i = new q()
          return r._$62(i, t), i
        }),
        (q.loadModel = function (t) {
          const i = new q()
          return r._$62(i, t), i
        }),
        (q._$to = function () {
          return new q()
        }),
        (q._$er = function (t) {
          const i = new _$5('../_$_r/_$t0/_$Ri/_$_P._$d')
          if (i.exists() == 0) throw new _$ls('_$t0 _$_ _$6 _$Ui :: ' + i._$PL())
          for (
            var e = [
                '../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1',
                '../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1',
                '../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1',
                '../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1',
              ],
              r = q.loadModel(i._$3b()),
              o = 0;
            o < e.length;
            o++
          ) {
            const n = new _$5(e[o])
            if (n.exists() == 0) throw new _$ls('_$t0 _$_ _$6 _$Ui :: ' + n._$PL())
            r.setTexture(o, _$nL._$_o(t, n._$3b()))
          }
          return r
        }),
        (q.prototype.setGL = function (t) {
          this._$zo.setGL(t)
        }),
        (q.prototype.setTransform = function (t) {
          this._$zo.setTransform(t)
        }),
        (q.prototype.draw = function () {
          this._$5S.draw(this._$zo)
        }),
        (q.prototype._$K2 = function () {
          this._$zo._$K2()
        }),
        (q.prototype.setTexture = function (t, i) {
          this._$zo == null && _._$li('_$Yi for QT _$ki / _$XS() is _$6 _$ui!!'),
            this._$zo.setTexture(t, i)
        }),
        (q.prototype.setTexture = function (t, i) {
          this._$zo == null && _._$li('_$Yi for QT _$ki / _$XS() is _$6 _$ui!!'),
            this._$zo.setTexture(t, i)
        }),
        (q.prototype._$Rs = function () {
          return this._$zo._$Rs()
        }),
        (q.prototype._$Ds = function (t) {
          this._$zo._$Ds(t)
        }),
        (q.prototype.getDrawParam = function () {
          return this._$zo
        })
      function J() {
        e ||
          (s.prototype.constructor.call(this),
          (this.motions = new Array()),
          (this._$o2 = null),
          (this._$7r = J._$Co++),
          (this._$D0 = 30),
          (this._$yT = 0),
          (this._$E = !1),
          (this.loopFadeIn = !0),
          (this._$rr = -1),
          (this._$eP = 0))
      }
      ;(J.prototype = new s()),
        (J._$cs = 'VISIBLE:'),
        (J._$ar = 'LAYOUT:'),
        (J.MTN_PREFIX_FADEIN = 'FADEIN:'),
        (J.MTN_PREFIX_FADEOUT = 'FADEOUT:'),
        (J._$Co = 0),
        (J._$1T = 1),
        (J.loadMotion = function (t) {
          const i = Y._$C(t)
          return J.loadMotion(i)
        })
      function Q(t, i) {
        return String.fromCharCode(t.getUint8(i))
      }
      ;(J.loadMotion = function (t) {
        t instanceof ArrayBuffer && (t = new DataView(t))
        const i = new J()
        const e = [0]
        const r = t.byteLength
        i._$yT = 0
        for (let o = 0; o < r; ++o) {
          let n = Q(t, o)
          const s = n.charCodeAt(0)
          if (n != '\n' && n != '\r')
            if (n != '#')
              if (n != '$') {
                if ((s >= 97 && s <= 122) || (s >= 65 && s <= 90) || n == '_') {
                  for (l = o, u = -1; o < r && (n = Q(t, o)) != '\r' && n != '\n'; ++o)
                    if (n == '=') {
                      u = o
                      break
                    }
                  if (u >= 0) {
                    const _ = new N()
                    w.startsWith(t, l, J._$cs)
                      ? ((_._$RP = N._$hs), (_._$4P = w.createString(t, l, u - l)))
                      : w.startsWith(t, l, J._$ar)
                      ? ((_._$4P = w.createString(t, l + 7, u - l - 7)),
                        w.startsWith(t, l + 7, 'ANCHOR_X')
                          ? (_._$RP = N._$xs)
                          : w.startsWith(t, l + 7, 'ANCHOR_Y')
                          ? (_._$RP = N._$us)
                          : w.startsWith(t, l + 7, 'SCALE_X')
                          ? (_._$RP = N._$qs)
                          : w.startsWith(t, l + 7, 'SCALE_Y')
                          ? (_._$RP = N._$Ys)
                          : w.startsWith(t, l + 7, 'X')
                          ? (_._$RP = N._$ws)
                          : w.startsWith(t, l + 7, 'Y') && (_._$RP = N._$Ns))
                      : ((_._$RP = N._$Fr), (_._$4P = w.createString(t, l, u - l))),
                      i.motions.push(_)
                    let a = 0
                    const h = []
                    for (o = u + 1; o < r && (n = Q(t, o)) != '\r' && n != '\n'; ++o)
                      if (n != ',' && n != ' ' && n != '\t') {
                        c = w._$LS(t, r, o, e)
                        if (e[0] > 0) {
                          h.push(c), a++
                          const $ = e[0]
                          if ($ < o) {
                            console.log('_$n0 _$hi . @Live2DMotion loadMotion()\n')
                            break
                          }
                          o = $ - 1
                        }
                      }
                    ;(_._$I0 = new Float32Array(h)), a > i._$yT && (i._$yT = a)
                  }
                }
              } else {
                for (var l = o, u = -1; o < r && (n = Q(t, o)) != '\r' && n != '\n'; ++o)
                  if (n == '=') {
                    u = o
                    break
                  }
                let p = !1
                if (u >= 0)
                  for (
                    u == l + 4 &&
                      Q(t, l + 1) == 'f' &&
                      Q(t, l + 2) == 'p' &&
                      Q(t, l + 3) == 's' &&
                      (p = !0),
                      o = u + 1;
                    o < r && (n = Q(t, o)) != '\r' && n != '\n';
                    ++o
                  )
                    if (n != ',' && n != ' ' && n != '\t') {
                      var c = w._$LS(t, r, o, e)
                      e[0] > 0 && p && c > 5 && c < 121 && (i._$D0 = c), (o = e[0])
                    }
                for (; o < r && Q(t, o) != '\n' && Q(t, o) != '\r'; ++o);
              }
            else for (; o < r && Q(t, o) != '\n' && Q(t, o) != '\r'; ++o);
        }
        return (i._$rr = ((1e3 * i._$yT) / i._$D0) | 0), i
      }),
        (J.prototype.getDurationMSec = function () {
          return this._$E ? -1 : this._$rr
        }),
        (J.prototype.getLoopDurationMSec = function () {
          return this._$rr
        }),
        (J.prototype.dump = function () {
          for (let t = 0; t < this.motions.length; t++) {
            const i = this.motions[t]
            console.log('_$wL[%s] [%d]. ', i._$4P, i._$I0.length)
            for (let e = 0; e < i._$I0.length && e < 10; e++) console.log('%5.2f ,', i._$I0[e])
            console.log('\n')
          }
        }),
        (J.prototype.updateParamExe = function (t, i, e, r) {
          for (
            var o = ((i - r._$z2) * this._$D0) / 1e3, n = 0 | o, s = o - n, _ = 0;
            _ < this.motions.length;
            _++
          ) {
            const a = this.motions[_]
            const h = a._$I0.length
            const $ = a._$4P
            if (a._$RP == N._$hs) {
              const l = a._$I0[n >= h ? h - 1 : n]
              t.setParamFloat($, l)
            } else if (N._$ws <= a._$RP && a._$RP <= N._$Ys);
            else {
              const u = t.getParamIndex($)
              const p = t.getModelContext()
              const c = 0.4 * (p.getParamMax(u) - p.getParamMin(u))
              const f = p.getParamFloat(u)
              const g = a._$I0[n >= h ? h - 1 : n]
              const y = a._$I0[n + 1 >= h ? h - 1 : n + 1]
              const d =
                f + (((g < y && y - g > c) || (g > y && g - y > c) ? g : g + (y - g) * s) - f) * e
              t.setParamFloat($, d)
            }
          }
          n >= this._$yT &&
            (this._$E ? ((r._$z2 = i), this.loopFadeIn && (r._$bs = i)) : (r._$9L = !0)),
            (this._$eP = e)
        }),
        (J.prototype._$r0 = function () {
          return this._$E
        }),
        (J.prototype._$aL = function (t) {
          this._$E = t
        }),
        (J.prototype._$S0 = function () {
          return this._$D0
        }),
        (J.prototype._$U0 = function (t) {
          this._$D0 = t
        }),
        (J.prototype.isLoopFadeIn = function () {
          return this.loopFadeIn
        }),
        (J.prototype.setLoopFadeIn = function (t) {
          this.loopFadeIn = t
        })
      function C() {
        ;(this._$P = new Float32Array(100)), (this.size = 0)
      }
      ;(C.prototype.clear = function () {
        this.size = 0
      }),
        (C.prototype.add = function (t) {
          if (this._$P.length <= this.size) {
            const i = new Float32Array(2 * this.size)
            I._$jT(this._$P, 0, i, 0, this.size), (this._$P = i)
          }
          this._$P[this.size++] = t
        }),
        (C.prototype._$BL = function () {
          const t = new Float32Array(this.size)
          return I._$jT(this._$P, 0, t, 0, this.size), t
        })
      function N() {
        ;(this._$4P = null), (this._$I0 = null), (this._$RP = null)
      }
      ;(N._$Fr = 0),
        (N._$hs = 1),
        (N._$ws = 100),
        (N._$Ns = 101),
        (N._$xs = 102),
        (N._$us = 103),
        (N._$qs = 104),
        (N._$Ys = 105)
      function Z() {
        e ||
          (A.prototype.constructor.call(this),
          (this._$o = 0),
          (this._$A = 0),
          (this._$GS = null),
          (this._$Eo = null))
      }
      ;(Z.prototype = new A()),
        (Z._$gT = new Array()),
        (Z.prototype._$zP = function () {
          ;(this._$GS = new D()), this._$GS._$zP()
        }),
        (Z.prototype._$F0 = function (t) {
          A.prototype._$F0.call(this, t),
            (this._$A = t._$6L()),
            (this._$o = t._$6L()),
            (this._$GS = t._$nP()),
            (this._$Eo = t._$nP()),
            A.prototype.readV2_opacity.call(this, t)
        }),
        (Z.prototype.init = function (t) {
          const i = new K(this)
          const e = (this._$o + 1) * (this._$A + 1)
          return (
            i._$Cr != null && (i._$Cr = null),
            (i._$Cr = new Float32Array(2 * e)),
            i._$hr != null && (i._$hr = null),
            this._$32() ? (i._$hr = new Float32Array(2 * e)) : (i._$hr = null),
            i
          )
        }),
        (Z.prototype._$Nr = function (t, i) {
          const e = i
          if (this._$GS._$Ur(t)) {
            const r = this._$VT()
            const o = Z._$gT
            ;(o[0] = !1),
              S._$Vr(t, this._$GS, o, r, this._$Eo, e._$Cr, 0, 2),
              i._$Ib(o[0]),
              this.interpolateOpacity(t, this._$GS, i, o)
          }
        }),
        (Z.prototype._$2b = function (t, i) {
          const e = i
          if ((e._$hS(!0), this._$32())) {
            const r = this.getTargetBaseDataID()
            if ((e._$8r == A._$ur && (e._$8r = t.getBaseDataIndex(r)), e._$8r < 0))
              _t._$so && _._$li('_$L _$0P _$G :: %s', r), e._$hS(!1)
            else {
              const o = t.getBaseData(e._$8r)
              const n = t._$q2(e._$8r)
              if (o != null && n._$yo()) {
                const s = n.getTotalScale()
                e.setTotalScale_notForClient(s)
                const a = n.getTotalOpacity()
                e.setTotalOpacity(a * e.getInterpolatedOpacity()),
                  o._$nb(t, n, e._$Cr, e._$hr, this._$VT(), 0, 2),
                  e._$hS(!0)
              } else e._$hS(!1)
            }
          } else e.setTotalOpacity(e.getInterpolatedOpacity())
        }),
        (Z.prototype._$nb = function (t, i, e, r, o, n, s) {
          const _ = i
          const a = _._$hr != null ? _._$hr : _._$Cr
          Z.transformPoints_sdk2(e, r, o, n, s, a, this._$o, this._$A)
        }),
        (Z.transformPoints_sdk2 = function (i, e, r, o, n, s, _, a) {
          for (
            var h, $, l, u = r * n, p = 0, c = 0, f = 0, g = 0, y = 0, d = 0, m = !1, T = o;
            T < u;
            T += n
          ) {
            var P, S, v, L
            if (
              ((v = i[T]), (S = (L = i[T + 1]) * a), (P = v * _) < 0 || S < 0 || _ <= P || a <= S)
            ) {
              const M = _ + 1
              if (!m) {
                ;(m = !0),
                  (p =
                    0.25 *
                    (s[2 * (0 + 0 * M)] +
                      s[2 * (_ + 0 * M)] +
                      s[2 * (0 + a * M)] +
                      s[2 * (_ + a * M)])),
                  (c =
                    0.25 *
                    (s[2 * (0 + 0 * M) + 1] +
                      s[2 * (_ + 0 * M) + 1] +
                      s[2 * (0 + a * M) + 1] +
                      s[2 * (_ + a * M) + 1]))
                const E = s[2 * (_ + a * M)] - s[2 * (0 + 0 * M)]
                const A = s[2 * (_ + a * M) + 1] - s[2 * (0 + 0 * M) + 1]
                const I = s[2 * (_ + 0 * M)] - s[2 * (0 + a * M)]
                const x = s[2 * (_ + 0 * M) + 1] - s[2 * (0 + a * M) + 1]
                ;(p -= 0.5 * ((f = 0.5 * (E + I)) + (y = 0.5 * (E - I)))),
                  (c -= 0.5 * ((g = 0.5 * (A + x)) + (d = 0.5 * (A - x))))
              }
              if (v > -2 && v < 3 && L > -2 && L < 3)
                if (v <= 0)
                  if (L <= 0) {
                    var w = s[2 * (0 + 0 * M)]
                    var D = s[2 * (0 + 0 * M) + 1]
                    var O = p - 2 * f
                    var R = c - 2 * g
                    var b = p - 2 * y
                    var F = c - 2 * d
                    var C = p - 2 * f - 2 * y
                    var N = c - 2 * g - 2 * d
                    ;(B = 0.5 * (v - -2)) + (G = 0.5 * (L - -2)) <= 1
                      ? ((e[T] = C + (b - C) * B + (O - C) * G),
                        (e[T + 1] = N + (F - N) * B + (R - N) * G))
                      : ((e[T] = w + (O - w) * (1 - B) + (b - w) * (1 - G)),
                        (e[T + 1] = D + (R - D) * (1 - B) + (F - D) * (1 - G)))
                  } else if (L >= 1) {
                    ;(b = s[2 * (0 + a * M)]),
                      (F = s[2 * (0 + a * M) + 1]),
                      (C = p - 2 * f + 1 * y),
                      (N = c - 2 * g + 1 * d),
                      (w = p + 3 * y),
                      (D = c + 3 * d),
                      (O = p - 2 * f + 3 * y),
                      (R = c - 2 * g + 3 * d)
                    ;(B = 0.5 * (v - -2)) + (G = 0.5 * (L - 1)) <= 1
                      ? ((e[T] = C + (b - C) * B + (O - C) * G),
                        (e[T + 1] = N + (F - N) * B + (R - N) * G))
                      : ((e[T] = w + (O - w) * (1 - B) + (b - w) * (1 - G)),
                        (e[T + 1] = D + (R - D) * (1 - B) + (F - D) * (1 - G)))
                  } else {
                    ;(k = 0 | S) == a && (k = a - 1)
                    var B = 0.5 * (v - -2)
                    var G = S - k
                    var U = k / a
                    var Y = (k + 1) / a
                    ;(b = s[2 * (0 + k * M)]),
                      (F = s[2 * (0 + k * M) + 1]),
                      (w = s[2 * (0 + (k + 1) * M)]),
                      (D = s[2 * (0 + (k + 1) * M) + 1]),
                      (C = p - 2 * f + U * y),
                      (N = c - 2 * g + U * d),
                      (O = p - 2 * f + Y * y),
                      (R = c - 2 * g + Y * d)
                    B + G <= 1
                      ? ((e[T] = C + (b - C) * B + (O - C) * G),
                        (e[T + 1] = N + (F - N) * B + (R - N) * G))
                      : ((e[T] = w + (O - w) * (1 - B) + (b - w) * (1 - G)),
                        (e[T + 1] = D + (R - D) * (1 - B) + (F - D) * (1 - G)))
                  }
                else if (v >= 1)
                  if (L <= 0) {
                    ;(O = s[2 * (_ + 0 * M)]),
                      (R = s[2 * (_ + 0 * M) + 1]),
                      (w = p + 3 * f),
                      (D = c + 3 * g),
                      (C = p + 1 * f - 2 * y),
                      (N = c + 1 * g - 2 * d),
                      (b = p + 3 * f - 2 * y),
                      (F = c + 3 * g - 2 * d)
                    ;(B = 0.5 * (v - 1)) + (G = 0.5 * (L - -2)) <= 1
                      ? ((e[T] = C + (b - C) * B + (O - C) * G),
                        (e[T + 1] = N + (F - N) * B + (R - N) * G))
                      : ((e[T] = w + (O - w) * (1 - B) + (b - w) * (1 - G)),
                        (e[T + 1] = D + (R - D) * (1 - B) + (F - D) * (1 - G)))
                  } else if (L >= 1) {
                    ;(C = s[2 * (_ + a * M)]),
                      (N = s[2 * (_ + a * M) + 1]),
                      (b = p + 3 * f + 1 * y),
                      (F = c + 3 * g + 1 * d),
                      (O = p + 1 * f + 3 * y),
                      (R = c + 1 * g + 3 * d),
                      (w = p + 3 * f + 3 * y),
                      (D = c + 3 * g + 3 * d)
                    ;(B = 0.5 * (v - 1)) + (G = 0.5 * (L - 1)) <= 1
                      ? ((e[T] = C + (b - C) * B + (O - C) * G),
                        (e[T + 1] = N + (F - N) * B + (R - N) * G))
                      : ((e[T] = w + (O - w) * (1 - B) + (b - w) * (1 - G)),
                        (e[T + 1] = D + (R - D) * (1 - B) + (F - D) * (1 - G)))
                  } else {
                    var k
                    ;(k = 0 | S) == a && (k = a - 1)
                    ;(B = 0.5 * (v - 1)),
                      (G = S - k),
                      (U = k / a),
                      (Y = (k + 1) / a),
                      (C = s[2 * (_ + k * M)]),
                      (N = s[2 * (_ + k * M) + 1]),
                      (O = s[2 * (_ + (k + 1) * M)]),
                      (R = s[2 * (_ + (k + 1) * M) + 1]),
                      (b = p + 3 * f + U * y),
                      (F = c + 3 * g + U * d),
                      (w = p + 3 * f + Y * y),
                      (D = c + 3 * g + Y * d)
                    B + G <= 1
                      ? ((e[T] = C + (b - C) * B + (O - C) * G),
                        (e[T + 1] = N + (F - N) * B + (R - N) * G))
                      : ((e[T] = w + (O - w) * (1 - B) + (b - w) * (1 - G)),
                        (e[T + 1] = D + (R - D) * (1 - B) + (F - D) * (1 - G)))
                  }
                else if (L <= 0) {
                  ;(z = 0 | P) == _ && (z = _ - 1)
                  ;(B = P - z), (G = 0.5 * (L - -2))
                  var V = z / _
                  var X = (z + 1) / _
                  ;(O = s[2 * (z + 0 * M)]),
                    (R = s[2 * (z + 0 * M) + 1]),
                    (w = s[2 * (z + 1 + 0 * M)]),
                    (D = s[2 * (z + 1 + 0 * M) + 1]),
                    (C = p + V * f - 2 * y),
                    (N = c + V * g - 2 * d),
                    (b = p + X * f - 2 * y),
                    (F = c + X * g - 2 * d)
                  B + G <= 1
                    ? ((e[T] = C + (b - C) * B + (O - C) * G),
                      (e[T + 1] = N + (F - N) * B + (R - N) * G))
                    : ((e[T] = w + (O - w) * (1 - B) + (b - w) * (1 - G)),
                      (e[T + 1] = D + (R - D) * (1 - B) + (F - D) * (1 - G)))
                } else if (L >= 1) {
                  var z
                  ;(z = 0 | P) == _ && (z = _ - 1)
                  ;(B = P - z),
                    (G = 0.5 * (L - 1)),
                    (V = z / _),
                    (X = (z + 1) / _),
                    (C = s[2 * (z + a * M)]),
                    (N = s[2 * (z + a * M) + 1]),
                    (b = s[2 * (z + 1 + a * M)]),
                    (F = s[2 * (z + 1 + a * M) + 1]),
                    (O = p + V * f + 3 * y),
                    (R = c + V * g + 3 * d),
                    (w = p + X * f + 3 * y),
                    (D = c + X * g + 3 * d)
                  B + G <= 1
                    ? ((e[T] = C + (b - C) * B + (O - C) * G),
                      (e[T + 1] = N + (F - N) * B + (R - N) * G))
                    : ((e[T] = w + (O - w) * (1 - B) + (b - w) * (1 - G)),
                      (e[T + 1] = D + (R - D) * (1 - B) + (F - D) * (1 - G)))
                } else t.err.printf('_$li calc : %.4f , %.4f          @@BDBoxGrid\n', v, L)
              else (e[T] = p + v * f + L * y), (e[T + 1] = c + v * g + L * d)
            } else
              (h = 2 * ((0 | P) + (0 | S) * (_ + 1))),
                ($ = P - (0 | P)) + (l = S - (0 | S)) < 1
                  ? ((e[T] = s[h] * (1 - $ - l) + s[h + 2] * $ + s[h + 2 * (_ + 1)] * l),
                    (e[T + 1] = s[h + 1] * (1 - $ - l) + s[h + 3] * $ + s[h + 2 * (_ + 1) + 1] * l))
                  : ((e[T] =
                      s[h + 2 * (_ + 1) + 2] * ($ - 1 + l) +
                      s[h + 2 * (_ + 1)] * (1 - $) +
                      s[h + 2] * (1 - l)),
                    (e[T + 1] =
                      s[h + 2 * (_ + 1) + 3] * ($ - 1 + l) +
                      s[h + 2 * (_ + 1) + 1] * (1 - $) +
                      s[h + 3] * (1 - l)))
          }
        }),
        (Z.prototype.transformPoints_sdk1 = function (t, i, e, r, o, n, s) {
          for (
            var _,
              a,
              h,
              $,
              l,
              u,
              p,
              c = i,
              f = this._$o,
              g = this._$A,
              y = o * s,
              d = c._$hr != null ? c._$hr : c._$Cr,
              m = n;
            m < y;
            m += s
          )
            _t._$ts
              ? ((_ = e[m]),
                (a = e[m + 1]),
                _ < 0 ? (_ = 0) : _ > 1 && (_ = 1),
                a < 0 ? (a = 0) : a > 1 && (a = 1),
                ($ = 0 | (a *= g)),
                (h = 0 | (_ *= f)) > f - 1 && (h = f - 1),
                $ > g - 1 && ($ = g - 1),
                (u = _ - h),
                (p = a - $),
                (l = 2 * (h + $ * (f + 1))))
              : ((u = (_ = e[m] * f) - (0 | _)),
                (p = (a = e[m + 1] * g) - (0 | a)),
                (l = 2 * ((0 | _) + (0 | a) * (f + 1)))),
              u + p < 1
                ? ((r[m] = d[l] * (1 - u - p) + d[l + 2] * u + d[l + 2 * (f + 1)] * p),
                  (r[m + 1] = d[l + 1] * (1 - u - p) + d[l + 3] * u + d[l + 2 * (f + 1) + 1] * p))
                : ((r[m] =
                    d[l + 2 * (f + 1) + 2] * (u - 1 + p) +
                    d[l + 2 * (f + 1)] * (1 - u) +
                    d[l + 2] * (1 - p)),
                  (r[m + 1] =
                    d[l + 2 * (f + 1) + 3] * (u - 1 + p) +
                    d[l + 2 * (f + 1) + 1] * (1 - u) +
                    d[l + 3] * (1 - p)))
        }),
        (Z.prototype._$VT = function () {
          return (this._$o + 1) * (this._$A + 1)
        }),
        (Z.prototype.getType = function () {
          return A._$_b
        })
      function K(t) {
        st.prototype.constructor.call(this, t),
          (this._$8r = A._$ur),
          (this._$Cr = null),
          (this._$hr = null)
      }
      K.prototype = new st()
      function tt() {
        e ||
          ((this.visible = !0),
          (this._$g0 = !1),
          (this._$NL = null),
          (this._$3S = null),
          (this._$aS = null),
          tt._$42++)
      }
      ;(tt._$42 = 0),
        (tt.prototype._$zP = function () {
          ;(this._$3S = new Array()), (this._$aS = new Array())
        }),
        (tt.prototype._$F0 = function (t) {
          ;(this._$g0 = t._$8L()),
            (this.visible = t._$8L()),
            (this._$NL = t._$nP()),
            (this._$3S = t._$nP()),
            (this._$aS = t._$nP())
        }),
        (tt.prototype.init = function (t) {
          const i = new it(this)
          return i.setPartsOpacity(this.isVisible() ? 1 : 0), i
        }),
        (tt.prototype._$6o = function (t) {
          if (this._$3S == null) throw new Error('_$3S _$6 _$Wo@_$6o')
          this._$3S.push(t)
        }),
        (tt.prototype._$3o = function (t) {
          if (this._$aS == null) throw new Error('_$aS _$6 _$Wo@_$3o')
          this._$aS.push(t)
        }),
        (tt.prototype._$Zo = function (t) {
          this._$3S = t
        }),
        (tt.prototype._$xo = function (t) {
          this._$aS = t
        }),
        (tt.prototype.isVisible = function () {
          return this.visible
        }),
        (tt.prototype._$uL = function () {
          return this._$g0
        }),
        (tt.prototype._$KP = function (t) {
          this.visible = t
        }),
        (tt.prototype._$ET = function (t) {
          this._$g0 = t
        }),
        (tt.prototype.getBaseData = function () {
          return this._$3S
        }),
        (tt.prototype.getDrawData = function () {
          return this._$aS
        }),
        (tt.prototype._$p2 = function () {
          return this._$NL
        }),
        (tt.prototype._$ob = function (t) {
          this._$NL = t
        }),
        (tt.prototype.getPartsID = function () {
          return this._$NL
        }),
        (tt.prototype._$MP = function (t) {
          this._$NL = t
        })
      function it(t) {
        ;(this._$VS = null), (this._$e0 = null), (this._$e0 = t)
      }
      ;(it.prototype = new (function () {})()),
        (it.prototype.getPartsOpacity = function () {
          return this._$VS
        }),
        (it.prototype.setPartsOpacity = function (t) {
          this._$VS = t
        })
      function et(t) {
        e || (this.id = t)
      }
      ;(et._$L7 = function () {
        $._$27(), yt._$27(), R._$27(), h._$27()
      }),
        (et.prototype.toString = function () {
          return this.id
        })
      function rt() {
        e || (this._$4S = null)
      }
      ;(rt.prototype._$1s = function () {
        return this._$4S
      }),
        (rt.prototype._$zP = function () {
          this._$4S = new Array()
        }),
        (rt.prototype._$F0 = function (t) {
          this._$4S = t._$nP()
        }),
        (rt.prototype._$Ks = function (t) {
          this._$4S.push(t)
        })
      function ot(t, i) {
        ;(this.canvas = t),
          (this.context = i),
          (this.viewport = new Array(0, 0, t.width, t.height)),
          (this._$6r = 1),
          (this._$xP = 0),
          (this._$3r = 1),
          (this._$uP = 0),
          (this._$Qo = -1),
          (this.cacheImages = {})
      }
      ;(ot.tr = new gt()),
        (ot._$50 = new gt()),
        (ot._$Ti = new Array(0, 0)),
        (ot._$Pi = new Array(0, 0)),
        (ot._$B = new Array(0, 0)),
        (ot.prototype._$lP = function (t, i, e, r) {
          this.viewport = new Array(t, i, e, r)
        }),
        (ot.prototype._$bL = function () {
          this.context.save()
          const t = this.viewport
          t != null &&
            (this.context.beginPath(),
            this.context._$Li(t[0], t[1], t[2], t[3]),
            this.context.clip())
        }),
        (ot.prototype._$ei = function () {
          this.context.restore()
        }),
        (ot.prototype.drawElements = function (t, i, e, r, o, n, s, a) {
          try {
            o != this._$Qo && ((this._$Qo = o), (this.context.globalAlpha = o))
            for (
              let h = i.length,
                $ = t.width,
                l = t.height,
                u = this.context,
                p = this._$xP,
                c = this._$uP,
                f = this._$6r,
                g = this._$3r,
                y = ot.tr,
                d = ot._$Ti,
                m = ot._$Pi,
                P = ot._$B,
                S = 0;
              S < h;
              S += 3
            ) {
              u.save()
              const v = i[S]
              const L = i[S + 1]
              const M = i[S + 2]
              let E = p + f * e[2 * v]
              let A = c + g * e[2 * v + 1]
              let I = p + f * e[2 * L]
              let x = c + g * e[2 * L + 1]
              let w = p + f * e[2 * M]
              let D = c + g * e[2 * M + 1]
              s &&
                (s._$PS(E, A, P),
                (E = P[0]),
                (A = P[1]),
                s._$PS(I, x, P),
                (I = P[0]),
                (x = P[1]),
                s._$PS(w, D, P),
                (w = P[0]),
                (D = P[1]))
              const O = $ * r[2 * v]
              const R = l - l * r[2 * v + 1]
              const b = $ * r[2 * L]
              const F = l - l * r[2 * L + 1]
              const C = $ * r[2 * M]
              const N = l - l * r[2 * M + 1]
              const B = Math.atan2(F - R, b - O)
              const G = Math.atan2(x - A, I - E)
              const U = I - E
              const Y = x - A
              const k = Math.sqrt(U * U + Y * Y)
              const V = b - O
              const X = F - R
              const z = k / Math.sqrt(V * V + X * X)
              T._$ni(C, N, O, R, b - O, F - R, -(F - R), b - O, d),
                T._$ni(w, D, E, A, I - E, x - A, -(x - A), I - E, m)
              const H = (m[0] - d[0]) / d[1]
              let W = Math.min(O, b, C)
              let j = Math.max(O, b, C)
              let q = Math.min(R, F, N)
              let J = Math.max(R, F, N)
              const Q = Math.floor(W)
              const Z = Math.floor(q)
              const K = Math.ceil(j)
              const tt = Math.ceil(J)
              y.identity(),
                y.translate(E, A),
                y.rotate(G),
                y.scale(1, m[1] / d[1]),
                y.shear(H, 0),
                y.scale(z, z),
                y.rotate(-B),
                y.translate(-O, -R),
                y.setContext(u)
              if ((n || (n = 1.2), _t.IGNORE_EXPAND && (n = 0), _t.USE_CACHED_POLYGON_IMAGE)) {
                const it = a._$e0
                if (((it.gl_cacheImage = it.gl_cacheImage || {}), !it.gl_cacheImage[S])) {
                  const et = ot.createCanvas(K - Q, tt - Z)
                  ;(_t.DEBUG_DATA.LDGL_CANVAS_MB = _t.DEBUG_DATA.LDGL_CANVAS_MB || 0),
                    (_t.DEBUG_DATA.LDGL_CANVAS_MB += (K - Q) * (tt - Z) * 4)
                  const rt = et.getContext('2d')
                  rt.translate(-Q, -Z),
                    ot.clip(rt, y, n, k, O, R, b, F, C, N, E, A, I, x, w, D),
                    rt.drawImage(t, 0, 0),
                    (it.gl_cacheImage[S] = { cacheCanvas: et, cacheContext: rt })
                }
                u.drawImage(it.gl_cacheImage[S].cacheCanvas, Q, Z)
              } else
                _t.IGNORE_CLIP || ot.clip(u, y, n, k, O, R, b, F, C, N, E, A, I, x, w, D),
                  _t.USE_ADJUST_TRANSLATION && ((W = 0), (j = $), (q = 0), (J = l)),
                  u.drawImage(t, W, q, j - W, J - q, W, q, j - W, J - q)
              u.restore()
            }
          } catch (t) {
            _._$Rb(t)
          }
        }),
        (ot.clip = function (t, i, e, r, o, n, s, _, a, h, $, l, u, p, c, f) {
          e > 0.02
            ? ot.expandClip(t, i, e, r, $, l, u, p, c, f)
            : ot.clipWithTransform(t, null, o, n, s, _, a, h)
        }),
        (ot.expandClip = function (t, i, e, r, o, n, s, _, a, h) {
          const $ = s - o
          const l = _ - n
          const u = a - o
          const p = h - n
          const c = $ * p - l * u > 0 ? e : -e
          const f = -l
          const g = $
          const y = a - s
          const d = h - _
          const m = -d
          const T = y
          const P = Math.sqrt(y * y + d * d)
          const S = -p
          const v = u
          const L = Math.sqrt(u * u + p * p)
          const M = o - (c * f) / r
          const E = n - (c * g) / r
          const A = s - (c * f) / r
          const I = _ - (c * g) / r
          const x = s - (c * m) / P
          const w = _ - (c * T) / P
          const D = a - (c * m) / P
          const O = h - (c * T) / P
          const R = o + (c * S) / L
          const b = n + (c * v) / L
          const F = a + (c * S) / L
          const C = h + (c * v) / L
          const N = ot._$50
          return (
            i._$P2(N) != null &&
            (ot.clipWithTransform(t, N, M, E, A, I, x, w, D, O, F, C, R, b), !0)
          )
        }),
        (ot.clipWithTransform = function (t, i, e, r, o, n, s, a) {
          if (arguments.length < 7) _._$li('err : @LDGL.clip()')
          else if (arguments[1] instanceof gt) {
            const h = ot._$B
            const $ = i
            const l = arguments
            if ((t.beginPath(), $)) {
              $._$PS(l[2], l[3], h), t.moveTo(h[0], h[1])
              for (var u = 4; u < l.length; u += 2) $._$PS(l[u], l[u + 1], h), t.lineTo(h[0], h[1])
            } else {
              t.moveTo(l[2], l[3])
              for (u = 4; u < l.length; u += 2) t.lineTo(l[u], l[u + 1])
            }
            t.clip()
          } else _._$li('err : a[0] is _$6 LDTransform @LDGL.clip()')
        }),
        (ot.createCanvas = function (t, i) {
          const e = document.createElement('canvas')
          return (
            e.setAttribute('width', t), e.setAttribute('height', i), e || _._$li('err : ' + e), e
          )
        }),
        (ot.dumpValues = function () {
          for (var t = '', i = 0; i < arguments.length; i++)
            t += '[' + i + ']= ' + arguments[i].toFixed(3) + ' , '
          console.log(t)
        })
      function nt() {
        e || ((this._$TT = null), (this._$LT = null), (this._$FS = null), (this._$wL = null))
      }
      ;(nt.prototype._$F0 = function (t) {
        ;(this._$TT = t._$_T()),
          (this._$LT = t._$_T()),
          (this._$FS = t._$_T()),
          (this._$wL = t._$nP())
      }),
        (nt.prototype.getMinValue = function () {
          return this._$TT
        }),
        (nt.prototype.getMaxValue = function () {
          return this._$LT
        }),
        (nt.prototype.getDefaultValue = function () {
          return this._$FS
        }),
        (nt.prototype.getParamID = function () {
          return this._$wL
        })
      function st(t) {
        e ||
          ((this._$e0 = null),
          (this._$IP = null),
          (this._$JS = !1),
          (this._$AT = !0),
          (this._$e0 = t),
          (this.totalScale = 1),
          (this._$7s = 1),
          (this.totalOpacity = 1))
      }
      ;(st.prototype._$yo = function () {
        return this._$AT && !this._$JS
      }),
        (st.prototype._$hS = function (t) {
          this._$AT = t
        }),
        (st.prototype._$GT = function () {
          return this._$e0
        }),
        (st.prototype._$l2 = function (t) {
          this._$IP = t
        }),
        (st.prototype.getPartsIndex = function () {
          return this._$IP
        }),
        (st.prototype._$x2 = function () {
          return this._$JS
        }),
        (st.prototype._$Ib = function (t) {
          this._$JS = t
        }),
        (st.prototype.getTotalScale = function () {
          return this.totalScale
        }),
        (st.prototype.setTotalScale_notForClient = function (t) {
          this.totalScale = t
        }),
        (st.prototype.getInterpolatedOpacity = function () {
          return this._$7s
        }),
        (st.prototype.setInterpolatedOpacity = function (t) {
          this._$7s = t
        }),
        (st.prototype.getTotalOpacity = function (t) {
          return this.totalOpacity
        }),
        (st.prototype.setTotalOpacity = function (t) {
          this.totalOpacity = t
        })
      function _t() {}
      ;(_t._$2s = '2.1.00_1'),
        (_t._$Kr = 201001e3),
        (_t._$sP = !0),
        (_t._$so = !0),
        (_t._$cb = !1),
        (_t._$3T = !0),
        (_t._$Ts = !0),
        (_t._$fb = !0),
        (_t._$ts = !0),
        (_t.L2D_DEFORMER_EXTEND = !0),
        (_t._$Wb = !1),
        (_t._$yr = !1),
        (_t._$Zs = !1),
        (_t.L2D_NO_ERROR = 0),
        (_t._$i7 = 1e3),
        (_t._$9s = 1001),
        (_t._$es = 1100),
        (_t._$r7 = 2e3),
        (_t._$07 = 2001),
        (_t._$b7 = 2002),
        (_t._$H7 = 4e3),
        (_t.L2D_COLOR_BLEND_MODE_MULT = 0),
        (_t.L2D_COLOR_BLEND_MODE_ADD = 1),
        (_t.L2D_COLOR_BLEND_MODE_INTERPOLATE = 2),
        (_t._$6b = !0),
        (_t._$cT = 0),
        (_t.clippingMaskBufferSize = 256),
        (_t.glContext = new Array()),
        (_t.frameBuffers = new Array()),
        (_t.fTexture = new Array()),
        (_t.IGNORE_CLIP = !1),
        (_t.IGNORE_EXPAND = !1),
        (_t.EXPAND_W = 2),
        (_t.USE_ADJUST_TRANSLATION = !0),
        (_t.USE_CANVAS_TRANSFORM = !0),
        (_t.USE_CACHED_POLYGON_IMAGE = !1),
        (_t.DEBUG_DATA = {}),
        (_t.PROFILE_IOS_SPEED = {
          PROFILE_NAME: 'iOS Speed',
          USE_ADJUST_TRANSLATION: !0,
          USE_CACHED_POLYGON_IMAGE: !0,
          EXPAND_W: 4,
        }),
        (_t.PROFILE_IOS_QUALITY = {
          PROFILE_NAME: 'iOS HiQ',
          USE_ADJUST_TRANSLATION: !0,
          USE_CACHED_POLYGON_IMAGE: !1,
          EXPAND_W: 2,
        }),
        (_t.PROFILE_IOS_DEFAULT = _t.PROFILE_IOS_QUALITY),
        (_t.PROFILE_ANDROID = {
          PROFILE_NAME: 'Android',
          USE_ADJUST_TRANSLATION: !1,
          USE_CACHED_POLYGON_IMAGE: !1,
          EXPAND_W: 2,
        }),
        (_t.PROFILE_DESKTOP = {
          PROFILE_NAME: 'Desktop',
          USE_ADJUST_TRANSLATION: !1,
          USE_CACHED_POLYGON_IMAGE: !1,
          EXPAND_W: 2,
        }),
        (_t.initProfile = function () {
          Mt.isIOS()
            ? _t.setupProfile(_t.PROFILE_IOS_DEFAULT)
            : Mt.isAndroid()
            ? _t.setupProfile(_t.PROFILE_ANDROID)
            : _t.setupProfile(_t.PROFILE_DESKTOP)
        }),
        (_t.setupProfile = function (t, i) {
          if (typeof t === 'number')
            switch (t) {
              case 9901:
                t = _t.PROFILE_IOS_SPEED
                break
              case 9902:
                t = _t.PROFILE_IOS_QUALITY
                break
              case 9903:
                t = _t.PROFILE_IOS_DEFAULT
                break
              case 9904:
                t = _t.PROFILE_ANDROID
                break
              case 9905:
                t = _t.PROFILE_DESKTOP
                break
              default:
                alert('profile _$6 _$Ui : ' + t)
            }
          arguments.length < 2 && (i = !0)
          for (const e in t) _t[e] = t[e]
        }),
        (_t.init = function () {
          if (_t._$6b) {
            _t._$6b = !1
            !0, _t.initProfile()
          }
        }),
        (_t.getVersionStr = function () {
          return _t._$2s
        }),
        (_t.getVersionNo = function () {
          return _t._$Kr
        }),
        (_t._$sT = function (t) {
          _t._$cT = t
        }),
        (_t.getError = function () {
          const t = _t._$cT
          return (_t._$cT = 0), t
        }),
        (_t.dispose = function () {
          ;(_t.glContext = []), (_t.frameBuffers = []), (_t.fTexture = [])
        }),
        (_t.setGL = function (t, i) {
          const e = i || 0
          _t.glContext[e] = t
        }),
        (_t.getGL = function (t) {
          return _t.glContext[t]
        }),
        (_t.setClippingMaskBufferSize = function (t) {
          _t.clippingMaskBufferSize = t
        }),
        (_t.getClippingMaskBufferSize = function () {
          return _t.clippingMaskBufferSize
        }),
        (_t.deleteBuffer = function (t) {
          _t.getGL(t).deleteFramebuffer(_t.frameBuffers[t].framebuffer),
            delete _t.frameBuffers[t],
            delete _t.glContext[t]
        })
      function at() {}
      at._$r2 = function (t) {
        return t < 0 ? 0 : t > 1 ? 1 : 0.5 - 0.5 * Math.cos(t * vt.PI_F)
      }
      function ht(t) {
        e || (this._$ib = t)
      }
      ;(ht._$fr = -1),
        (ht.prototype.toString = function () {
          return this._$ib
        })
      function $t() {
        e ||
          (W.prototype.constructor.call(this),
          (this._$LP = -1),
          (this._$d0 = 0),
          (this._$Yo = 0),
          (this._$JP = null),
          (this._$5P = null),
          (this._$BP = null),
          (this._$Eo = null),
          (this._$Qi = null),
          (this._$6s = $t._$ms),
          (this.culling = !0),
          (this.gl_cacheImage = null),
          (this.instanceNo = $t._$42++))
      }
      ;($t.prototype = new W()),
        ($t._$42 = 0),
        ($t._$Os = 30),
        ($t._$ms = 0),
        ($t._$ns = 1),
        ($t._$_s = 2),
        ($t._$gT = new Array()),
        ($t.prototype._$_S = function (t) {
          this._$LP = t
        }),
        ($t.prototype.getTextureNo = function () {
          return this._$LP
        }),
        ($t.prototype._$ZL = function () {
          return this._$Qi
        }),
        ($t.prototype._$H2 = function () {
          return this._$JP
        }),
        ($t.prototype.getNumPoints = function () {
          return this._$d0
        }),
        ($t.prototype.getType = function () {
          return W._$wb
        }),
        ($t.prototype._$B2 = function (t, i, e) {
          const r = i
          const o = r._$hr != null ? r._$hr : r._$Cr
          switch (B._$do) {
            default:
            case B._$Ms:
              throw new Error('_$L _$ro ')
            case B._$Qs:
              for (let n = this._$d0 - 1; n >= 0; --n) {
                o[n * B._$No + 4] = e
              }
          }
        }),
        ($t.prototype._$zP = function () {
          ;(this._$GS = new D()), this._$GS._$zP()
        }),
        ($t.prototype._$F0 = function (t) {
          W.prototype._$F0.call(this, t),
            (this._$LP = t._$6L()),
            (this._$d0 = t._$6L()),
            (this._$Yo = t._$6L())
          const i = t._$nP()
          this._$BP = new Int16Array(3 * this._$Yo)
          for (let e = 3 * this._$Yo - 1; e >= 0; --e) this._$BP[e] = i[e]
          if (((this._$Eo = t._$nP()), (this._$Qi = t._$nP()), t.getFormatVersion() >= G._$s7)) {
            if (((this._$JP = t._$6L()), this._$JP != 0)) {
              if ((1 & this._$JP) != 0) {
                const r = t._$6L()
                this._$5P == null && (this._$5P = new Object()), (this._$5P._$Hb = parseInt(r))
              }
              ;(this._$JP & $t._$Os) != 0
                ? (this._$6s = (this._$JP & $t._$Os) >> 1)
                : (this._$6s = $t._$ms),
                (32 & this._$JP) != 0 && (this.culling = !1)
            }
          } else this._$JP = 0
        }),
        ($t.prototype.init = function (t) {
          const i = new lt(this)
          const e = this._$d0 * B._$No
          const r = this._$32()
          i._$Cr != null && (i._$Cr = null),
            (i._$Cr = new Float32Array(e)),
            i._$hr != null && (i._$hr = null),
            (i._$hr = r ? new Float32Array(e) : null)
          switch (B._$do) {
            default:
            case B._$Ms:
              if (B._$Ls)
                for (var o = this._$d0 - 1; o >= 0; --o) {
                  var n = o << 1
                  this._$Qi[n + 1] = 1 - this._$Qi[n + 1]
                }
              break
            case B._$Qs:
              for (o = this._$d0 - 1; o >= 0; --o) {
                n = o << 1
                const s = o * B._$No
                const _ = this._$Qi[n]
                const a = this._$Qi[n + 1]
                ;(i._$Cr[s] = _),
                  (i._$Cr[s + 1] = a),
                  (i._$Cr[s + 4] = 0),
                  r && ((i._$hr[s] = _), (i._$hr[s + 1] = a), (i._$hr[s + 4] = 0))
              }
          }
          return i
        }),
        ($t.prototype._$Nr = function (t, i) {
          const e = i
          if (
            (this != e._$GT() && console.log('### assert!! ### '),
            this._$GS._$Ur(t) && (W.prototype._$Nr.call(this, t, e), !e._$IS[0]))
          ) {
            const r = $t._$gT
            ;(r[0] = !1), S._$Vr(t, this._$GS, r, this._$d0, this._$Eo, e._$Cr, B._$i2, B._$No)
          }
        }),
        ($t.prototype._$2b = function (t, i) {
          try {
            this != i._$GT() && console.log('### assert!! ### ')
            let e = !1
            i._$IS[0] && (e = !0)
            const r = i
            if (!e && (W.prototype._$2b.call(this, t), this._$32())) {
              const o = this.getTargetBaseDataID()
              if ((r._$8r == W._$ur && (r._$8r = t.getBaseDataIndex(o)), r._$8r < 0))
                _t._$so && _._$li('_$L _$0P _$G :: %s', o)
              else {
                const n = t.getBaseData(r._$8r)
                const s = t._$q2(r._$8r)
                n == null || s._$x2()
                  ? (r._$AT = !1)
                  : (n._$nb(t, s, r._$Cr, r._$hr, this._$d0, B._$i2, B._$No), (r._$AT = !0)),
                  (r.baseOpacity = s.getTotalOpacity())
              }
            }
          } catch (t) {
            throw t
          }
        }),
        ($t.prototype.draw = function (t, i, e) {
          if ((this != e._$GT() && console.log('### assert!! ### '), !e._$IS[0])) {
            const r = e
            let o = this._$LP
            o < 0 && (o = 1)
            const n = this.getOpacity(i, r) * e._$VS * e.baseOpacity
            const s = r._$hr != null ? r._$hr : r._$Cr
            t.setClipBufPre_clipContextForDraw(e.clipBufPre_clipContext),
              t._$WP(this.culling),
              t._$Uo(o, 3 * this._$Yo, this._$BP, s, this._$Qi, n, this._$6s, r)
          }
        }),
        ($t.prototype.dump = function () {
          console.log('  _$yi( %d ) , _$d0( %d ) , _$Yo( %d ) \n', this._$LP, this._$d0, this._$Yo),
            console.log('  _$Oi _$di = { ')
          for (var t = 0; t < this._$BP.length; t++) console.log('%5d ,', this._$BP[t])
          console.log('\n  _$5i _$30')
          for (t = 0; t < this._$Eo.length; t++) {
            console.log('\n    _$30[%d] = ', t)
            for (let i = this._$Eo[t], e = 0; e < i.length; e++) console.log('%6.2f, ', i[e])
          }
          console.log('\n')
        }),
        ($t.prototype._$72 = function (t) {
          return this._$5P == null ? null : this._$5P[t]
        }),
        ($t.prototype.getIndexArray = function () {
          return this._$BP
        })
      function lt(t) {
        Lt.prototype.constructor.call(this, t),
          (this._$8r = W._$ur),
          (this._$Cr = null),
          (this._$hr = null)
      }
      ;(lt.prototype = new Lt()),
        (lt.prototype.getTransformedPoints = function () {
          return this._$hr != null ? this._$hr : this._$Cr
        })
      function ut() {
        e || ((this.x = null), (this.y = null))
      }
      ;(ut.prototype._$HT = function (t) {
        ;(this.x = t.x), (this.y = t.y)
      }),
        (ut.prototype._$HT = function (t, i) {
          ;(this.x = t), (this.y = i)
        })
      function pt(t) {
        e ||
          (r.prototype.constructor.call(this),
          (this.drawParamWebGL = new dt(t)),
          this.drawParamWebGL.setGL(_t.getGL(t)))
      }
      ;(pt.prototype = new r()),
        (pt.loadModel = function (t) {
          const i = new pt()
          return r._$62(i, t), i
        }),
        (pt.loadModel = function (t, i) {
          const e = new pt(i || 0)
          return r._$62(e, t), e
        }),
        (pt._$to = function () {
          return new pt()
        }),
        (pt._$er = function (t) {
          const i = new _$5('../_$_r/_$t0/_$Ri/_$_P._$d')
          if (i.exists() == 0) throw new _$ls('_$t0 _$_ _$6 _$Ui :: ' + i._$PL())
          for (
            var e = [
                '../_$_r/_$t0/_$Ri/_$_P.512/_$CP._$1',
                '../_$_r/_$t0/_$Ri/_$_P.512/_$vP._$1',
                '../_$_r/_$t0/_$Ri/_$_P.512/_$EP._$1',
                '../_$_r/_$t0/_$Ri/_$_P.512/_$pP._$1',
              ],
              r = pt.loadModel(i._$3b()),
              o = 0;
            o < e.length;
            o++
          ) {
            const n = new _$5(e[o])
            if (n.exists() == 0) throw new _$ls('_$t0 _$_ _$6 _$Ui :: ' + n._$PL())
            r.setTexture(o, _$nL._$_o(t, n._$3b()))
          }
          return r
        }),
        (pt.prototype.setGL = function (t) {
          _t.setGL(t)
        }),
        (pt.prototype.setTransform = function (t) {
          this.drawParamWebGL.setTransform(t)
        }),
        (pt.prototype.update = function () {
          this._$5S.update(), this._$5S.preDraw(this.drawParamWebGL)
        }),
        (pt.prototype.draw = function () {
          this._$5S.draw(this.drawParamWebGL)
        }),
        (pt.prototype._$K2 = function () {
          this.drawParamWebGL._$K2()
        }),
        (pt.prototype.setTexture = function (t, i) {
          this.drawParamWebGL == null && _._$li('_$Yi for QT _$ki / _$XS() is _$6 _$ui!!'),
            this.drawParamWebGL.setTexture(t, i)
        }),
        (pt.prototype.setTexture = function (t, i) {
          this.drawParamWebGL == null && _._$li('_$Yi for QT _$ki / _$XS() is _$6 _$ui!!'),
            this.drawParamWebGL.setTexture(t, i)
        }),
        (pt.prototype._$Rs = function () {
          return this.drawParamWebGL._$Rs()
        }),
        (pt.prototype._$Ds = function (t) {
          this.drawParamWebGL._$Ds(t)
        }),
        (pt.prototype.getDrawParam = function () {
          return this.drawParamWebGL
        }),
        (pt.prototype.setMatrix = function (t) {
          this.drawParamWebGL.setMatrix(t)
        }),
        (pt.prototype.setPremultipliedAlpha = function (t) {
          this.drawParamWebGL.setPremultipliedAlpha(t)
        }),
        (pt.prototype.isPremultipliedAlpha = function () {
          return this.drawParamWebGL.isPremultipliedAlpha()
        }),
        (pt.prototype.setAnisotropy = function (t) {
          this.drawParamWebGL.setAnisotropy(t)
        }),
        (pt.prototype.getAnisotropy = function () {
          return this.drawParamWebGL.getAnisotropy()
        })
      function ct() {
        e || ((this.motions = null), (this._$eb = !1), (this.motions = new Array()))
      }
      ;(ct.prototype._$tb = function () {
        return this.motions
      }),
        (ct.prototype.startMotion = function (t, i) {
          for (var e = null, r = this.motions.length, o = 0; o < r; ++o)
            (e = this.motions[o]) != null &&
              (e._$qS(e._$w0.getFadeOut()),
              this._$eb &&
                _._$Ji(
                  'MotionQueueManager[size:%2d]->startMotion() / start _$K _$3 (m%d)\n',
                  r,
                  e._$sr
                ))
          if (t == null) return -1
          ;((e = new ft())._$w0 = t), this.motions.push(e)
          const n = e._$sr
          return (
            this._$eb &&
              _._$Ji('MotionQueueManager[size:%2d]->startMotion() / new _$w0 (m%d)\n', r, n),
            n
          )
        }),
        (ct.prototype.updateParam = function (t) {
          try {
            for (var i = !1, e = 0; e < this.motions.length; e++) {
              const r = this.motions[e]
              if (r != null) {
                const o = r._$w0
                o != null
                  ? (o.updateParam(t, r),
                    (i = !0),
                    r.isFinished() &&
                      (this._$eb &&
                        _._$Ji(
                          'MotionQueueManager[size:%2d]->updateParam() / _$T0 _$w0 (m%d)\n',
                          this.motions.length - 1,
                          r._$sr
                        ),
                      this.motions.splice(e, 1),
                      e--))
                  : ((this.motions = this.motions.splice(e, 1)), e--)
              } else this.motions.splice(e, 1), e--
            }
            return i
          } catch (t) {
            return _._$li(t), !0
          }
        }),
        (ct.prototype.isFinished = function (t) {
          if (arguments.length >= 1) {
            for (var i = 0; i < this.motions.length; i++) {
              if ((e = this.motions[i]) != null && e._$sr == t && !e.isFinished()) return !1
            }
            return !0
          }
          for (i = 0; i < this.motions.length; i++) {
            var e
            if ((e = this.motions[i]) != null) {
              if (e._$w0 != null) {
                if (!e.isFinished()) return !1
              } else this.motions.splice(i, 1), i--
            } else this.motions.splice(i, 1), i--
          }
          return !0
        }),
        (ct.prototype.stopAllMotions = function () {
          for (let t = 0; t < this.motions.length; t++) {
            const i = this.motions[t]
            if (i != null) {
              i._$w0
              this.motions.splice(t, 1), t--
            } else this.motions.splice(t, 1), t--
          }
        }),
        (ct.prototype._$Zr = function (t) {
          this._$eb = t
        }),
        (ct.prototype._$e = function () {
          console.log('-- _$R --\n')
          for (let t = 0; t < this.motions.length; t++) {
            const i = this.motions[t]._$w0
            console.log('MotionQueueEnt[%d] :: %s\n', this.motions.length, i.toString())
          }
        })
      function ft() {
        ;(this._$w0 = null),
          (this._$AT = !0),
          (this._$9L = !1),
          (this._$z2 = -1),
          (this._$bs = -1),
          (this._$Do = -1),
          (this._$sr = null),
          (this._$sr = ft._$Gs++)
      }
      ;(ft._$Gs = 0),
        (ft.prototype.isFinished = function () {
          return this._$9L
        }),
        (ft.prototype._$qS = function (t) {
          const i = I.getUserTimeMSec() + t
          ;(this._$Do < 0 || i < this._$Do) && (this._$Do = i)
        }),
        (ft.prototype._$Bs = function () {
          return this._$sr
        })
      function gt() {
        this.m = new Array(1, 0, 0, 0, 1, 0, 0, 0, 1)
      }
      ;(gt.prototype.setContext = function (t) {
        const i = this.m
        t.transform(i[0], i[1], i[3], i[4], i[6], i[7])
      }),
        (gt.prototype.toString = function () {
          for (var t = 'LDTransform { ', i = 0; i < 9; i++) t += this.m[i].toFixed(2) + ' ,'
          return (t += ' }')
        }),
        (gt.prototype.identity = function () {
          const t = this.m
          ;(t[0] = t[4] = t[8] = 1), (t[1] = t[2] = t[3] = t[5] = t[6] = t[7] = 0)
        }),
        (gt.prototype._$PS = function (t, i, e) {
          e == null && (e = new Array(0, 0))
          const r = this.m
          return (e[0] = r[0] * t + r[3] * i + r[6]), (e[1] = r[1] * t + r[4] * i + r[7]), e
        }),
        (gt.prototype._$P2 = function (t) {
          t || (t = new gt())
          const i = this.m
          const e = i[0]
          const r = i[1]
          const o = i[2]
          const n = i[3]
          const s = i[4]
          const _ = i[5]
          const a = i[6]
          const h = i[7]
          const $ = i[8]
          const l = e * s * $ + r * _ * a + o * n * h - e * _ * h - o * s * a - r * n * $
          if (l == 0) return null
          const u = 1 / l
          return (
            (t.m[0] = u * (s * $ - h * _)),
            (t.m[1] = u * (h * o - r * $)),
            (t.m[2] = u * (r * _ - s * o)),
            (t.m[3] = u * (a * _ - n * $)),
            (t.m[4] = u * (e * $ - a * o)),
            (t.m[5] = u * (n * o - e * _)),
            (t.m[6] = u * (n * h - a * s)),
            (t.m[7] = u * (a * r - e * h)),
            (t.m[8] = u * (e * s - n * r)),
            t
          )
        }),
        (gt.prototype.transform = function (t, i, e) {
          e == null && (e = new Array(0, 0))
          const r = this.m
          return (e[0] = r[0] * t + r[3] * i + r[6]), (e[1] = r[1] * t + r[4] * i + r[7]), e
        }),
        (gt.prototype.translate = function (t, i) {
          const e = this.m
          ;(e[6] = e[0] * t + e[3] * i + e[6]),
            (e[7] = e[1] * t + e[4] * i + e[7]),
            (e[8] = e[2] * t + e[5] * i + e[8])
        }),
        (gt.prototype.scale = function (t, i) {
          const e = this.m
          ;(e[0] *= t), (e[1] *= t), (e[2] *= t), (e[3] *= i), (e[4] *= i), (e[5] *= i)
        }),
        (gt.prototype.shear = function (t, i) {
          const e = this.m
          const r = e[0] + e[3] * i
          const o = e[1] + e[4] * i
          const n = e[2] + e[5] * i
          ;(e[3] = e[0] * t + e[3]),
            (e[4] = e[1] * t + e[4]),
            (e[5] = e[2] * t + e[5]),
            (e[0] = r),
            (e[1] = o),
            (e[2] = n)
        }),
        (gt.prototype.rotate = function (t) {
          const i = this.m
          const e = Math.cos(t)
          const r = Math.sin(t)
          const o = i[0] * e + i[3] * r
          const n = i[1] * e + i[4] * r
          const s = i[2] * e + i[5] * r
          ;(i[3] = -i[0] * r + i[3] * e),
            (i[4] = -i[1] * r + i[4] * e),
            (i[5] = -i[2] * r + i[5] * e),
            (i[0] = o),
            (i[1] = n),
            (i[2] = s)
        }),
        (gt.prototype.concatenate = function (t) {
          const i = this.m
          const e = t.m
          const r = i[0] * e[0] + i[3] * e[1] + i[6] * e[2]
          const o = i[1] * e[0] + i[4] * e[1] + i[7] * e[2]
          const n = i[2] * e[0] + i[5] * e[1] + i[8] * e[2]
          const s = i[0] * e[3] + i[3] * e[4] + i[6] * e[5]
          const _ = i[1] * e[3] + i[4] * e[4] + i[7] * e[5]
          const a = i[2] * e[3] + i[5] * e[4] + i[8] * e[5]
          const h = i[0] * e[6] + i[3] * e[7] + i[6] * e[8]
          const $ = i[1] * e[6] + i[4] * e[7] + i[7] * e[8]
          const l = i[2] * e[6] + i[5] * e[7] + i[8] * e[8]
          ;(m[0] = r),
            (m[1] = o),
            (m[2] = n),
            (m[3] = s),
            (m[4] = _),
            (m[5] = a),
            (m[6] = h),
            (m[7] = $),
            (m[8] = l)
        })
      function yt(t) {
        e || et.prototype.constructor.call(this, t)
      }
      ;(yt.prototype = new et()),
        (yt._$eT = null),
        (yt._$tP = new Object()),
        (yt._$2o = function () {
          return yt._$eT == null && (yt._$eT = yt.getID('DST_BASE')), yt._$eT
        }),
        (yt._$27 = function () {
          yt._$tP.clear(), (yt._$eT = null)
        }),
        (yt.getID = function (t) {
          let i = yt._$tP[t]
          return i == null && ((i = new yt(t)), (yt._$tP[t] = i)), i
        }),
        (yt.prototype._$3s = function () {
          return new yt()
        })
      function dt(t) {
        e ||
          (M.prototype.constructor.call(this),
          (this.textures = new Array()),
          (this.transform = null),
          (this.gl = null),
          (this.glno = t),
          (this.firstDraw = !0),
          (this.anisotropyExt = null),
          (this.maxAnisotropy = 0),
          (this._$As = 32),
          (this._$Gr = !1),
          (this._$NT = null),
          (this._$vS = null),
          (this._$no = null),
          (this.vertShader = null),
          (this.fragShader = null),
          (this.vertShaderOff = null),
          (this.fragShaderOff = null))
      }
      ;(dt.prototype = new M()),
        (dt._$9r = function (t) {
          return new Float32Array(t)
        }),
        (dt._$vb = function (t) {
          return new Int16Array(t)
        }),
        (dt._$cr = function (t, i) {
          return (
            t == null || t._$yL() < i.length
              ? ((t = dt._$9r(2 * i.length)).put(i), t._$oT(0))
              : (t.clear(), t.put(i), t._$oT(0)),
            t
          )
        }),
        (dt._$mb = function (t, i) {
          return (
            t == null || t._$yL() < i.length
              ? ((t = dt._$vb(2 * i.length)).put(i), t._$oT(0))
              : (t.clear(), t.put(i), t._$oT(0)),
            t
          )
        }),
        (dt._$Hs = function () {
          return this._$Gr
        }),
        (dt._$as = function (t) {
          this._$Gr = t
        }),
        (dt.prototype.getGL = function () {
          return this.gl
        }),
        (dt.prototype.setGL = function (t) {
          this.gl = t
        }),
        (dt.prototype.setTransform = function (t) {
          this.transform = t
        }),
        (dt.prototype._$ZT = function () {
          const t = this.gl
          this.firstDraw &&
            (this.initShader(),
            (this.firstDraw = !1),
            (this.anisotropyExt =
              t.getExtension('EXT_texture_filter_anisotropic') ||
              t.getExtension('WEBKIT_EXT_texture_filter_anisotropic') ||
              t.getExtension('MOZ_EXT_texture_filter_anisotropic')),
            this.anisotropyExt &&
              (this.maxAnisotropy = t.getParameter(
                this.anisotropyExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT
              ))),
            t.disable(t.SCISSOR_TEST),
            t.disable(t.STENCIL_TEST),
            t.disable(t.DEPTH_TEST),
            t.frontFace(t.CW),
            t.enable(t.BLEND),
            t.colorMask(1, 1, 1, 1),
            t.bindBuffer(t.ARRAY_BUFFER, null),
            t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, null)
        }),
        (dt.prototype._$Uo = function (t, i, e, r, o, n, s, _) {
          if (!(n < 0.01 && this.clipBufPre_clipContextMask == null)) {
            n > 0.9 && _t.EXPAND_W
            const a = this.gl
            if (this.gl == null) throw new Error('gl is null')
            const h = 1 * this._$C0 * n
            const $ = 1 * this._$tT * n
            const l = 1 * this._$WL * n
            const u = this._$lT * n
            if (this.clipBufPre_clipContextMask != null) {
              a.frontFace(a.CCW),
                a.useProgram(this.shaderProgram),
                (this._$vS = mt(a, this._$vS, r)),
                (this._$no = Tt(a, this._$no, e)),
                a.enableVertexAttribArray(this.a_position_Loc),
                a.vertexAttribPointer(this.a_position_Loc, 2, a.FLOAT, !1, 0, 0),
                (this._$NT = mt(a, this._$NT, o)),
                a.activeTexture(a.TEXTURE1),
                a.bindTexture(a.TEXTURE_2D, this.textures[t]),
                a.uniform1i(this.s_texture0_Loc, 1),
                a.enableVertexAttribArray(this.a_texCoord_Loc),
                a.vertexAttribPointer(this.a_texCoord_Loc, 2, a.FLOAT, !1, 0, 0),
                a.uniformMatrix4fv(
                  this.u_matrix_Loc,
                  !1,
                  this.getClipBufPre_clipContextMask().matrixForMask
                )
              var p = this.getClipBufPre_clipContextMask().layoutChannelNo
              var c = this.getChannelFlagAsColor(p)
              a.uniform4f(this.u_channelFlag, c.r, c.g, c.b, c.a)
              const f = this.getClipBufPre_clipContextMask().layoutBounds
              a.uniform4f(
                this.u_baseColor_Loc,
                2 * f.x - 1,
                2 * f.y - 1,
                2 * f._$EL() - 1,
                2 * f._$5T() - 1
              ),
                a.uniform1i(this.u_maskFlag_Loc, !0)
            } else if (this.getClipBufPre_clipContextDraw() != null) {
              a.useProgram(this.shaderProgramOff),
                (this._$vS = mt(a, this._$vS, r)),
                (this._$no = Tt(a, this._$no, e)),
                a.enableVertexAttribArray(this.a_position_Loc_Off),
                a.vertexAttribPointer(this.a_position_Loc_Off, 2, a.FLOAT, !1, 0, 0),
                (this._$NT = mt(a, this._$NT, o)),
                a.activeTexture(a.TEXTURE1),
                a.bindTexture(a.TEXTURE_2D, this.textures[t]),
                a.uniform1i(this.s_texture0_Loc_Off, 1),
                a.enableVertexAttribArray(this.a_texCoord_Loc_Off),
                a.vertexAttribPointer(this.a_texCoord_Loc_Off, 2, a.FLOAT, !1, 0, 0),
                a.uniformMatrix4fv(
                  this.u_clipMatrix_Loc_Off,
                  !1,
                  this.getClipBufPre_clipContextDraw().matrixForDraw
                ),
                a.uniformMatrix4fv(this.u_matrix_Loc_Off, !1, this.matrix4x4),
                a.activeTexture(a.TEXTURE2),
                a.bindTexture(a.TEXTURE_2D, _t.fTexture[this.glno]),
                a.uniform1i(this.s_texture1_Loc_Off, 2)
              ;(p = this.getClipBufPre_clipContextDraw().layoutChannelNo),
                (c = this.getChannelFlagAsColor(p))
              a.uniform4f(this.u_channelFlag_Loc_Off, c.r, c.g, c.b, c.a),
                a.uniform4f(this.u_baseColor_Loc_Off, h, $, l, u)
            } else
              a.useProgram(this.shaderProgram),
                (this._$vS = mt(a, this._$vS, r)),
                (this._$no = Tt(a, this._$no, e)),
                a.enableVertexAttribArray(this.a_position_Loc),
                a.vertexAttribPointer(this.a_position_Loc, 2, a.FLOAT, !1, 0, 0),
                (this._$NT = mt(a, this._$NT, o)),
                a.activeTexture(a.TEXTURE1),
                a.bindTexture(a.TEXTURE_2D, this.textures[t]),
                a.uniform1i(this.s_texture0_Loc, 1),
                a.enableVertexAttribArray(this.a_texCoord_Loc),
                a.vertexAttribPointer(this.a_texCoord_Loc, 2, a.FLOAT, !1, 0, 0),
                a.uniformMatrix4fv(this.u_matrix_Loc, !1, this.matrix4x4),
                a.uniform4f(this.u_baseColor_Loc, h, $, l, u),
                a.uniform1i(this.u_maskFlag_Loc, !1)
            this.culling ? this.gl.enable(a.CULL_FACE) : this.gl.disable(a.CULL_FACE),
              this.gl.enable(a.BLEND)
            let g, y, d, m
            if (this.clipBufPre_clipContextMask != null)
              (g = a.ONE), (y = a.ONE_MINUS_SRC_ALPHA), (d = a.ONE), (m = a.ONE_MINUS_SRC_ALPHA)
            else
              switch (s) {
                case $t._$ms:
                  ;(g = a.ONE),
                    (y = a.ONE_MINUS_SRC_ALPHA),
                    (d = a.ONE),
                    (m = a.ONE_MINUS_SRC_ALPHA)
                  break
                case $t._$ns:
                  ;(g = a.ONE), (y = a.ONE), (d = a.ZERO), (m = a.ONE)
                  break
                case $t._$_s:
                  ;(g = a.DST_COLOR), (y = a.ONE_MINUS_SRC_ALPHA), (d = a.ZERO), (m = a.ONE)
              }
            a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD),
              a.blendFuncSeparate(g, y, d, m),
              this.anisotropyExt &&
                a.texParameteri(
                  a.TEXTURE_2D,
                  this.anisotropyExt.TEXTURE_MAX_ANISOTROPY_EXT,
                  this.maxAnisotropy
                )
            const T = e.length
            a.drawElements(a.TRIANGLES, T, a.UNSIGNED_SHORT, 0), a.bindTexture(a.TEXTURE_2D, null)
          }
        })
      function mt(t, i, e) {
        return (
          i == null && (i = t.createBuffer()),
          t.bindBuffer(t.ARRAY_BUFFER, i),
          t.bufferData(t.ARRAY_BUFFER, e, t.DYNAMIC_DRAW),
          i
        )
      }
      function Tt(t, i, e) {
        return (
          i == null && (i = t.createBuffer()),
          t.bindBuffer(t.ELEMENT_ARRAY_BUFFER, i),
          t.bufferData(t.ELEMENT_ARRAY_BUFFER, e, t.DYNAMIC_DRAW),
          i
        )
      }
      ;(dt.prototype._$Rs = function () {
        throw new Error('_$Rs')
      }),
        (dt.prototype._$Ds = function (t) {
          throw new Error('_$Ds')
        }),
        (dt.prototype._$K2 = function () {
          for (let t = 0; t < this.textures.length; t++) {
            this.textures[t] != 0 && (this.gl._$K2(1, this.textures, t), (this.textures[t] = null))
          }
        }),
        (dt.prototype.setTexture = function (t, i) {
          this.textures[t] = i
        }),
        (dt.prototype.initShader = function () {
          const t = this.gl
          this.loadShaders2(),
            (this.a_position_Loc = t.getAttribLocation(this.shaderProgram, 'a_position')),
            (this.a_texCoord_Loc = t.getAttribLocation(this.shaderProgram, 'a_texCoord')),
            (this.u_matrix_Loc = t.getUniformLocation(this.shaderProgram, 'u_mvpMatrix')),
            (this.s_texture0_Loc = t.getUniformLocation(this.shaderProgram, 's_texture0')),
            (this.u_channelFlag = t.getUniformLocation(this.shaderProgram, 'u_channelFlag')),
            (this.u_baseColor_Loc = t.getUniformLocation(this.shaderProgram, 'u_baseColor')),
            (this.u_maskFlag_Loc = t.getUniformLocation(this.shaderProgram, 'u_maskFlag')),
            (this.a_position_Loc_Off = t.getAttribLocation(this.shaderProgramOff, 'a_position')),
            (this.a_texCoord_Loc_Off = t.getAttribLocation(this.shaderProgramOff, 'a_texCoord')),
            (this.u_matrix_Loc_Off = t.getUniformLocation(this.shaderProgramOff, 'u_mvpMatrix')),
            (this.u_clipMatrix_Loc_Off = t.getUniformLocation(
              this.shaderProgramOff,
              'u_ClipMatrix'
            )),
            (this.s_texture0_Loc_Off = t.getUniformLocation(this.shaderProgramOff, 's_texture0')),
            (this.s_texture1_Loc_Off = t.getUniformLocation(this.shaderProgramOff, 's_texture1')),
            (this.u_channelFlag_Loc_Off = t.getUniformLocation(
              this.shaderProgramOff,
              'u_channelFlag'
            )),
            (this.u_baseColor_Loc_Off = t.getUniformLocation(this.shaderProgramOff, 'u_baseColor'))
        }),
        (dt.prototype.disposeShader = function () {
          const t = this.gl
          this.shaderProgram && (t.deleteProgram(this.shaderProgram), (this.shaderProgram = null)),
            this.shaderProgramOff &&
              (t.deleteProgram(this.shaderProgramOff), (this.shaderProgramOff = null))
        }),
        (dt.prototype.compileShader = function (t, i) {
          const e = this.gl
          const r = i
          const o = e.createShader(t)
          if (o == null) return _._$Ji('_$L0 to create shader'), null
          e.shaderSource(o, r), e.compileShader(o)
          if (!e.getShaderParameter(o, e.COMPILE_STATUS)) {
            const n = e.getShaderInfoLog(o)
            return _._$Ji('_$L0 to compile shader : ' + n), e.deleteShader(o), null
          }
          return o
        }),
        (dt.prototype.loadShaders2 = function () {
          const t = this.gl
          if (((this.shaderProgram = t.createProgram()), !this.shaderProgram)) return !1
          if (((this.shaderProgramOff = t.createProgram()), !this.shaderProgramOff)) return !1
          if (
            ((this.vertShader = this.compileShader(
              t.VERTEX_SHADER,
              'attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_mvpMatrix * a_position;    v_texCoord = a_texCoord;}'
            )),
            !this.vertShader)
          )
            return _._$Ji('Vertex shader compile _$li!'), !1
          if (
            ((this.vertShaderOff = this.compileShader(
              t.VERTEX_SHADER,
              'attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform mat4       u_mvpMatrix;uniform mat4       u_ClipMatrix;void main(){    gl_Position = u_mvpMatrix * a_position;    v_ClipPos = u_ClipMatrix * a_position;    v_texCoord = a_texCoord ;}'
            )),
            !this.vertShaderOff)
          )
            return _._$Ji('OffVertex shader compile _$li!'), !1
          if (
            ((this.fragShader = this.compileShader(
              t.FRAGMENT_SHADER,
              'precision mediump float;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform vec4       u_channelFlag;uniform vec4       u_baseColor;uniform bool       u_maskFlag;void main(){    vec4 smpColor;     if(u_maskFlag){        float isInside =             step(u_baseColor.x, v_ClipPos.x/v_ClipPos.w)          * step(u_baseColor.y, v_ClipPos.y/v_ClipPos.w)          * step(v_ClipPos.x/v_ClipPos.w, u_baseColor.z)          * step(v_ClipPos.y/v_ClipPos.w, u_baseColor.w);        smpColor = u_channelFlag * texture2D(s_texture0 , v_texCoord).a * isInside;    }else{        smpColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;    }    gl_FragColor = smpColor;}'
            )),
            !this.fragShader)
          )
            return _._$Ji('Fragment shader compile _$li!'), !1
          if (
            ((this.fragShaderOff = this.compileShader(
              t.FRAGMENT_SHADER,
              'precision mediump float ;varying vec2       v_texCoord;varying vec4       v_ClipPos;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_channelFlag;uniform vec4       u_baseColor ;void main(){    vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;    vec4 clipMask = texture2D(s_texture1, v_ClipPos.xy / v_ClipPos.w) * u_channelFlag;    float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;    col_formask = col_formask * maskVal;    gl_FragColor = col_formask;}'
            )),
            !this.fragShaderOff)
          )
            return _._$Ji('OffFragment shader compile _$li!'), !1
          t.attachShader(this.shaderProgram, this.vertShader),
            t.attachShader(this.shaderProgram, this.fragShader),
            t.attachShader(this.shaderProgramOff, this.vertShaderOff),
            t.attachShader(this.shaderProgramOff, this.fragShaderOff),
            t.linkProgram(this.shaderProgram),
            t.linkProgram(this.shaderProgramOff)
          if (!t.getProgramParameter(this.shaderProgram, t.LINK_STATUS)) {
            const i = t.getProgramInfoLog(this.shaderProgram)
            return (
              _._$Ji('_$L0 to link program: ' + i),
              this.vertShader && (t.deleteShader(this.vertShader), (this.vertShader = 0)),
              this.fragShader && (t.deleteShader(this.fragShader), (this.fragShader = 0)),
              this.shaderProgram && (t.deleteProgram(this.shaderProgram), (this.shaderProgram = 0)),
              this.vertShaderOff && (t.deleteShader(this.vertShaderOff), (this.vertShaderOff = 0)),
              this.fragShaderOff && (t.deleteShader(this.fragShaderOff), (this.fragShaderOff = 0)),
              this.shaderProgramOff &&
                (t.deleteProgram(this.shaderProgramOff), (this.shaderProgramOff = 0)),
              !1
            )
          }
          return !0
        }),
        (dt.prototype.createFramebuffer = function () {
          const t = this.gl
          const i = _t.clippingMaskBufferSize
          const e = t.createFramebuffer()
          t.bindFramebuffer(t.FRAMEBUFFER, e)
          const r = t.createRenderbuffer()
          t.bindRenderbuffer(t.RENDERBUFFER, r),
            t.renderbufferStorage(t.RENDERBUFFER, t.RGBA4, i, i),
            t.framebufferRenderbuffer(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.RENDERBUFFER, r)
          const o = t.createTexture()
          return (
            t.bindTexture(t.TEXTURE_2D, o),
            t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, i, i, 0, t.RGBA, t.UNSIGNED_BYTE, null),
            t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.LINEAR),
            t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.LINEAR),
            t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE),
            t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE),
            t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, o, 0),
            t.bindTexture(t.TEXTURE_2D, null),
            t.bindRenderbuffer(t.RENDERBUFFER, null),
            t.bindFramebuffer(t.FRAMEBUFFER, null),
            (_t.fTexture[this.glno] = o),
            { framebuffer: e, renderbuffer: r, texture: _t.fTexture[this.glno] }
          )
        })
      function Pt(t) {
        e ||
          ((this._$P = new Int8Array(8)),
          (this._$R0 = new DataView(this._$P.buffer)),
          (this._$3i = new Int8Array(1e3)),
          (this._$hL = 0),
          (this._$v0 = 0),
          (this._$S2 = 0),
          (this._$Ko = new Array()),
          (this._$T = t),
          (this._$F = 0))
      }
      ;(Pt.prototype._$fP = function () {
        let t
        let i
        let e
        const r = this._$ST()
        if ((128 & r) == 0) return 255 & r
        if ((128 & (t = this._$ST())) == 0) return ((127 & r) << 7) | (127 & t)
        if ((128 & (i = this._$ST())) == 0) return ((127 & r) << 14) | ((127 & t) << 7) | (255 & i)
        if ((128 & (e = this._$ST())) == 0)
          return ((127 & r) << 21) | ((127 & t) << 14) | ((127 & i) << 7) | (255 & e)
        throw new ht('_$L _$0P  _')
      }),
        (Pt.prototype.getFormatVersion = function () {
          return this._$S2
        }),
        (Pt.prototype._$gr = function (t) {
          this._$S2 = t
        }),
        (Pt.prototype._$3L = function () {
          return this._$fP()
        }),
        (Pt.prototype._$mP = function () {
          return this._$zT(), (this._$F += 8), this._$T.getFloat64(this._$F - 8)
        }),
        (Pt.prototype._$_T = function () {
          return this._$zT(), (this._$F += 4), this._$T.getFloat32(this._$F - 4)
        }),
        (Pt.prototype._$6L = function () {
          return this._$zT(), (this._$F += 4), this._$T.getInt32(this._$F - 4)
        }),
        (Pt.prototype._$ST = function () {
          return this._$zT(), this._$T.getInt8(this._$F++)
        }),
        (Pt.prototype._$9T = function () {
          return this._$zT(), (this._$F += 2), this._$T.getInt16(this._$F - 2)
        }),
        (Pt.prototype._$2T = function () {
          throw (this._$zT(), (this._$F += 8), new ht('_$L _$q read long'))
        }),
        (Pt.prototype._$po = function () {
          return this._$zT(), this._$T.getInt8(this._$F++) != 0
        })
      let St = !0
      ;(Pt.prototype._$bT = function () {
        this._$zT()
        const t = this._$3L()
        let i = null
        if (St)
          try {
            const e = new ArrayBuffer(2 * t)
            i = new Uint16Array(e)
            for (var r = 0; r < t; ++r) i[r] = this._$T.getUint8(this._$F++)
            return String.fromCharCode.apply(null, i)
          } catch (t) {
            St = !1
          }
        try {
          const o = new Array()
          if (i == null) for (r = 0; r < t; ++r) o[r] = this._$T.getUint8(this._$F++)
          else for (r = 0; r < t; ++r) o[r] = i[r]
          return String.fromCharCode.apply(null, o)
        } catch (t) {
          console.log('read utf8 / _$rT _$L0 !! : ' + t)
        }
      }),
        (Pt.prototype._$cS = function () {
          this._$zT()
          for (var t = this._$3L(), i = new Int32Array(t), e = 0; e < t; e++)
            (i[e] = this._$T.getInt32(this._$F)), (this._$F += 4)
          return i
        }),
        (Pt.prototype._$Tb = function () {
          this._$zT()
          for (var t = this._$3L(), i = new Float32Array(t), e = 0; e < t; e++)
            (i[e] = this._$T.getFloat32(this._$F)), (this._$F += 4)
          return i
        }),
        (Pt.prototype._$5b = function () {
          this._$zT()
          for (var t = this._$3L(), i = new Float64Array(t), e = 0; e < t; e++)
            (i[e] = this._$T.getFloat64(this._$F)), (this._$F += 8)
          return i
        }),
        (Pt.prototype._$nP = function () {
          return this._$Jb(-1)
        }),
        (Pt.prototype._$Jb = function (t) {
          if ((this._$zT(), t < 0 && (t = this._$3L()), t == G._$7P)) {
            const i = this._$6L()
            if (i >= 0 && i < this._$Ko.length) return this._$Ko[i]
            throw new ht('_$sL _$4i @_$m0')
          }
          const e = this._$4b(t)
          return this._$Ko.push(e), e
        }),
        (Pt.prototype._$4b = function (t) {
          if (t == 0) return null
          if (t == 50) {
            var i = this._$bT()
            return (n = R.getID(i))
          }
          if (t == 51) {
            i = this._$bT()
            return (n = yt.getID(i))
          }
          if (t == 134) {
            i = this._$bT()
            return (n = h.getID(i))
          }
          if (t == 60) {
            i = this._$bT()
            return (n = $.getID(i))
          }
          if (t >= 48) {
            const r = G._$9o(t)
            return r != null ? (r._$F0(this), r) : null
          }
          switch (t) {
            case 1:
              return this._$bT()
            case 10:
              return new (function () {
                e || (this.color = null)
              })(this._$6L(), !0)
            case 11:
              return new P(this._$mP(), this._$mP(), this._$mP(), this._$mP())
            case 12:
              return new P(this._$_T(), this._$_T(), this._$_T(), this._$_T())
            case 13:
              return new v(this._$mP(), this._$mP())
            case 14:
              return new v(this._$_T(), this._$_T())
            case 15:
              for (var o = this._$3L(), n = new Array(o), s = 0; s < o; s++) n[s] = this._$nP()
              return n
            case 17:
              return (n = new b(
                this._$mP(),
                this._$mP(),
                this._$mP(),
                this._$mP(),
                this._$mP(),
                this._$mP()
              ))
            case 21:
              return new a(this._$6L(), this._$6L(), this._$6L(), this._$6L())
            case 22:
              return new ut(this._$6L(), this._$6L())
            case 23:
              throw new Error('_$L _$ro ')
            case 16:
            case 25:
              return this._$cS()
            case 26:
              return this._$5b()
            case 27:
              return this._$Tb()
            case 2:
            case 3:
            case 4:
            case 5:
            case 6:
            case 7:
            case 8:
            case 9:
            case 18:
            case 19:
            case 20:
            case 24:
            case 28:
              throw new ht('_$6 _$q : _$nP() of 2-9 ,18,19,20,24,28 : ' + t)
            default:
              throw new ht('_$6 _$q : _$nP() NO _$i : ' + t)
          }
        }),
        (Pt.prototype._$8L = function () {
          return (
            this._$hL == 0
              ? (this._$v0 = this._$ST())
              : this._$hL == 8 && ((this._$v0 = this._$ST()), (this._$hL = 0)),
            ((this._$v0 >> (7 - this._$hL++)) & 1) == 1
          )
        }),
        (Pt.prototype._$zT = function () {
          this._$hL != 0 && (this._$hL = 0)
        })
      function vt() {}
      ;(vt._$2S = Math.PI / 180),
        (vt._$bS = Math.PI / 180),
        (vt._$wS = 180 / Math.PI),
        (vt._$NS = 180 / Math.PI),
        (vt.PI_F = Math.PI),
        (vt._$kT = [
          0, 0.012368, 0.024734, 0.037097, 0.049454, 0.061803, 0.074143, 0.086471, 0.098786,
          0.111087, 0.12337, 0.135634, 0.147877, 0.160098, 0.172295, 0.184465, 0.196606, 0.208718,
          0.220798, 0.232844, 0.244854, 0.256827, 0.268761, 0.280654, 0.292503, 0.304308, 0.316066,
          0.327776, 0.339436, 0.351044, 0.362598, 0.374097, 0.385538, 0.396921, 0.408243, 0.419502,
          0.430697, 0.441826, 0.452888, 0.463881, 0.474802, 0.485651, 0.496425, 0.507124, 0.517745,
          0.528287, 0.538748, 0.549126, 0.559421, 0.56963, 0.579752, 0.589785, 0.599728, 0.609579,
          0.619337, 0.629, 0.638567, 0.648036, 0.657406, 0.666676, 0.675843, 0.684908, 0.693867,
          0.70272, 0.711466, 0.720103, 0.72863, 0.737045, 0.745348, 0.753536, 0.76161, 0.769566,
          0.777405, 0.785125, 0.792725, 0.800204, 0.807561, 0.814793, 0.821901, 0.828884, 0.835739,
          0.842467, 0.849066, 0.855535, 0.861873, 0.868079, 0.874153, 0.880093, 0.885898, 0.891567,
          0.897101, 0.902497, 0.907754, 0.912873, 0.917853, 0.922692, 0.92739, 0.931946, 0.936359,
          0.940629, 0.944755, 0.948737, 0.952574, 0.956265, 0.959809, 0.963207, 0.966457, 0.96956,
          0.972514, 0.97532, 0.977976, 0.980482, 0.982839, 0.985045, 0.987101, 0.989006, 0.990759,
          0.992361, 0.993811, 0.995109, 0.996254, 0.997248, 0.998088, 0.998776, 0.999312, 0.999694,
          0.999924, 1,
        ]),
        (vt._$92 = function (t, i) {
          const e = Math.atan2(t[1], t[0])
          const r = Math.atan2(i[1], i[0])
          return vt._$tS(e, r)
        }),
        (vt._$tS = function (t, i) {
          for (var e = t - i; e < -Math.PI; ) e += 2 * Math.PI
          for (; e > Math.PI; ) e -= 2 * Math.PI
          return e
        }),
        (vt._$9 = function (t) {
          return Math.sin(t)
        }),
        (vt.fcos = function (t) {
          return Math.cos(t)
        })
      function Lt(t) {
        e ||
          ((this._$e0 = null),
          (this._$IP = null),
          (this._$Us = null),
          (this._$7s = null),
          (this._$IS = [!1]),
          (this._$VS = null),
          (this._$AT = !0),
          (this.baseOpacity = 1),
          (this.clipBufPre_clipContext = null),
          (this._$e0 = t))
      }
      ;(Lt.prototype._$u2 = function () {
        return this._$IS[0]
      }),
        (Lt.prototype._$yo = function () {
          return this._$AT && !this._$IS[0]
        }),
        (Lt.prototype._$GT = function () {
          return this._$e0
        })
      function Mt() {}
      ;(Mt._$W2 = 0),
        (Mt.SYSTEM_INFO = null),
        (Mt.USER_AGENT = navigator.userAgent),
        (Mt.isIPhone = function () {
          return Mt.SYSTEM_INFO || Mt.setup(), Mt.SYSTEM_INFO._isIPhone
        }),
        (Mt.isIOS = function () {
          return Mt.SYSTEM_INFO || Mt.setup(), Mt.SYSTEM_INFO._isIPhone || Mt.SYSTEM_INFO._isIPad
        }),
        (Mt.isAndroid = function () {
          return Mt.SYSTEM_INFO || Mt.setup(), Mt.SYSTEM_INFO._isAndroid
        }),
        (Mt.getOSVersion = function () {
          return Mt.SYSTEM_INFO || Mt.setup(), Mt.SYSTEM_INFO.version
        }),
        (Mt.getOS = function () {
          return (
            Mt.SYSTEM_INFO || Mt.setup(),
            Mt.SYSTEM_INFO._isIPhone || Mt.SYSTEM_INFO._isIPad
              ? 'iOS'
              : Mt.SYSTEM_INFO._isAndroid
              ? 'Android'
              : '_$Q0 OS'
          )
        }),
        (Mt.setup = function () {
          const t = Mt.USER_AGENT
          function i(t, i) {
            for (
              var e = t.substring(i).split(/[ _,;\.]/), r = 0, o = 0;
              o <= 2 && !isNaN(e[o]);
              o++
            ) {
              const n = parseInt(e[o])
              if (n < 0 || n > 999) {
                _._$li('err : ' + n + ' @UtHtml5.setup()'), (r = 0)
                break
              }
              r += n * Math.pow(1e3, 2 - o)
            }
            return r
          }
          let e
          const r = (Mt.SYSTEM_INFO = { userAgent: t })
          if ((e = t.indexOf('iPhone OS ')) >= 0)
            (r.os = 'iPhone'), (r._isIPhone = !0), (r.version = i(t, e + 'iPhone OS '.length))
          else if ((e = t.indexOf('iPad')) >= 0) {
            if ((e = t.indexOf('CPU OS')) < 0)
              return void _._$li(' err : ' + t + ' @UtHtml5.setup()')
            ;(r.os = 'iPad'), (r._isIPad = !0), (r.version = i(t, e + 'CPU OS '.length))
          } else
            (e = t.indexOf('Android')) >= 0
              ? ((r.os = 'Android'), (r._isAndroid = !0), (r.version = i(t, e + 'Android '.length)))
              : ((r.os = '-'), (r.version = -1))
        }),
        _t.init()
      e = !1
      ;(i.UtSystem = I),
        (i.UtDebug = _),
        (i.LDTransform = gt),
        (i.LDGL = ot),
        (i.Live2D = _t),
        (i.Live2DModelWebGL = pt),
        (i.Live2DModelJS = q),
        (i.Live2DMotion = J),
        (i.MotionQueueManager = ct),
        (i.PhysicsHair = u),
        (i.AMotion = s),
        (i.PartsDataID = h),
        (i.DrawDataID = R),
        (i.BaseDataID = yt),
        (i.ParamID = $)
    }.call(i, e(138)))
  },
  133(t, i, e) {
    'use strict'
    Object.defineProperty(i, '__esModule', { value: !0 }),
      (i.L2DBaseModel =
        i.L2DExpressionMotion =
        i.L2DExpressionParam =
        i.L2DEyeBlink =
        i.EYE_STATE =
        i.L2DMatrix44 =
        i.L2DModelMatrix =
        i.L2DMotionManager =
        i.L2DPhysics =
        i.L2DPartsParam =
        i.L2DPose =
        i.L2DViewMatrix =
        i.Live2DFramework =
        i.L2DTargetPoint =
          void 0)
    const r = e(132)
    function o() {
      ;(this.live2DModel = null),
        (this.modelMatrix = null),
        (this.eyeBlink = null),
        (this.physics = null),
        (this.pose = null),
        (this.debugMode = !1),
        (this.initialized = !1),
        (this.updating = !1),
        (this.alpha = 1),
        (this.accAlpha = 0),
        (this.lipSync = !1),
        (this.lipSyncValue = 0),
        (this.accelX = 0),
        (this.accelY = 0),
        (this.accelZ = 0),
        (this.dragX = 0),
        (this.dragY = 0),
        (this.startTimeMSec = null),
        (this.mainMotionManager = new u()),
        (this.expressionManager = new u()),
        (this.motions = {}),
        (this.expressions = {}),
        (this.isTexLoaded = !1)
    }
    let n = 0
    ;(o.prototype.getModelMatrix = function () {
      return this.modelMatrix
    }),
      (o.prototype.setAlpha = function (t) {
        t > 0.999 && (t = 1), t < 0.001 && (t = 0), (this.alpha = t)
      }),
      (o.prototype.getAlpha = function () {
        return this.alpha
      }),
      (o.prototype.isInitialized = function () {
        return this.initialized
      }),
      (o.prototype.setInitialized = function (t) {
        this.initialized = t
      }),
      (o.prototype.isUpdating = function () {
        return this.updating
      }),
      (o.prototype.setUpdating = function (t) {
        this.updating = t
      }),
      (o.prototype.getLive2DModel = function () {
        return this.live2DModel
      }),
      (o.prototype.setLipSync = function (t) {
        this.lipSync = t
      }),
      (o.prototype.setLipSyncValue = function (t) {
        this.lipSyncValue = t
      }),
      (o.prototype.setAccel = function (t, i, e) {
        ;(this.accelX = t), (this.accelY = i), (this.accelZ = e)
      }),
      (o.prototype.setDrag = function (t, i) {
        ;(this.dragX = t), (this.dragY = i)
      }),
      (o.prototype.getMainMotionManager = function () {
        return this.mainMotionManager
      }),
      (o.prototype.getExpressionManager = function () {
        return this.expressionManager
      }),
      (o.prototype.loadModelData = function (t, i) {
        const e = d.getPlatformManager()
        this.debugMode && e.log('Load model : ' + t)
        const o = this
        e.loadLive2DModel(t, function (t) {
          ;(o.live2DModel = t), o.live2DModel.saveParam()
          r.Live2D.getError() == 0
            ? ((o.modelMatrix = new l(
                o.live2DModel.getCanvasWidth(),
                o.live2DModel.getCanvasHeight()
              )),
              o.modelMatrix.setWidth(2),
              o.modelMatrix.setCenterPosition(0, 0),
              i(o.live2DModel))
            : console.error('Error : Failed to loadModelData().')
        })
      }),
      (o.prototype.loadTexture = function (t, i, e) {
        n++
        const r = d.getPlatformManager()
        this.debugMode && r.log('Load Texture : ' + i)
        const o = this
        r.loadTexture(this.live2DModel, t, i, function () {
          --n == 0 && (o.isTexLoaded = !0), typeof e === 'function' && e()
        })
      }),
      (o.prototype.loadMotion = function (t, i, e) {
        const o = d.getPlatformManager()
        this.debugMode && o.log('Load Motion : ' + i)
        let n = null
        const s = this
        o.loadBytes(i, function (i) {
          ;(n = r.Live2DMotion.loadMotion(i)), t != null && (s.motions[t] = n), e(n)
        })
      }),
      (o.prototype.loadExpression = function (t, i, e) {
        const r = d.getPlatformManager()
        this.debugMode && r.log('Load Expression : ' + i)
        const o = this
        r.loadBytes(i, function (i) {
          t != null && (o.expressions[t] = s.loadJson(i)), typeof e === 'function' && e()
        })
      }),
      (o.prototype.loadPose = function (t, i) {
        const e = d.getPlatformManager()
        this.debugMode && e.log('Load Pose : ' + t)
        const r = this
        try {
          e.loadBytes(t, function (t) {
            ;(r.pose = c.load(t)), typeof i === 'function' && i()
          })
        } catch (t) {
          console.warn(t)
        }
      }),
      (o.prototype.loadPhysics = function (t) {
        const i = d.getPlatformManager()
        this.debugMode && i.log('Load Physics : ' + t)
        const e = this
        try {
          i.loadBytes(t, function (t) {
            e.physics = p.load(t)
          })
        } catch (t) {
          console.warn(t)
        }
      }),
      (o.prototype.hitTestSimple = function (t, i, e) {
        if (this.live2DModel === null) return !1
        const r = this.live2DModel.getDrawDataIndex(t)
        if (r < 0) return !1
        for (
          var o = this.live2DModel.getTransformedPoints(r),
            n = this.live2DModel.getCanvasWidth(),
            s = 0,
            _ = this.live2DModel.getCanvasHeight(),
            a = 0,
            h = 0;
          h < o.length;
          h += 2
        ) {
          const $ = o[h]
          const l = o[h + 1]
          $ < n && (n = $), $ > s && (s = $), l < _ && (_ = l), l > a && (a = l)
        }
        const u = this.modelMatrix.invertTransformX(i)
        const p = this.modelMatrix.invertTransformY(e)
        return n <= u && u <= s && _ <= p && p <= a
      })
    function s() {
      r.AMotion.prototype.constructor.call(this), (this.paramList = new Array())
    }
    ;(s.prototype = new r.AMotion()),
      (s.EXPRESSION_DEFAULT = 'DEFAULT'),
      (s.TYPE_SET = 0),
      (s.TYPE_ADD = 1),
      (s.TYPE_MULT = 2),
      (s.loadJson = function (t) {
        const i = new s()
        const e = d.getPlatformManager().jsonParseFromBytes(t)
        if (
          (i.setFadeIn(parseInt(e.fade_in) > 0 ? parseInt(e.fade_in) : 1e3),
          i.setFadeOut(parseInt(e.fade_out) > 0 ? parseInt(e.fade_out) : 1e3),
          e.params == null)
        )
          return i
        const r = e.params
        const o = r.length
        i.paramList = []
        for (let n = 0; n < o; n++) {
          const a = r[n]
          const h = a.id.toString()
          let $ = parseFloat(a.val)
          let l = s.TYPE_ADD
          const u = a.calc != null ? a.calc.toString() : 'add'
          if (
            (l =
              u === 'add'
                ? s.TYPE_ADD
                : u === 'mult'
                ? s.TYPE_MULT
                : u === 'set'
                ? s.TYPE_SET
                : s.TYPE_ADD) == s.TYPE_ADD
          ) {
            $ -= p = a.def == null ? 0 : parseFloat(a.def)
          } else if (l == s.TYPE_MULT) {
            var p
            ;(p = a.def == null ? 1 : parseFloat(a.def)) == 0 && (p = 1), ($ /= p)
          }
          const c = new _()
          ;(c.id = h), (c.type = l), (c.value = $), i.paramList.push(c)
        }
        return i
      }),
      (s.prototype.updateParamExe = function (t, i, e, r) {
        for (let o = this.paramList.length - 1; o >= 0; --o) {
          const n = this.paramList[o]
          n.type == s.TYPE_ADD
            ? t.addToParamFloat(n.id, n.value, e)
            : n.type == s.TYPE_MULT
            ? t.multParamFloat(n.id, n.value, e)
            : n.type == s.TYPE_SET && t.setParamFloat(n.id, n.value, e)
        }
      })
    function _() {
      ;(this.id = ''), (this.type = -1), (this.value = null)
    }
    function a() {
      ;(this.nextBlinkTime = null),
        (this.stateStartTime = null),
        (this.blinkIntervalMsec = null),
        (this.eyeState = h.STATE_FIRST),
        (this.blinkIntervalMsec = 4e3),
        (this.closingMotionMsec = 100),
        (this.closedMotionMsec = 50),
        (this.openingMotionMsec = 150),
        (this.closeIfZero = !0),
        (this.eyeID_L = 'PARAM_EYE_L_OPEN'),
        (this.eyeID_R = 'PARAM_EYE_R_OPEN')
    }
    ;(a.prototype.calcNextBlink = function () {
      return r.UtSystem.getUserTimeMSec() + Math.random() * (2 * this.blinkIntervalMsec - 1)
    }),
      (a.prototype.setInterval = function (t) {
        this.blinkIntervalMsec = t
      }),
      (a.prototype.setEyeMotion = function (t, i, e) {
        ;(this.closingMotionMsec = t), (this.closedMotionMsec = i), (this.openingMotionMsec = e)
      }),
      (a.prototype.updateParam = function (t) {
        let i
        const e = r.UtSystem.getUserTimeMSec()
        let o = 0
        switch (this.eyeState) {
          case h.STATE_CLOSING:
            ;(o = (e - this.stateStartTime) / this.closingMotionMsec) >= 1 &&
              ((o = 1), (this.eyeState = h.STATE_CLOSED), (this.stateStartTime = e)),
              (i = 1 - o)
            break
          case h.STATE_CLOSED:
            ;(o = (e - this.stateStartTime) / this.closedMotionMsec) >= 1 &&
              ((this.eyeState = h.STATE_OPENING), (this.stateStartTime = e)),
              (i = 0)
            break
          case h.STATE_OPENING:
            ;(o = (e - this.stateStartTime) / this.openingMotionMsec) >= 1 &&
              ((o = 1),
              (this.eyeState = h.STATE_INTERVAL),
              (this.nextBlinkTime = this.calcNextBlink())),
              (i = o)
            break
          case h.STATE_INTERVAL:
            this.nextBlinkTime < e &&
              ((this.eyeState = h.STATE_CLOSING), (this.stateStartTime = e)),
              (i = 1)
            break
          case h.STATE_FIRST:
          default:
            ;(this.eyeState = h.STATE_INTERVAL),
              (this.nextBlinkTime = this.calcNextBlink()),
              (i = 1)
        }
        this.closeIfZero || (i = -i),
          t.setParamFloat(this.eyeID_L, i),
          t.setParamFloat(this.eyeID_R, i)
      })
    var h = function () {}
    ;(h.STATE_FIRST = 'STATE_FIRST'),
      (h.STATE_INTERVAL = 'STATE_INTERVAL'),
      (h.STATE_CLOSING = 'STATE_CLOSING'),
      (h.STATE_CLOSED = 'STATE_CLOSED'),
      (h.STATE_OPENING = 'STATE_OPENING')
    function $() {
      ;(this.tr = new Float32Array(16)), this.identity()
    }
    ;($.mul = function (t, i, e) {
      let r
      let o
      let n
      const s = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
      for (r = 0; r < 4; r++)
        for (o = 0; o < 4; o++) for (n = 0; n < 4; n++) s[r + 4 * o] += t[r + 4 * n] * i[n + 4 * o]
      for (r = 0; r < 16; r++) e[r] = s[r]
    }),
      ($.prototype.identity = function () {
        for (let t = 0; t < 16; t++) this.tr[t] = t % 5 == 0 ? 1 : 0
      }),
      ($.prototype.getArray = function () {
        return this.tr
      }),
      ($.prototype.getCopyMatrix = function () {
        return new Float32Array(this.tr)
      }),
      ($.prototype.setMatrix = function (t) {
        if (this.tr != null && this.tr.length == this.tr.length)
          for (let i = 0; i < 16; i++) this.tr[i] = t[i]
      }),
      ($.prototype.getScaleX = function () {
        return this.tr[0]
      }),
      ($.prototype.getScaleY = function () {
        return this.tr[5]
      }),
      ($.prototype.transformX = function (t) {
        return this.tr[0] * t + this.tr[12]
      }),
      ($.prototype.transformY = function (t) {
        return this.tr[5] * t + this.tr[13]
      }),
      ($.prototype.invertTransformX = function (t) {
        return (t - this.tr[12]) / this.tr[0]
      }),
      ($.prototype.invertTransformY = function (t) {
        return (t - this.tr[13]) / this.tr[5]
      }),
      ($.prototype.multTranslate = function (t, i) {
        const e = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, t, i, 0, 1]
        $.mul(e, this.tr, this.tr)
      }),
      ($.prototype.translate = function (t, i) {
        ;(this.tr[12] = t), (this.tr[13] = i)
      }),
      ($.prototype.translateX = function (t) {
        this.tr[12] = t
      }),
      ($.prototype.translateY = function (t) {
        this.tr[13] = t
      }),
      ($.prototype.multScale = function (t, i) {
        const e = [t, 0, 0, 0, 0, i, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]
        $.mul(e, this.tr, this.tr)
      }),
      ($.prototype.scale = function (t, i) {
        ;(this.tr[0] = t), (this.tr[5] = i)
      })
    function l(t, i) {
      $.prototype.constructor.call(this), (this.width = t), (this.height = i)
    }
    ;(l.prototype = new $()),
      (l.prototype.setPosition = function (t, i) {
        this.translate(t, i)
      }),
      (l.prototype.setCenterPosition = function (t, i) {
        const e = this.width * this.getScaleX()
        const r = this.height * this.getScaleY()
        this.translate(t - e / 2, i - r / 2)
      }),
      (l.prototype.top = function (t) {
        this.setY(t)
      }),
      (l.prototype.bottom = function (t) {
        const i = this.height * this.getScaleY()
        this.translateY(t - i)
      }),
      (l.prototype.left = function (t) {
        this.setX(t)
      }),
      (l.prototype.right = function (t) {
        const i = this.width * this.getScaleX()
        this.translateX(t - i)
      }),
      (l.prototype.centerX = function (t) {
        const i = this.width * this.getScaleX()
        this.translateX(t - i / 2)
      }),
      (l.prototype.centerY = function (t) {
        const i = this.height * this.getScaleY()
        this.translateY(t - i / 2)
      }),
      (l.prototype.setX = function (t) {
        this.translateX(t)
      }),
      (l.prototype.setY = function (t) {
        this.translateY(t)
      }),
      (l.prototype.setHeight = function (t) {
        const i = t / this.height
        const e = -i
        this.scale(i, e)
      }),
      (l.prototype.setWidth = function (t) {
        const i = t / this.width
        const e = -i
        this.scale(i, e)
      })
    function u() {
      r.MotionQueueManager.prototype.constructor.call(this),
        (this.currentPriority = null),
        (this.reservePriority = null),
        (this.super = r.MotionQueueManager.prototype)
    }
    ;(u.prototype = new r.MotionQueueManager()),
      (u.prototype.getCurrentPriority = function () {
        return this.currentPriority
      }),
      (u.prototype.getReservePriority = function () {
        return this.reservePriority
      }),
      (u.prototype.reserveMotion = function (t) {
        return (
          !(this.reservePriority >= t) &&
          !(this.currentPriority >= t) &&
          ((this.reservePriority = t), !0)
        )
      }),
      (u.prototype.setReservePriority = function (t) {
        this.reservePriority = t
      }),
      (u.prototype.updateParam = function (t) {
        const i = r.MotionQueueManager.prototype.updateParam.call(this, t)
        return this.isFinished() && (this.currentPriority = 0), i
      }),
      (u.prototype.startMotionPrio = function (t, i) {
        return (
          i == this.reservePriority && (this.reservePriority = 0),
          (this.currentPriority = i),
          this.startMotion(t, !1)
        )
      })
    function p() {
      ;(this.physicsList = new Array()), (this.startTimeMSec = r.UtSystem.getUserTimeMSec())
    }
    ;(p.load = function (t) {
      for (
        var i = new p(),
          e = d.getPlatformManager().jsonParseFromBytes(t).physics_hair,
          o = e.length,
          n = 0;
        n < o;
        n++
      ) {
        const s = e[n]
        const _ = new r.PhysicsHair()
        const a = s.setup
        const h = parseFloat(a.length)
        const $ = parseFloat(a.regist)
        const l = parseFloat(a.mass)
        _.setup(h, $, l)
        for (var u = s.src, c = u.length, f = 0; f < c; f++) {
          const g = u[f]
          var y = g.id
          var m =
            r.PhysicsHair.Src.SRC_TO_X((L = g.ptype)) === 'x'
              ? (m = r.PhysicsHair.Src.SRC_TO_X)
              : L === 'y'
              ? (m = r.PhysicsHair.Src.SRC_TO_Y)
              : L === 'angle'
              ? (m = r.PhysicsHair.Src.SRC_TO_G_ANGLE)
              : r.UtDebug.error('live2d', 'Invalid parameter:PhysicsHair.Src')
          var T = parseFloat(g.scale)
          var P = parseFloat(g.weight)
          _.addSrcParam(m, y, T, P)
        }
        const S = s.targets
        const v = S.length
        for (f = 0; f < v; f++) {
          var L
          const M = S[f]
          ;(y = M.id),
            (m = r.PhysicsHair.Target.TARGET_FROM_ANGLE)((L = M.ptype)) === 'angle'
              ? (m = r.PhysicsHair.Target.TARGET_FROM_ANGLE)
              : L === 'angle_v'
              ? (m = r.PhysicsHair.Target.TARGET_FROM_ANGLE_V)
              : r.UtDebug.error('live2d', 'Invalid parameter:PhysicsHair.Target')
          ;(T = parseFloat(M.scale)), (P = parseFloat(M.weight))
          _.addTargetParam(m, y, T, P)
        }
        i.physicsList.push(_)
      }
      return i
    }),
      (p.prototype.updateParam = function (t) {
        for (
          let i = r.UtSystem.getUserTimeMSec() - this.startTimeMSec, e = 0;
          e < this.physicsList.length;
          e++
        )
          this.physicsList[e].update(t, i)
      })
    function c() {
      ;(this.lastTime = 0), (this.lastModel = null), (this.partsGroups = new Array())
    }
    ;(c.load = function (t) {
      for (
        var i = new c(),
          e = d.getPlatformManager().jsonParseFromBytes(t).parts_visible,
          r = e.length,
          o = 0;
        o < r;
        o++
      ) {
        for (var n = e[o].group, s = n.length, _ = new Array(), a = 0; a < s; a++) {
          const h = n[a]
          const $ = new f(h.id)
          if (((_[a] = $), h.link != null)) {
            const l = h.link
            const u = l.length
            $.link = new Array()
            for (let p = 0; p < u; p++) {
              const g = new f(l[p])
              $.link.push(g)
            }
          }
        }
        i.partsGroups.push(_)
      }
      return i
    }),
      (c.prototype.updateParam = function (t) {
        if (t != null) {
          t != this.lastModel && this.initParam(t), (this.lastModel = t)
          const i = r.UtSystem.getUserTimeMSec()
          let e = this.lastTime == 0 ? 0 : (i - this.lastTime) / 1e3
          ;(this.lastTime = i), e < 0 && (e = 0)
          for (let o = 0; o < this.partsGroups.length; o++)
            this.normalizePartsOpacityGroup(t, this.partsGroups[o], e),
              this.copyOpacityOtherParts(t, this.partsGroups[o])
        }
      }),
      (c.prototype.initParam = function (t) {
        if (t != null)
          for (let i = 0; i < this.partsGroups.length; i++)
            for (let e = this.partsGroups[i], r = 0; r < e.length; r++) {
              e[r].initIndex(t)
              const o = e[r].partsIndex
              const n = e[r].paramIndex
              if (!(o < 0)) {
                const s = t.getParamFloat(n) != 0
                if (
                  (t.setPartsOpacity(o, s ? 1 : 0),
                  t.setParamFloat(n, s ? 1 : 0),
                  e[r].link != null)
                )
                  for (let _ = 0; _ < e[r].link.length; _++) e[r].link[_].initIndex(t)
              }
            }
      }),
      (c.prototype.normalizePartsOpacityGroup = function (t, i, e) {
        for (var r = -1, o = 1, n = 0; n < i.length; n++) {
          var s = i[n].partsIndex
          const _ = i[n].paramIndex
          if (!(s < 0) && t.getParamFloat(_) != 0) {
            if (r >= 0) break
            ;(r = n), (o = t.getPartsOpacity(s)), (o += e / 0.5) > 1 && (o = 1)
          }
        }
        r < 0 && ((r = 0), (o = 1))
        for (n = 0; n < i.length; n++) {
          if (!((s = i[n].partsIndex) < 0))
            if (r == n) t.setPartsOpacity(s, o)
            else {
              var a
              let h = t.getPartsOpacity(s)
              ;(1 - (a = o < 0.5 ? (-0.5 * o) / 0.5 + 1 : (0.5 * (1 - o)) / 0.5)) * (1 - o) >
                0.15 && (a = 1 - 0.15 / (1 - o)),
                h > a && (h = a),
                t.setPartsOpacity(s, h)
            }
        }
      }),
      (c.prototype.copyOpacityOtherParts = function (t, i) {
        for (let e = 0; e < i.length; e++) {
          const r = i[e]
          if (r.link != null && !(r.partsIndex < 0))
            for (let o = t.getPartsOpacity(r.partsIndex), n = 0; n < r.link.length; n++) {
              const s = r.link[n]
              s.partsIndex < 0 || t.setPartsOpacity(s.partsIndex, o)
            }
        }
      })
    function f(t) {
      ;(this.paramIndex = -1), (this.partsIndex = -1), (this.link = null), (this.id = t)
    }
    f.prototype.initIndex = function (t) {
      ;(this.paramIndex = t.getParamIndex('VISIBLE:' + this.id)),
        (this.partsIndex = t.getPartsDataIndex(r.PartsDataID.getID(this.id))),
        t.setParamFloat(this.paramIndex, 1)
    }
    function g() {
      ;(this.EPSILON = 0.01),
        (this.faceTargetX = 0),
        (this.faceTargetY = 0),
        (this.faceX = 0),
        (this.faceY = 0),
        (this.faceVX = 0),
        (this.faceVY = 0),
        (this.lastTimeSec = 0)
    }
    ;(g.FRAME_RATE = 60),
      (g.prototype.setPoint = function (t, i) {
        ;(this.faceTargetX = t), (this.faceTargetY = i)
      }),
      (g.prototype.getX = function () {
        return this.faceX
      }),
      (g.prototype.getY = function () {
        return this.faceY
      }),
      (g.prototype.update = function () {
        const t = 40 / 7.5 / g.FRAME_RATE
        if (this.lastTimeSec != 0) {
          const i = r.UtSystem.getUserTimeMSec()
          const e = ((i - this.lastTimeSec) * g.FRAME_RATE) / 1e3
          this.lastTimeSec = i
          const o = (e * t) / (0.15 * g.FRAME_RATE)
          const n = this.faceTargetX - this.faceX
          const s = this.faceTargetY - this.faceY
          if (!(Math.abs(n) <= this.EPSILON && Math.abs(s) <= this.EPSILON)) {
            const _ = Math.sqrt(n * n + s * s)
            const a = (t * s) / _
            let h = (t * n) / _ - this.faceVX
            let $ = a - this.faceVY
            let l = Math.sqrt(h * h + $ * $)
            ;(l < -o || l > o) && ((h *= o / l), ($ *= o / l), (l = o)),
              (this.faceVX += h),
              (this.faceVY += $)
            const u = 0.5 * (Math.sqrt(o * o + 16 * o * _ - 8 * o * _) - o)
            const p = Math.sqrt(this.faceVX * this.faceVX + this.faceVY * this.faceVY)
            p > u && ((this.faceVX *= u / p), (this.faceVY *= u / p)),
              (this.faceX += this.faceVX),
              (this.faceY += this.faceVY)
          }
        } else this.lastTimeSec = r.UtSystem.getUserTimeMSec()
      })
    function y() {
      $.prototype.constructor.call(this),
        (this.screenLeft = null),
        (this.screenRight = null),
        (this.screenTop = null),
        (this.screenBottom = null),
        (this.maxLeft = null),
        (this.maxRight = null),
        (this.maxTop = null),
        (this.maxBottom = null)
    }
    ;(y.prototype = new $()),
      (y.prototype.adjustTranslate = function (t, i) {
        this.tr[0] * this.maxLeft + (this.tr[12] + t) > this.screenLeft &&
          (t = this.screenLeft - this.tr[0] * this.maxLeft - this.tr[12]),
          this.tr[0] * this.maxRight + (this.tr[12] + t) < this.screenRight &&
            (t = this.screenRight - this.tr[0] * this.maxRight - this.tr[12]),
          this.tr[5] * this.maxTop + (this.tr[13] + i) < this.screenTop &&
            (i = this.screenTop - this.tr[5] * this.maxTop - this.tr[13]),
          this.tr[5] * this.maxBottom + (this.tr[13] + i) > this.screenBottom &&
            (i = this.screenBottom - this.tr[5] * this.maxBottom - this.tr[13])
        const e = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, t, i, 0, 1]
        $.mul(e, this.tr, this.tr)
      }),
      (y.prototype.adjustScale = function (t, i, e) {
        this.tr[0]
        const r = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, t, i, 0, 1]
        const o = [e, 0, 0, 0, 0, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]
        const n = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, -t, -i, 0, 1]
        $.mul(n, this.tr, this.tr), $.mul(o, this.tr, this.tr), $.mul(r, this.tr, this.tr)
      }),
      (y.prototype.setScreenRect = function (t, i, e, r) {
        ;(this.screenLeft = t),
          (this.screenRight = i),
          (this.screenTop = r),
          (this.screenBottom = e)
      }),
      (y.prototype.setMaxScreenRect = function (t, i, e, r) {
        ;(this.maxLeft = t), (this.maxRight = i), (this.maxTop = r), (this.maxBottom = e)
      }),
      (y.prototype.getScreenLeft = function () {
        return this.screenLeft
      }),
      (y.prototype.getScreenRight = function () {
        return this.screenRight
      }),
      (y.prototype.getScreenBottom = function () {
        return this.screenBottom
      }),
      (y.prototype.getScreenTop = function () {
        return this.screenTop
      }),
      (y.prototype.getMaxLeft = function () {
        return this.maxLeft
      }),
      (y.prototype.getMaxRight = function () {
        return this.maxRight
      }),
      (y.prototype.getMaxBottom = function () {
        return this.maxBottom
      }),
      (y.prototype.getMaxTop = function () {
        return this.maxTop
      })
    function d() {}
    ;(d.platformManager = null),
      (d.getPlatformManager = function () {
        return d.platformManager
      }),
      (d.setPlatformManager = function (t) {
        d.platformManager = t
      }),
      (i.L2DTargetPoint = g),
      (i.Live2DFramework = d),
      (i.L2DViewMatrix = y),
      (i.L2DPose = c),
      (i.L2DPartsParam = f),
      (i.L2DPhysics = p),
      (i.L2DMotionManager = u),
      (i.L2DModelMatrix = l),
      (i.L2DMatrix44 = $),
      (i.EYE_STATE = h),
      (i.L2DEyeBlink = a),
      (i.L2DExpressionParam = _),
      (i.L2DExpressionMotion = s),
      (i.L2DBaseModel = o)
  },
  134(t, i, e) {
    'use strict'
    Object.defineProperty(i, '__esModule', { value: !0 })
    i.cDefine = {
      VIEW_LOGICAL_LEFT: -1,
      VIEW_LOGICAL_RIGHT: 1,
      VIEW_LOGICAL_MAX_LEFT: -2,
      VIEW_LOGICAL_MAX_RIGHT: 2,
      VIEW_LOGICAL_MAX_BOTTOM: -2,
      VIEW_LOGICAL_MAX_TOP: 2,
      PRIORITY_NONE: 0,
      PRIORITY_IDLE: 1,
      PRIORITY_NORMAL: 2,
      PRIORITY_FORCE: 3,
      MOTION_GROUP_IDLE: 'idle',
      MOTION_GROUP_TAP_BODY: 'tap_body',
      MOTION_GROUP_FLICK_HEAD: 'flick_head',
      MOTION_GROUP_PINCH_IN: 'pinch_in',
      MOTION_GROUP_PINCH_OUT: 'pinch_out',
      MOTION_GROUP_SHAKE: 'shake',
      HIT_AREA_HEAD: 'head',
      HIT_AREA_BODY: 'body',
    }
  },
  135(t, i, e) {
    'use strict'
    Object.defineProperty(i, '__esModule', { value: !0 }),
      (i.currCanvas = i.currWebGL = i.createElement = void 0)
    let r
    const o = e(51)
    const n = e(137)
    const s = ((r = n), r && r.__esModule ? r : { default: r })
    let _ = void 0
    let a = void 0
    ;(i.createElement = function () {
      const t = document.getElementById(o.config.name.div)
      t !== null && document.body.removeChild(t)
      const e = document.createElement('div')
      ;(e.id = o.config.name.div), (e.innerHTML = s.default)
      const r = document.createElement('canvas')
      r.setAttribute('id', o.config.name.canvas),
        r.setAttribute('width', o.config.display.width * o.config.display.superSample),
        r.setAttribute('height', o.config.display.height * o.config.display.superSample),
        r.style.setProperty('position', 'fixed'),
        r.style.setProperty('width', o.config.display.width),
        r.style.setProperty('height', o.config.display.height),
        r.style.setProperty('opacity', o.config.react.opacityDefault),
        r.style.setProperty(o.config.display.position, o.config.display.hOffset + 'px'),
        r.style.setProperty('bottom', o.config.display.vOffset + 'px'),
        r.style.setProperty('z-index', 100),
        r.style.setProperty('pointer-events', 'none'),
        o.config.dev.border && r.style.setProperty('border', 'dashed 1px #CCC'),
        e.appendChild(r),
        document.body.appendChild(e),
        (i.currCanvas = a = document.getElementById(o.config.name.canvas)),
        (function () {
          for (
            let t = [
                'webgl2',
                'webgl',
                'experimental-webgl2',
                'experimental-webgl',
                'webkit-3d',
                'moz-webgl',
              ],
              e = 0;
            e < t.length;
            e++
          )
            try {
              const r = a.getContext(t[e], {
                alpha: !0,
                antialias: !0,
                premultipliedAlpha: !0,
                failIfMajorPerformanceCaveat: !1,
              })
              r && (i.currWebGL = _ = r)
            } catch (t) {}
          _ ||
            (console.error('Live2D widgets: Failed to create WebGL context.'),
            window.WebGLRenderingContext ||
              console.error(
                'Your browser may not support WebGL, check https://get.webgl.org/ for futher information.'
              ))
        })()
    }),
      (i.currWebGL = _),
      (i.currCanvas = a)
  },
  136(t, i, e) {
    'use strict'
    Object.defineProperty(i, '__esModule', { value: !0 }), (i.MatrixStack = r)
    function r() {}
    ;(r.matrixStack = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),
      (r.depth = 0),
      (r.currentMatrix = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),
      (r.tmp = new Array(16)),
      (r.reset = function () {
        this.depth = 0
      }),
      (r.loadIdentity = function () {
        for (let t = 0; t < 16; t++) this.currentMatrix[t] = t % 5 == 0 ? 1 : 0
      }),
      (r.push = function () {
        const t = 16 * (this.depth + 1)
        this.matrixStack.length < t + 16 && (this.matrixStack.length = t + 16)
        for (let i = 0; i < 16; i++) this.matrixStack[t + i] = this.currentMatrix[i]
        this.depth++
      }),
      (r.pop = function () {
        this.depth--, this.depth < 0 && (myError('Invalid matrix stack.'), (this.depth = 0))
        for (let t = 16 * this.depth, i = 0; i < 16; i++)
          this.currentMatrix[i] = this.matrixStack[t + i]
      }),
      (r.getMatrix = function () {
        return this.currentMatrix
      }),
      (r.multMatrix = function (t) {
        let i, e, r
        for (i = 0; i < 16; i++) this.tmp[i] = 0
        for (i = 0; i < 4; i++)
          for (e = 0; e < 4; e++)
            for (r = 0; r < 4; r++)
              this.tmp[i + 4 * e] += this.currentMatrix[i + 4 * r] * t[r + 4 * e]
        for (i = 0; i < 16; i++) this.currentMatrix[i] = this.tmp[i]
      })
  },
  137(t, i) {
    t.exports = ''
  },
  138(t, i) {
    t.exports = {
      import() {
        throw new Error('System.import cannot be used indirectly')
      },
    }
  },
  139(t, i, e) {
    'use strict'
    Object.defineProperty(i, '__esModule', { value: !0 }), (i.cManager = void 0)
    const r = e(133)
    const o = e(140)
    const n = e(141)
    const s = e(134)
    function _() {
      ;(this.models = []),
        (this.count = -1),
        (this.reloadFlg = !1),
        r.Live2DFramework.setPlatformManager(new o.PlatformManager())
    }
    ;(_.prototype.createModel = function () {
      const t = new n.cModel()
      return this.models.push(t), t
    }),
      (_.prototype.changeModel = function (t, i) {
        this.reloadFlg &&
          ((this.reloadFlg = !1),
          this.releaseModel(0, t),
          this.createModel(),
          this.models[0].load(t, i))
      }),
      (_.prototype.getModel = function (t) {
        return t >= this.models.length ? null : this.models[t]
      }),
      (_.prototype.releaseModel = function (t, i) {
        this.models.length <= t ||
          (this.models[t].release(i), delete this.models[t], this.models.splice(t, 1))
      }),
      (_.prototype.numModels = function () {
        return this.models.length
      }),
      (_.prototype.setDrag = function (t, i) {
        for (let e = 0; e < this.models.length; e++) this.models[e].setDrag(t, i)
      }),
      (_.prototype.tapEvent = function (t, i) {
        s.cDefine.DEBUG_LOG && console.log('tapEvent view x:' + t + ' y:' + i)
        for (let e = 0; e < this.models.length; e++)
          this.models[e].hitTest(s.cDefine.HIT_AREA_HEAD, t, i)
            ? s.cDefine.DEBUG_LOGthis.models[e].setRandomExpression()
            : this.models[e].hitTest(s.cDefine.HIT_AREA_BODY, t, i) &&
              (s.cDefine.DEBUG_LOG && console.log('Tap body. models[' + e + ']'),
              this.models[e].startRandomMotion(
                s.cDefine.MOTION_GROUP_TAP_BODY,
                s.cDefine.PRIORITY_NORMAL
              ))
        return !0
      }),
      (i.cManager = _)
  },
  140(t, i, e) {
    'use strict'
    Object.defineProperty(i, '__esModule', { value: !0 }), (i.PlatformManager = n)
    const r = e(135)
    const o = e(132)
    function n() {}
    ;(n.prototype.loadBytes = function (t, i) {
      if (window.mtn) {
        i(window.mtn)
      } else {
        const e = new XMLHttpRequest()
        e.open('GET', t, !0),
          (e.responseType = 'arraybuffer'),
          (e.onload = function () {
            switch (e.status) {
              case 200:
                if (window.mtn2 && window.mtn2.byteLength == e.response.byteLength) {
                  window.mtn = e.response
                }
                window.mtn2 = e.response
                i(e.response)
                break
              default:
                console.error('Failed to load (' + e.status + ') : ' + t)
            }
          }),
          e.send(null)
      }
    }),
      (n.prototype.loadString = function (t) {
        this.loadBytes(t, function (t) {
          return t
        })
      }),
      (n.prototype.loadLive2DModel = function (t, i) {
        let e = null
        this.loadBytes(t, function (t) {
          ;(e = o.Live2DModelWebGL.loadModel(t)), i(e)
        })
      }),
      (n.prototype.loadTexture = function (t, i, e, o) {
        const n = new Image()
        ;(n.crossOrigin = 'Anonymous'),
          (n.src = e),
          (n.onload = onload),
          (n.onerror = onerror),
          (n.onload = function () {
            const e = r.currWebGL
            let s = e.createTexture()
            if (!s) return console.error('Failed to generate gl texture name.'), -1
            t.isPremultipliedAlpha() || e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1),
              e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, 1),
              e.activeTexture(e.TEXTURE0),
              e.bindTexture(e.TEXTURE_2D, s),
              e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, n),
              e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.LINEAR),
              e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR_MIPMAP_NEAREST),
              e.generateMipmap(e.TEXTURE_2D),
              t.setTexture(i, s),
              (s = null),
              typeof o === 'function' && o()
          }),
          (n.onerror = function () {
            console.error('Failed to load image : ' + e)
          })
      }),
      (n.prototype.jsonParseFromBytes = function (t) {
        let i
        const e = new Uint8Array(t, 0, 3)
        i =
          e[0] == 239 && e[1] == 187 && e[2] == 191
            ? String.fromCharCode.apply(null, new Uint8Array(t, 3))
            : String.fromCharCode.apply(null, new Uint8Array(t))
        return JSON.parse(i)
      }),
      (n.prototype.log = function (t) {
        console.log(t)
      })
  },
  141(t, i, e) {
    'use strict'
    Object.defineProperty(i, '__esModule', { value: !0 }), (i.cModel = a)
    const r = e(133)
    const o = e(142)
    const n = e(136)
    const s = e(134)
    const _ = e(132)
    function a() {
      r.L2DBaseModel.prototype.constructor.call(this),
        (this.modelHomeDir = ''),
        (this.modelSetting = null),
        (this.tmpMatrix = [])
    }
    ;(a.prototype = new r.L2DBaseModel()),
      (a.prototype.load = function (t, i, e) {
        this.setUpdating(!0),
          this.setInitialized(!1),
          (this.modelHomeDir = i.substring(0, i.lastIndexOf('/') + 1)),
          (this.modelSetting = new o.ModelSettingJson())
        const n = this
        this.modelSetting.loadModelSetting(i, function () {
          const t = n.modelHomeDir + n.modelSetting.getModelFile()
          n.loadModelData(t, function (t) {
            for (let i = 0; i < n.modelSetting.getTextureNum(); i++) {
              if (/^https?:\/\/|^\/\//i.test(n.modelSetting.getTextureFile(i)))
                var o = n.modelSetting.getTextureFile(i)
              else o = n.modelHomeDir + n.modelSetting.getTextureFile(i)
              n.loadTexture(i, o, function () {
                if (n.isTexLoaded) {
                  if (n.modelSetting.getExpressionNum() > 0) {
                    n.expressions = {}
                    for (var t = 0; t < n.modelSetting.getExpressionNum(); t++) {
                      const i = n.modelSetting.getExpressionName(t)
                      const o = n.modelHomeDir + n.modelSetting.getExpressionFile(t)
                      n.loadExpression(i, o)
                    }
                  } else (n.expressionManager = null), (n.expressions = {})
                  if (
                    (n.eyeBlink == null && (n.eyeBlink = new r.L2DEyeBlink()),
                    n.modelSetting.getPhysicsFile() != null
                      ? n.loadPhysics(n.modelHomeDir + n.modelSetting.getPhysicsFile())
                      : (n.physics = null),
                    n.modelSetting.getPoseFile() != null
                      ? n.loadPose(n.modelHomeDir + n.modelSetting.getPoseFile(), function () {
                          n.pose.updateParam(n.live2DModel)
                        })
                      : (n.pose = null),
                    n.modelSetting.getLayout() != null)
                  ) {
                    const _ = n.modelSetting.getLayout()
                    _.width != null && n.modelMatrix.setWidth(_.width),
                      _.height != null && n.modelMatrix.setHeight(_.height),
                      _.x != null && n.modelMatrix.setX(_.x),
                      _.y != null && n.modelMatrix.setY(_.y),
                      _.center_x != null && n.modelMatrix.centerX(_.center_x),
                      _.center_y != null && n.modelMatrix.centerY(_.center_y),
                      _.top != null && n.modelMatrix.top(_.top),
                      _.bottom != null && n.modelMatrix.bottom(_.bottom),
                      _.left != null && n.modelMatrix.left(_.left),
                      _.right != null && n.modelMatrix.right(_.right)
                  }
                  for (t = 0; t < n.modelSetting.getInitParamNum(); t++)
                    n.live2DModel.setParamFloat(
                      n.modelSetting.getInitParamID(t),
                      n.modelSetting.getInitParamValue(t)
                    )
                  for (t = 0; t < n.modelSetting.getInitPartsVisibleNum(); t++)
                    n.live2DModel.setPartsOpacity(
                      n.modelSetting.getInitPartsVisibleID(t),
                      n.modelSetting.getInitPartsVisibleValue(t)
                    )
                  n.live2DModel.saveParam(),
                    n.preloadMotionGroup(s.cDefine.MOTION_GROUP_IDLE),
                    n.mainMotionManager.stopAllMotions(),
                    n.setUpdating(!1),
                    n.setInitialized(!0),
                    typeof e === 'function' && e()
                }
              })
            }
          })
        })
      }),
      (a.prototype.release = function (t) {
        const i = r.Live2DFramework.getPlatformManager()
        t.deleteTexture(i.texture)
      }),
      (a.prototype.preloadMotionGroup = function (t) {
        for (var i = this, e = 0; e < this.modelSetting.getMotionNum(t); e++) {
          const r = this.modelSetting.getMotionFile(t, e)
          this.loadMotion(r, this.modelHomeDir + r, function (r) {
            r.setFadeIn(i.modelSetting.getMotionFadeIn(t, e)),
              r.setFadeOut(i.modelSetting.getMotionFadeOut(t, e))
          })
        }
      }),
      (a.prototype.update = function () {
        if (this.live2DModel != null) {
          const t = 2 * ((_.UtSystem.getUserTimeMSec() - this.startTimeMSec) / 1e3) * Math.PI
          this.mainMotionManager.isFinished() &&
            this.startRandomMotion(s.cDefine.MOTION_GROUP_IDLE, s.cDefine.PRIORITY_IDLE),
            this.live2DModel.loadParam()
          this.mainMotionManager.updateParam(this.live2DModel) ||
            (this.eyeBlink != null && this.eyeBlink.updateParam(this.live2DModel)),
            this.live2DModel.saveParam(),
            this.expressionManager == null ||
              this.expressions == null ||
              this.expressionManager.isFinished() ||
              this.expressionManager.updateParam(this.live2DModel),
            this.live2DModel.addToParamFloat('PARAM_ANGLE_X', 30 * this.dragX, 1),
            this.live2DModel.addToParamFloat('PARAM_ANGLE_Y', 30 * this.dragY, 1),
            this.live2DModel.addToParamFloat('PARAM_ANGLE_Z', this.dragX * this.dragY * -30, 1),
            this.live2DModel.addToParamFloat('PARAM_BODY_ANGLE_X', 10 * this.dragX, 1),
            this.live2DModel.addToParamFloat('PARAM_EYE_BALL_X', this.dragX, 1),
            this.live2DModel.addToParamFloat('PARAM_EYE_BALL_Y', this.dragY, 1),
            this.live2DModel.addToParamFloat(
              'PARAM_ANGLE_X',
              Number(15 * Math.sin(t / 6.5345)),
              0.5
            ),
            this.live2DModel.addToParamFloat(
              'PARAM_ANGLE_Y',
              Number(8 * Math.sin(t / 3.5345)),
              0.5
            ),
            this.live2DModel.addToParamFloat(
              'PARAM_ANGLE_Z',
              Number(10 * Math.sin(t / 5.5345)),
              0.5
            ),
            this.live2DModel.addToParamFloat(
              'PARAM_BODY_ANGLE_X',
              Number(4 * Math.sin(t / 15.5345)),
              0.5
            ),
            this.live2DModel.setParamFloat(
              'PARAM_BREATH',
              Number(0.5 + 0.5 * Math.sin(t / 3.2345)),
              1
            ),
            this.physics != null && this.physics.updateParam(this.live2DModel),
            this.lipSync == null &&
              this.live2DModel.setParamFloat('PARAM_MOUTH_OPEN_Y', this.lipSyncValue),
            this.pose != null && this.pose.updateParam(this.live2DModel),
            this.live2DModel.update()
        } else s.cDefine.DEBUG_LOG && console.error('Failed to update.')
      }),
      (a.prototype.setRandomExpression = function () {
        const t = []
        for (const i in this.expressions) t.push(i)
        const e = parseInt(Math.random() * t.length)
        this.setExpression(t[e])
      }),
      (a.prototype.startRandomMotion = function (t, i) {
        const e = this.modelSetting.getMotionNum(t)
        const r = parseInt(Math.random() * e)
        this.startMotion(t, r, i)
      }),
      (a.prototype.startMotion = function (t, i, e) {
        const r = this.modelSetting.getMotionFile(t, i)
        if (r != null && r != '') {
          if (e == s.cDefine.PRIORITY_FORCE) this.mainMotionManager.setReservePriority(e)
          else if (!this.mainMotionManager.reserveMotion(e))
            return void (s.cDefine.DEBUG_LOG && console.log('Motion is running.'))
          let o
          const n = this
          this.motions[t] == null
            ? this.loadMotion(null, this.modelHomeDir + r, function (r) {
                ;(o = r), n.setFadeInFadeOut(t, i, e, o)
              })
            : ((o = this.motions[t]), n.setFadeInFadeOut(t, i, e, o))
        } else s.cDefine.DEBUG_LOG && console.error('Failed to motion.')
      }),
      (a.prototype.setFadeInFadeOut = function (t, i, e, r) {
        const o = this.modelSetting.getMotionFile(t, i)
        if (
          (r.setFadeIn(this.modelSetting.getMotionFadeIn(t, i)),
          r.setFadeOut(this.modelSetting.getMotionFadeOut(t, i)),
          s.cDefine.DEBUG_LOG && console.log('Start motion : ' + o),
          this.modelSetting.getMotionSound(t, i) == null)
        )
          this.mainMotionManager.startMotionPrio(r, e)
        else {
          const n = this.modelSetting.getMotionSound(t, i)
          const _ = document.createElement('audio')
          ;(_.src = this.modelHomeDir + n),
            s.cDefine.DEBUG_LOG && console.log('Start sound : ' + n),
            _.play(),
            this.mainMotionManager.startMotionPrio(r, e)
        }
      }),
      (a.prototype.setExpression = function (t) {
        const i = this.expressions[t]
        s.cDefine.DEBUG_LOG && console.log('Expression : ' + t),
          this.expressionManager.startMotion(i, !1)
      }),
      (a.prototype.draw = function (t) {
        n.MatrixStack.push(),
          n.MatrixStack.multMatrix(this.modelMatrix.getArray()),
          (this.tmpMatrix = n.MatrixStack.getMatrix()),
          this.live2DModel.setMatrix(this.tmpMatrix),
          this.live2DModel.draw(),
          n.MatrixStack.pop()
      }),
      (a.prototype.hitTest = function (t, i, e) {
        for (let r = this.modelSetting.getHitAreaNum(), o = 0; o < r; o++)
          if (t == this.modelSetting.getHitAreaName(o)) {
            const n = this.modelSetting.getHitAreaID(o)
            return this.hitTestSimple(n, i, e)
          }
        return !1
      })
  },
  142(t, i, e) {
    'use strict'
    Object.defineProperty(i, '__esModule', { value: !0 }), (i.ModelSettingJson = o)
    const r = e(133)
    function o() {
      ;(this.NAME = 'name'),
        (this.ID = 'id'),
        (this.MODEL = 'model'),
        (this.TEXTURES = 'textures'),
        (this.HIT_AREAS = 'hit_areas'),
        (this.PHYSICS = 'physics'),
        (this.POSE = 'pose'),
        (this.EXPRESSIONS = 'expressions'),
        (this.MOTION_GROUPS = 'motions'),
        (this.SOUND = 'sound'),
        (this.FADE_IN = 'fade_in'),
        (this.FADE_OUT = 'fade_out'),
        (this.LAYOUT = 'layout'),
        (this.INIT_PARAM = 'init_param'),
        (this.INIT_PARTS_VISIBLE = 'init_parts_visible'),
        (this.VALUE = 'val'),
        (this.FILE = 'file'),
        (this.json = {})
    }
    ;(o.prototype.loadModelSetting = function (t, i) {
      const e = this
      r.Live2DFramework.getPlatformManager().loadBytes(t, function (t) {
        const r = String.fromCharCode.apply(null, new Uint8Array(t))
        ;(e.json = JSON.parse(r)), i()
      })
    }),
      (o.prototype.getTextureFile = function (t) {
        return this.json[this.TEXTURES] == null || this.json[this.TEXTURES][t] == null
          ? null
          : this.json[this.TEXTURES][t]
      }),
      (o.prototype.getModelFile = function () {
        return this.json[this.MODEL]
      }),
      (o.prototype.getTextureNum = function () {
        return this.json[this.TEXTURES] == null ? 0 : this.json[this.TEXTURES].length
      }),
      (o.prototype.getHitAreaNum = function () {
        return this.json[this.HIT_AREAS] == null ? 0 : this.json[this.HIT_AREAS].length
      }),
      (o.prototype.getHitAreaID = function (t) {
        return this.json[this.HIT_AREAS] == null || this.json[this.HIT_AREAS][t] == null
          ? null
          : this.json[this.HIT_AREAS][t][this.ID]
      }),
      (o.prototype.getHitAreaName = function (t) {
        return this.json[this.HIT_AREAS] == null || this.json[this.HIT_AREAS][t] == null
          ? null
          : this.json[this.HIT_AREAS][t][this.NAME]
      }),
      (o.prototype.getPhysicsFile = function () {
        return this.json[this.PHYSICS]
      }),
      (o.prototype.getPoseFile = function () {
        return this.json[this.POSE]
      }),
      (o.prototype.getExpressionNum = function () {
        return this.json[this.EXPRESSIONS] == null ? 0 : this.json[this.EXPRESSIONS].length
      }),
      (o.prototype.getExpressionFile = function (t) {
        return this.json[this.EXPRESSIONS] == null
          ? null
          : this.json[this.EXPRESSIONS][t][this.FILE]
      }),
      (o.prototype.getExpressionName = function (t) {
        return this.json[this.EXPRESSIONS] == null
          ? null
          : this.json[this.EXPRESSIONS][t][this.NAME]
      }),
      (o.prototype.getLayout = function () {
        return this.json[this.LAYOUT]
      }),
      (o.prototype.getInitParamNum = function () {
        return this.json[this.INIT_PARAM] == null ? 0 : this.json[this.INIT_PARAM].length
      }),
      (o.prototype.getMotionNum = function (t) {
        return this.json[this.MOTION_GROUPS] == null || this.json[this.MOTION_GROUPS][t] == null
          ? 0
          : this.json[this.MOTION_GROUPS][t].length
      }),
      (o.prototype.getMotionFile = function (t, i) {
        return this.json[this.MOTION_GROUPS] == null ||
          this.json[this.MOTION_GROUPS][t] == null ||
          this.json[this.MOTION_GROUPS][t][i] == null
          ? null
          : this.json[this.MOTION_GROUPS][t][i][this.FILE]
      }),
      (o.prototype.getMotionSound = function (t, i) {
        return this.json[this.MOTION_GROUPS] == null ||
          this.json[this.MOTION_GROUPS][t] == null ||
          this.json[this.MOTION_GROUPS][t][i] == null ||
          this.json[this.MOTION_GROUPS][t][i][this.SOUND] == null
          ? null
          : this.json[this.MOTION_GROUPS][t][i][this.SOUND]
      }),
      (o.prototype.getMotionFadeIn = function (t, i) {
        return this.json[this.MOTION_GROUPS] == null ||
          this.json[this.MOTION_GROUPS][t] == null ||
          this.json[this.MOTION_GROUPS][t][i] == null ||
          this.json[this.MOTION_GROUPS][t][i][this.FADE_IN] == null
          ? 1e3
          : this.json[this.MOTION_GROUPS][t][i][this.FADE_IN]
      }),
      (o.prototype.getMotionFadeOut = function (t, i) {
        return this.json[this.MOTION_GROUPS] == null ||
          this.json[this.MOTION_GROUPS][t] == null ||
          this.json[this.MOTION_GROUPS][t][i] == null ||
          this.json[this.MOTION_GROUPS][t][i][this.FADE_OUT] == null
          ? 1e3
          : this.json[this.MOTION_GROUPS][t][i][this.FADE_OUT]
      }),
      (o.prototype.getInitParamID = function (t) {
        return this.json[this.INIT_PARAM] == null || this.json[this.INIT_PARAM][t] == null
          ? null
          : this.json[this.INIT_PARAM][t][this.ID]
      }),
      (o.prototype.getInitParamValue = function (t) {
        return this.json[this.INIT_PARAM] == null || this.json[this.INIT_PARAM][t] == null
          ? NaN
          : this.json[this.INIT_PARAM][t][this.VALUE]
      }),
      (o.prototype.getInitPartsVisibleNum = function () {
        return this.json[this.INIT_PARTS_VISIBLE] == null
          ? 0
          : this.json[this.INIT_PARTS_VISIBLE].length
      }),
      (o.prototype.getInitPartsVisibleID = function (t) {
        return this.json[this.INIT_PARTS_VISIBLE] == null ||
          this.json[this.INIT_PARTS_VISIBLE][t] == null
          ? null
          : this.json[this.INIT_PARTS_VISIBLE][t][this.ID]
      }),
      (o.prototype.getInitPartsVisibleValue = function (t) {
        return this.json[this.INIT_PARTS_VISIBLE] == null ||
          this.json[this.INIT_PARTS_VISIBLE][t] == null
          ? NaN
          : this.json[this.INIT_PARTS_VISIBLE][t][this.VALUE]
      })
  },
})
// # sourceMappingURL=L2Dwidget.0.min.js.map
